{"version":3,"file":"index.modern.js","sources":["../src/AppStore/actionsTypes.js","../src/AppStore/index.js","../src/config/index.js","../src/apiFabric.js","../src/AccessForbidden/index.js","../src/Avatar/index.js","../src/BackButton/index.js","../src/Spinner/index.js","../src/Button/index.js","../src/CheckboxField/index.js","../src/Copy/index.js","../src/CodeViewer/index.js","../src/Dropdown/index.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/parseStackParams.js","../src/utils/parseStackTabs.js","../src/utils/getFormattedDuration.js","../src/utils/fileToBaseTo64.js","../src/utils/dataFetcher.js","../src/utils.js","../src/FileDragnDrop/index.js","../src/Loader/index.js","../src/MarkdownRender/index.js","../src/Modal/index.js","../src/NotFound/index.js","../src/hooks/usePrevious.js","../src/ProgressBar/index.js","../src/TextField/index.js","../src/SearchField/index.js","../src/SelectField/index.js","../src/SliderField/index.js","../src/StackFilters/index.js","../src/StretchTitleField/index.js","../src/Tabs/index.js","../src/TextAreaField/index.js","../src/Tooltip/index.js","../src/ViewSwitcher/index.js","../src/Yield/index.js","../src/stack/Attachment/View/Table/index.js","../src/stack/Attachment/utils.js","../src/stack/Attachment/View/index.js","../src/hooks/useIntersectionObserver.js","../src/stack/Attachment/actionsTypes.js","../src/stack/Attachment/store.js","../src/stack/Attachment/actions.js","../src/stack/Attachment/index.js","../src/stack/ListItem/index.js","../src/routes.js","../src/hooks/useListViewSwitcher.js","../src/stack/List/index.js","../src/stack/HowToFetchData/index.js","../src/hooks/useOnClickOutside.js","../src/stack/Frames/index.js","../src/stack/Details/components/Loader/index.js","../src/stack/Details/components/Tabs/index.js","../src/validations/index.js","../src/hooks/useForm.js","../src/stack/Details/index.js","../src/hooks/useDebounce.js","../src/stack/Upload/index.js","../src/stack/UploadStack/Upload/index.js","../src/stack/UploadStack/index.js","../src/dnd/DnDGridContext/index.js","../src/dnd/DnDItem/index.js","../src/dashboard/Details/components/Loader/index.js","../src/dashboard/Details/components/Card/index.js","../src/dashboard/Details/index.js","../src/dashboard/ListItem/index.js","../src/dashboard/List/components/Loader/index.js","../src/dashboard/List/index.js","../src/dashboard/AddStacksModal/Loader/index.js","../src/dashboard/AddStacksModal/index.js","../src/Jobs/actions.js","../src/Jobs/List/components/Loader/index.js","../src/Jobs/utils.js","../src/Jobs/Details/components/Progress/index.js","../src/Jobs/List/components/TableRow/index.js","../src/Jobs/List/index.js","../src/Jobs/Details/components/ScheduleSettings/index.js","../src/Jobs/Details/components/CodeEditor/index.js","../src/Jobs/Details/components/Status/index.js","../src/Jobs/Details/components/Logs/index.js","../src/Jobs/Details/components/Loader/index.js","../src/Jobs/Details/index.js","../src/Jobs/index.js","../src/layouts/UnAuthorized/Header/index.js","../src/layouts/UnAuthorized/index.js","../src/settings/Information/index.js"],"sourcesContent":["export default {\n    FETCH_CURRENT_USER: 'app/user/FETCH',\n    FETCH_CURRENT_USER_SUCCESS: 'app/user/FETCH_SUCCESS',\n    FETCH_CURRENT_USER_FAIL: 'app/user/FETCH_FAIL',\n\n    START_PROGRESS: 'app/START_PROGRESS',\n    SET_PROGRESS: 'app/SET_PROGRESS',\n    COMPLETE_PROGRESS: 'app/COMPLETE_PROGRESS',\n    RESET_PROGRESS: 'app/RESET_PROGRESS',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nconst initialState = {\n    currentUser: {\n        loading: false,\n        data: null,\n    },\n    appProgress: {\n        active: null,\n        value: null,\n    },\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH_CURRENT_USER):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: true,\n                },\n            };\n\n        case (actionsTypes.FETCH_CURRENT_USER_SUCCESS):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    data: action.payload,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.FETCH_FAIL):\n            return {\n                ...state,\n                currentUser: {\n                    ...state.currentUser,\n                    loading: false,\n                },\n            };\n\n        case (actionsTypes.START_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: true,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.SET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    value: action.payload,\n                },\n            };\n\n        case (actionsTypes.COMPLETE_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: false,\n                    value: null,\n                },\n            };\n\n        case (actionsTypes.RESET_PROGRESS):\n            return {\n                ...state,\n                appProgress: {\n                    ...state.appProgress,\n                    active: null,\n                    value: null,\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const AppStoreProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useAppStore = () => useContext(StateContext);\n","export default {\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n    SUPPORT_URL: '/support/submit',\n    SIGN_UP_URL: '/users/register',\n    RESET_PASSWORD_URL: '/users/reset',\n    UPDATE_PASSWORD_URL: '/users/update/password',\n\n    USER_DATA_URL: '/users/remember',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACKS_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    JOB_LIST: userName => `/jobs/${userName}`,\n    JOB_DETAILS: (userName, id) => `/jobs/${userName}/${id}`,\n    JOB_CREATE: '/jobs/create',\n    JOB_UPDATE: '/jobs/update',\n    JOB_DELETE: '/jobs/delete',\n    JOB_RUN: '/jobs/run',\n    JOB_STOP: '/jobs/stop',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: 'https://github.com/dstackai',\n    BLOG_URL: 'https://blog.dstack.ai',\n\n    TOKEN_STORAGE_KEY: 'token',\n};\n\nexport const reportPlotPythonCode = `import matplotlib.pyplot as plt\nimport dstack as ds\n\nfig = plt.figure()\nplt.plot([1, 2, 3, 4], [1, 4, 9, 16])\n\nds.push_frame(\"simple\", fig, \"My first plot\")`;\n\nexport const installRPackageCode = 'install.packages(\"dstack\")';\n\nexport const reportPlotRCode = `library(ggplot2)\nlibrary(dstack)\n\ndf <- data.frame(x = c(1, 2, 3, 4), y = c(1, 4, 9, 16))\nimage <- ggplot(data = df, aes(x = x, y = y)) + geom_line()\n\npush_frame(\"simple\", image, \"My first plot\")`;\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from './config';\n\nconst apiFabric = ({apiUrl} = {}) => {\n    const CancelToken = axios.CancelToken;\n\n    const instance = axios.create({\n        baseURL: apiUrl,\n        crossDomain: true,\n    });\n\n    instance.cancelToken = CancelToken;\n\n    instance.interceptors.request.use(requestConfig => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        requestConfig.headers.Authorization = token ? `Bearer ${token}` : '';\n        return requestConfig;\n    });\n\n    instance.interceptors.response.use(\n        response => {\n            return response;\n        },\n        error => {\n            if (_get(error, 'response.status', null) === 401) {\n                return Promise.reject(error.response);\n            } else if (_get(error, 'response.status', null) === 400) {\n                return Promise.reject(error.response);\n            } else {\n                return Promise.reject(error);\n            }\n        }\n    );\n\n    return instance;\n};\n\nexport default apiFabric;\n\n","// @flow\nimport React from 'react';\nimport image from './lock.svg';\nimport css from './style.module.css';\n\nconst AccessForbidden = ({children}) => {\n    return (\n        <div className={css.forbidden}>\n            <img src={image} alt=\"\" width=\"85\" height=\"104\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AccessForbidden;\n","import React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    onClick?: Function,\n    withBorder?: boolean,\n    className?: string,\n    name: string,\n    color?: 'violet' | 'turquoise' | 'blue' | 'lilac' | 'pink' | 'green' | 'green2' | 'orange',\n    size?: 'small' | 'normal' | 'list',\n}\n\nconst Avatar = forwardRef(({className, name, color = 'violet', size = 'normal', withBorder, onClick}: Props, ref) => {\n    return (\n        <div ref={ref} className={cx(css.avatar, className, color, size, {border: withBorder})} onClick={onClick}>\n            {name.slice(0, 2)}\n        </div>\n    );\n});\n\nexport default Avatar;\n","import React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst BackButton = ({Component = 'button', children, className, ...props}) => {\n    return (\n        <Component className={cx(css.back, className)} {...props}>\n            <span className=\"mdi mdi-arrow-left\" />\n            {children}\n        </Component>\n    );\n};\n\nexport default BackButton;","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst COLORS = {\n    white: '#fff',\n    blue: '#507CD0',\n};\n\ntype Props = {\n    align?: 'center',\n    size?: number,\n    color?: 'white' | 'blue',\n    isShown?: boolean,\n    className?: string,\n};\n\nconst Spinner = ({size = 22, color = 'white', isShown, className, align}: Props) => {\n    return (\n        <div className={cx(css.spinner, className, align, {show: isShown})}>\n            <svg width={size} height={size} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* eslint-disable */}\n                <path\n                    d=\"M11.7046 18.9689C13.3618 18.8224 14.9321 18.1628 16.1969 17.0821C17.4617 16.0014 18.3581 14.5532 18.7614 12.9392C19.1647 11.3252 19.0548 9.62557 18.4469 8.07695C17.839 6.52832 16.7635 5.20773 15.37 4.29897C13.9765 3.39021 12.3343 2.9385 10.672 3.00671C9.00979 3.07491 7.41015 3.65964 6.09577 4.67951C4.78139 5.69938 3.81766 7.10365 3.33871 8.69687C2.85976 10.2901 2.88943 11.993 3.42358 13.5686L5.19569 12.9678C4.78648 11.7607 4.76375 10.4561 5.13067 9.23556C5.4976 8.01499 6.23591 6.93918 7.24286 6.15785C8.24981 5.37653 9.4753 4.92857 10.7488 4.87632C12.0222 4.82406 13.2803 5.17012 14.3478 5.86632C15.4154 6.56253 16.2394 7.57423 16.7051 8.76064C17.1708 9.94704 17.255 11.2491 16.946 12.4856C16.6371 13.7221 15.9503 14.8316 14.9814 15.6595C14.0124 16.4875 12.8094 16.9927 11.5398 17.105L11.7046 18.9689Z\"\n                    fill=\"url(#paint0_linear)\"\n                />\n                {/* eslint-enable */}\n\n                <defs>\n                    <linearGradient id=\"paint0_linear\" x1=\"13.5\" y1=\"18\" x2=\"4\" y2=\"13\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor={COLORS[color]} />\n                        <stop offset=\"1\" stopColor={COLORS[color]} stopOpacity=\"0.2\"/>\n                    </linearGradient>\n                </defs>\n            </svg>\n\n        </div>\n    );\n};\n\nexport default Spinner;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport type {Node} from 'react';\nimport cx from 'classnames';\nimport css from './style.module.css';\nimport Spinner from '../Spinner';\n\ntype Props = {\n    Component?: any,\n    children?: Node,\n    className?: string,\n    size?: 'small' | 'normal' | 'large',\n    color?: 'default' | 'primary' | 'secondary' | 'lilac' | 'success' | 'fail',\n    variant?: 'default' | 'contained' | 'outlined',\n    isShowSpinner?: boolean,\n    fullWidth?: boolean,\n    onClick?: Function,\n};\n\nconst Button:Props = forwardRef((\n    {\n        Component = 'button',\n        children,\n        className,\n        size = 'normal',\n        color = 'default',\n        variant = 'default',\n        fullWidth = false,\n        isShowSpinner,\n        ...props\n    },\n\n    ref\n) => {\n    return (\n        <Component\n            ref={ref}\n            className={\n                cx(css.button, size, `color-${color}`, `variant-${variant}`, className, {'full-width': fullWidth})\n            }\n\n            {...props}\n        >\n            {isShowSpinner && <Spinner className={css.spinner} color=\"white\" isShown />}\n            {children}\n        </Component>\n    );\n});\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    onChange?: Function,\n    value?: boolean,\n    appearance: 'checkbox' | 'switcher',\n    align: 'left' | 'right',\n    label?: string,\n    onLabel?: string,\n    offLabel?: string,\n    children?: any,\n}\n\nconst CheckboxField = ({\n    className,\n    value,\n    disabled,\n    appearance = 'checkbox',\n    align = 'left',\n    label,\n    onLabel,\n    offLabel,\n    children,\n    ...props\n}: Props) => {\n    return (\n        <label className={cx(css.checkbox, className, appearance, align, {disabled})}>\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={value}\n                    {...props}\n                />\n\n                {offLabel && <span\n                    className={cx(css['toggle-label'], 'off')}\n                    dangerouslySetInnerHTML={{__html: offLabel}}\n                />}\n\n                <div className={css.wrapper}>\n                    <div className={cx(css.mark, 'mdi', 'mdi-check', {'toggle-color': !(onLabel && offLabel)})} />\n                </div>\n\n                {onLabel && <span\n                    className={cx(css['toggle-label'], 'on')}\n                    dangerouslySetInnerHTML={{__html: onLabel}}\n                />}\n\n                {label && <span className={css.label}>{label}</span>}\n            </div>\n\n            {children}\n        </label>\n    );\n};\n\nexport default CheckboxField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport copy from 'copy-to-clipboard';\nimport {useTranslation} from 'react-i18next';\nimport css from './styles.module.css';\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    copyText: string,\n    buttonTitle?: string,\n    successMessage?: string,\n};\n\nconst Copy = ({children, className, copyText, successMessage, buttonTitle}: Props) => {\n    const {t} = useTranslation();\n    const [isShowMessage, setIsShowMessage] = useState(false);\n\n    const onCLick = () => {\n        copy(copyText);\n        setIsShowMessage(true);\n        setTimeout(() => setIsShowMessage(false), 3000);\n    };\n\n    return <div className={cx(css.copy, className)}>\n        {children\n            ? children({onClick: onCLick})\n            : (\n                <div className={css.button} onClick={onCLick}>\n                    <span className={cx(css.icon, 'mdi mdi-content-copy')} />\n\n                    {buttonTitle\n                        ? buttonTitle\n                        : t('copy')\n                    }\n                </div>\n            )\n        }\n\n        <div className={cx(css.message, {'is-show': isShowMessage})}>\n            {successMessage\n                ? successMessage\n                : t('copied')\n            }\n        </div>\n    </div>;\n};\n\nexport default Copy;\n","// @flow\n\nimport React from 'react';\nimport Highlight from 'react-highlight.js';\nimport {useTranslation} from 'react-i18next';\nimport Copy from '../Copy';\nimport cx from 'classnames';\nimport './theme.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    language: string,\n    children: string,\n    fontSize?: string | number\n};\n\nconst CodeViewer = ({className, language, children, fontSize}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.code, className, fontSize && `font-size-${fontSize}`)}>\n            <Highlight language={language}>\n                {children}\n            </Highlight>\n\n            <Copy\n                className={css.copy}\n                copyText={children}\n                successMessage={t('snippetIsCopied')}\n            />\n        </div>\n    );\n};\n\nexport default CodeViewer;\n","// @flow\nimport React, {useState, useEffect, useRef} from 'react';\nimport cx from 'classnames';\nimport RcTooltip from 'rc-tooltip';\nimport css from './styles.module.css';\n\ntype Item = {\n    title: string,\n    onClick?: Function,\n}\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    buttonClassName?: string,\n    items: Array<Item>\n}\n\nconst Dropdown = ({className, buttonClassName, children, items}: Props) => {\n    const [isShow, setIsShow] = useState(false);\n    const buttonRef = useRef(null);\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n        document.body.addEventListener('click', outlineClickHandle);\n        return () => document.body.removeEventListener('click', outlineClickHandle);\n    });\n\n    const outlineClickHandle = (event: SyntheticEvent<HTMLBodyElement>) => {\n        let targetElement = event.target;\n\n        do {\n            if (targetElement === buttonRef.current || targetElement === dropdownRef.current)\n                return;\n\n            targetElement = targetElement.parentNode;\n        } while (targetElement);\n\n        if (isShow)\n            setIsShow(false);\n    };\n\n    const onCLickButton = (event: SyntheticEvent<HTMLButtonElement>) => {\n        clickStopPropagation(event);\n        setIsShow(!isShow);\n    };\n\n    const clickStopPropagation = (event: SyntheticEvent<HTMLButtonElement>) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    const onCLickItem = (item: Item) => () => {\n        setIsShow(!isShow);\n\n        if (item.onClick)\n            item.onClick();\n    };\n\n    return (\n        <div className={cx(css.dropdown, className, {active: isShow})}>\n            <RcTooltip\n                arrowContent={null}\n                visible={isShow}\n                placement=\"bottomRight\"\n                destroyTooltipOnHide\n                align={{offset: [0, 0]}}\n\n                overlay={\n                    <div\n                        className={cx(css.menu, 'show')}\n                        ref={dropdownRef}\n                        onClick={clickStopPropagation}\n                    >\n                        {items.map((i, index) => <div\n                            key={index}\n                            className={css.item}\n                            onClick={onCLickItem(i)}\n                        >\n                            {i.title}\n                        </div>)}\n                    </div>\n                }\n            >\n                {children\n                    ? React.cloneElement(children, {\n                        onClick: onCLickButton,\n                        ref: buttonRef,\n                    })\n                    : <div ref={buttonRef} className={cx(css.button, buttonClassName)} onClick={onCLickButton}>\n                        <span className=\"mdi mdi-dots-vertical\" />\n                    </div>\n                }\n            </RcTooltip>\n        </div>\n    );\n};\n\nexport default Dropdown;\n","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","export default attachments => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object)\n                return;\n\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};\n","export default attachments => {\n    const tabs = [];\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object\n                && i.params[key].type === 'tab'\n            ) {\n                const tab = i.params[key].title || key;\n\n                if (!tabs.find(i => i.value === tab))\n                    tabs.push({\n                        label: tab,\n                        value: tab,\n                        key,\n                    });\n            }\n        });\n    });\n\n    return tabs;\n};\n","import moment from 'moment';\n\nexport default duration => {\n    if (duration < 1000)\n        return '0sec';\n\n    let string = '';\n\n    const momentDuration = moment.duration(duration);\n    const hours = momentDuration.hours();\n    const minutes = momentDuration.minutes();\n    const seconds = momentDuration.seconds();\n\n    if (hours)\n        string += `${moment.duration(hours, 'hours').as('hours')}h`;\n\n    if (minutes)\n        string += ` ${moment.duration(minutes, 'minutes').as('minutes')}min`;\n\n    if (seconds)\n        string += ` ${moment.duration(seconds, 'seconds').asSeconds()}sec`;\n\n    return string;\n};","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst fetcher = async (url: string, responseDataFormat = data => data) => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    try {\n        const request = await axios({\n            url: url,\n            headers: {Authorization: token ? `Bearer ${token}` : ''},\n        });\n\n        return responseDataFormat(request.data);\n    } catch (e) {\n        let errorBody = null;\n\n        let status = null;\n\n        try {\n            errorBody = JSON.parse(_get(e, 'request.response'));\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            status = _get(e, 'request.status');\n        } catch (e) {\n            console.log(e);\n        }\n\n        const error = new Error('An error occurred while fetching the data.');\n\n        error.info = errorBody;\n        error.status = status;\n        throw error;\n    }\n};\n\nexport default fetcher;\n","import parseSearch from './utils/parseSearch';\nimport getDataFailedRequest from './utils/getDataFailedRequest';\nimport unicodeBase64Decode from './utils/unicodeBase64Decode';\nimport formatBytes from './utils/formatBytesSize';\nimport downloadFile from './utils/downloadFile';\nimport parseStackParams from './utils/parseStackParams';\nimport parseStackTabs from './utils/parseStackTabs';\nimport getFormattedDuration from './utils/getFormattedDuration';\nimport fileToBaseTo64 from './utils/fileToBaseTo64';\nimport dataFetcher from './utils/dataFetcher';\nimport config from './config';\n\nconst isSignedIn = () => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    return Boolean(token && token.length);\n};\n\nexport {\n    isSignedIn,\n    downloadFile,\n    formatBytes,\n    parseSearch,\n    getDataFailedRequest,\n    unicodeBase64Decode,\n    parseStackParams,\n    parseStackTabs,\n    getFormattedDuration,\n    fileToBaseTo64,\n    dataFetcher\n};\n","// @flow\nimport React, {useEffect, useRef, useState, forwardRef, useImperativeHandle} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {formatBytes} from '../utils';\nimport Button from '../Button';\nimport css from './style.module.css';\n\ntype Props = {\n    formats?: Array<string>,\n    className?: string,\n    loading?: boolean,\n    progressPercent?: ?number,\n    onChange?: Function,\n}\n\nconst FileDragnDrop = ({\n    formats,\n    className,\n    loading,\n    progressPercent = null,\n    onChange,\n}: Props, ref) => {\n    const {t} = useTranslation();\n    const inputRef = useRef(null);\n    const [active, setActive] = useState(false);\n    const [selectedFile, setSelectedFile] = useState();\n    const isDidMount = useRef(true);\n\n    useImperativeHandle(ref, () => ({clear: () => removeFile()}));\n\n    useEffect(() => {\n        if (!isDidMount.current) {\n            if (onChange)\n                onChange(selectedFile);\n        } else\n            isDidMount.current = false;\n    }, [selectedFile]);\n\n    const onClick = event => {\n        event.preventDefault();\n\n        if (inputRef.current)\n            inputRef.current.click();\n    };\n\n    const preventStop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const onDrop = event => {\n        preventStop(event);\n        setActive(false);\n\n        const [file] = event.dataTransfer.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const onDragEnter = event => {\n        preventStop(event);\n        setActive(true);\n\n    };\n\n    const onDragLeave = event => {\n        preventStop(event);\n        setActive(false);\n    };\n\n    const onChangeInput = event => {\n        const [file] = event.target.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const removeFile = () => {\n        setSelectedFile(null);\n    };\n\n    const checkAvailableExtension = file => {\n        const ext = '.' + file.name.split('.').pop();\n\n        let isAvailable;\n\n        if (formats && formats.length)\n            isAvailable = formats.some(format => {\n                if (format === '.jpg' || format === '.jpeg')\n                    return ext === '.jpg' || ext === '.jpeg';\n                else\n                    return format === ext;\n            });\n        else\n            isAvailable = true;\n\n        return isAvailable;\n    };\n\n    if (loading)\n        return (\n            <div className={cx(css.dnd, className, {active})}>\n                <div className={css.loading}>\n                    {t('Uploading')}&hellip;\n                    {typeof progressPercent === 'number' && `${progressPercent}%`}\n                </div>\n\n                {typeof progressPercent === 'number' &&  (\n                    <div className={css.progressBar}>\n                        <div className={css.progress} style={{width: `${progressPercent}%`}} />\n                    </div>\n                )}\n            </div>\n        );\n\n    if (selectedFile)\n        return (\n            <div className={cx(css.fileWrapper, className)}>\n                <div className={css.file}>\n                    <div className={css.fileExtend}>\n                        {selectedFile.name.split('.').pop()}\n                    </div>\n\n                    <div className={css.fileSection}>\n                        <div className={css.fileName}>{selectedFile.name}</div>\n                        <div className={css.fileSize}>{formatBytes(selectedFile.size)}</div>\n                    </div>\n\n                    <div onClick={removeFile} className={cx(css.fileRemove, 'mdi mdi-close')} />\n                </div>\n            </div>\n        );\n\n\n    return (\n        <div\n            className={cx(css.dnd, className, {active})}\n            onDrop={onDrop}\n            onDragEnter={onDragEnter}\n            onDragOver={onDragEnter}\n            onDragLeave={onDragLeave}\n        >\n            <input\n                ref={inputRef}\n                onChange={onChangeInput}\n                type=\"file\"\n            />\n\n            <div className={css.placeholder}>\n                {t('dragHereAFile')}\n                {''}\n                {Boolean(formats) && `(${formats.join(', ')})`}\n                {' '}\n                {t('or')}\n                {' '}\n            </div>\n\n            <Button\n                className={css.button}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={onClick}\n            >\n                {t('chooseAFile')}\n            </Button>\n        </div>\n    );\n};\n\nexport default forwardRef(FileDragnDrop);\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport MathJax from 'react-mathjax';\nimport RemarkMathPlugin from 'remark-math';\n\nconst MarkdownRender = props => {\n    const newProps = {\n        ...props,\n        plugins: [\n            RemarkMathPlugin,\n        ],\n\n        renderers: {\n            ...props.renderers,\n            math: props =>\n                <MathJax.Node formula={props.value} />,\n            inlineMath: props =>\n                <MathJax.Node inline formula={props.value} />,\n        },\n    };\n\n    return (\n        <MathJax.Provider input=\"tex\">\n            <ReactMarkdown {...newProps} />\n        </MathJax.Provider>\n    );\n};\n\nexport default MarkdownRender;","// @flow\n\nimport React from 'react';\nimport type {Node} from 'react';\nimport {Portal} from 'react-portal';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    title?: string,\n    isShow?: boolean,\n    className?: string,\n    dialogClassName?: string,\n    size?: 'confirmation' | 'small' | 'big',\n    onClose: Function,\n    children?: Node,\n    withCloseButton?: boolean,\n};\n\nconst Modal = ({\n    title,\n    className,\n    dialogClassName,\n    size = 'big',\n    onClose,\n    isShow,\n    children,\n    withCloseButton,\n}: Props) => {\n    const onClickByLayer = event => {\n        if (event.currentTarget === event.target && onClose)\n            onClose();\n    };\n\n    return (\n        <Portal>\n            <div className={cx(css.modal, className, {show: isShow})} onClick={onClickByLayer}>\n                <div className={cx(css.dialog, size, dialogClassName)}>\n                    {withCloseButton && <span className={cx(css.close, 'mdi mdi-close')} onClick={onClose} />}\n\n                    {title && <div className={css.title}>{title}</div>}\n                    {children}\n                </div>\n            </div>\n        </Portal>\n    );\n};\n\nexport default Modal;\n","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport config from '../config';\nimport image from './404.svg';\nimport css from './style.module.css';\n\nconst NotFound = ({children}) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css['not-found']}>\n            <img src={image} alt=\"\" width=\"224\" height=\"77\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n\n            <div className={css.help}>\n                {t('needHelpWWriteToUsOn')}\n                {' '}\n                <a target=\"_blank\" href={config.TWITTER_URL}><span className=\"mdi mdi-twitter\" /> Twitter</a>\n                {', '}\n                <a target=\"_blank\" href={config.GITHUB_URL}><span className=\"mdi mdi-github-circle\" />GitHub</a>\n                {' '}\n                {t('or')}\n                {' '}\n                <a target=\"_blank\" href={config.DISCORD_URL}><span className=\"mdi mdi-discord\" />Discord</a>\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;\n","import {useEffect, useRef} from 'react';\n\nexport default value => {\n    const ref = useRef(value);\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport usePrevious from '../hooks/usePrevious';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    isActive: ?boolean,\n}\n\nconst ProgressBar = ({className, isActive, progress: globalProgress}: Props) => {\n    const [progress, setProgress] = useState(0);\n    const [width, setWidth] = useState(1000);\n    const prevIsActive = usePrevious(isActive);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const requestFrame = useRef(null);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(0);\n        }\n    }, [isActive]);\n\n    useEffect(() => {\n        if (globalProgress !== null)\n            setProgress(globalProgress);\n        else {\n            setProgress(0);\n        }\n    }, [globalProgress]);\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize);\n\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n\n        return () => window.removeEventListener('resize', onResize);\n    }, []);\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    const calculateProgress = () => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100 || !isActive)\n            cancelAnimationFrame(requestFrame.current);\n\n        if (isActive)\n            requestFrame.current = requestAnimationFrame(calculateProgress);\n    };\n\n    const onResize = () => {\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n    };\n\n    return (\n        <div ref={ref} className={cx(css.bar, className)}>\n            <div\n                className={css.progress}\n                style={{\n                    width: `${progress}%`,\n                    backgroundSize: `${width}px 5px`,\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.input}>\n                    {/*$FlowFixMe*/}\n                    <input\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport TextField from '../TextField';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    showEverything?: boolean,\n    isDark?: boolean,\n}\n\nconst SearchField = ({className, showEverything, isDark, ...props}: Props) => {\n    const [isShow, setIsShow] = useState(showEverything || (props.value && props.value.length));\n\n    const clear = () => {\n        if (props.onChange)\n            props.onChange('');\n\n        if (!showEverything)\n            setIsShow(false);\n    };\n\n    const onChangeHandle = (event:SyntheticEvent<HTMLInputElement>) => {\n        if (props.onChange)\n            props.onChange(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.search, className, {'is-dark': isDark})}>\n            {isShow && <TextField\n                {...props}\n                onChange={onChangeHandle}\n                className={css.field}\n            />}\n\n            {isShow && Boolean(props.value && props.value.length) && (\n                <div className={css.clear} onClick={clear}>\n                    <span className=\"mdi mdi-close\" />\n                </div>\n            )}\n\n            {isShow && !Boolean(props.value && props.value.length) && (\n                <div className={css.clear}>\n                    <span className=\"mdi mdi-magnify\" />\n                </div>\n            )}\n\n            {!isShow && <div className={css.button} onClick={() => setIsShow(true)}>\n                <span className=\"mdi mdi-magnify\" />\n            </div>}\n        </div>\n    );\n};\n\nexport default SearchField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Select, {Option, OptGroup} from 'rc-select';\nimport CheckboxField from '../CheckboxField';\nimport css from './styles.module.css';\nimport './test.css';\n\nconst allValue = 'all';\n\ntype Props = {\n    className?: string,\n    disabled?: boolean,\n    placeholder?: string,\n    showSearch?: boolean,\n    value: Array<string>,\n    mode?: string,\n    align: 'left' | 'right' | 'bottom',\n    label?: string,\n\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n}\n\nconst SelectField = ({\n    align = 'left',\n    label,\n    disabled,\n    placeholder,\n    value: propValue = [],\n    className,\n    mode,\n    onChange,\n    options = [],\n    showSearch = true,\n    ...props\n}: Props) => {\n    const onChangeHandle = (value: Array<string>) => {\n        if (value.indexOf(allValue) >= 0)\n            if (value.length > options.length)\n                value = [];\n            else\n                value = options.map(o => o.value);\n\n        if (onChange)\n            onChange(value);\n    };\n\n    const onSelect = () => {};\n\n    const onDeselect = () => {};\n\n    const renderOptions = () => options.map(({value, label}) => (\n        <Option key={value} value={value}>\n            {mode === 'multiple' && <CheckboxField\n                readOnly\n                className=\"select-field-item-option-checkbox\"\n                value={propValue.indexOf(value) >= 0}\n            />}\n\n            <span className=\"select-field-item-option-label\">{label}</span>\n        </Option>\n    ));\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <Select\n                value={propValue}\n                // animation={useAnim ? 'slide-up' : null}\n                // choiceTransitionName=\"rc-select-selection__choice-zoom\"\n                prefixCls=\"select-field\"\n                multiple={mode === 'multiple'}\n                showArrow\n                showSearch={showSearch}\n                onSelect={onSelect}\n                onDeselect={onDeselect}\n                placeholder={placeholder}\n                onChange={onChangeHandle}\n                inputIcon={<span className=\"mdi mdi-chevron-down\" />}\n                {...props}\n            >\n                {options.length && mode === 'multiple' && <Option key={allValue} value={allValue}>\n                    <CheckboxField\n                        readOnly\n                        className=\"select-field-item-option-checkbox\"\n                        value={propValue.length === options.length}\n                    />\n\n                    <span className=\"select-field-item-option-label\">Select all</span>\n                </Option>}\n\n                {mode === 'multiple'\n                    ? <OptGroup>{renderOptions()}</OptGroup>\n                    : renderOptions()\n                }\n            </Select>\n\n            {label && <label className={css.label}>{label}</label>}\n        </div>\n    );\n};\n\nexport default SelectField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport css from './styles.module.css';\nimport './test.css';\n\ntype Props = {\n    name?: string,\n    label?: string,\n    className?: string,\n    align: 'left' | 'right',\n};\n\nconst CustomHandle = props => {\n    const style = {\n        left: props.offset + '%',\n        transform: 'translateX(-50%)',\n    };\n\n    return (\n        <div className={props.className} key={props.index} style={style} data-value={props.value} />\n    );\n};\n\nconst SliderField = ({className, disabled, label, onChange, name, align = 'left', ...props}: Props) => {\n    const onChangeHandle = value => {\n        if (onChange)\n            onChange({\n                target: {\n                    value,\n                    name,\n                },\n            });\n    };\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <div className={css.slider}>\n                <Slider\n                    onChange={onChangeHandle}\n                    tipFormatter={value => `$${value}`}\n                    handle={CustomHandle}\n                    {...props}\n                />\n            </div>\n\n            {label && <span className={css.label}>{label}</span>}\n        </div>\n    );\n};\n\nexport default SliderField;\n","// @flow\nimport React, {useMemo} from 'react';\nimport cx from 'classnames';\nimport SelectField from '../SelectField';\nimport CheckboxField from '../CheckboxField';\nimport SliderField from '../SliderField';\nimport css from './styles.module.css';\n\ntype Props = {\n    fields: {},\n    form: {},\n    onChange: Function,\n    className?: string,\n}\n\nconst StackFilters = ({className, fields, form, onChange}: Props) => {\n    const hasSelectField = useMemo(\n        () => Object.keys(fields).some(key => fields[key].type === 'select'),\n        [fields],\n    );\n\n    if (!Object.keys(fields).length)\n        return null;\n\n    return (\n        <div className={cx(css.filters, className, {'with-select': hasSelectField})}>\n            {Object.keys(fields).map(key => {\n                switch (fields[key].type) {\n                    case 'select':\n                        return <SelectField\n                            key={`select-${key}`}\n                            align=\"bottom\"\n                            className={cx(css.field, css.select)}\n                            onChange={value => onChange(key, value)}\n                            label={key}\n                            name={key}\n                            options={fields[key].options}\n                            value={Array.isArray(form[key]) ? form[key] : [form[key]]}\n                        />;\n\n                    case 'checkbox':\n                        return <CheckboxField\n                            key={`checkbox-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                        />;\n\n                    case 'slider':\n                        return <SliderField\n                            key={`slider-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            align=\"right\"\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                            step={null}\n                            min={fields[key].min}\n                            max={fields[key].max}\n                            marks={fields[key].options}\n                        />;\n\n                    default:\n                        return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default StackFilters;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTitleField = ({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={cx(css.field, className)}>\n            <input\n                type=\"text\"\n                placeholder={placeholder}\n                value={value}\n                onChange={onChange}\n                {...props}\n            />\n\n            <div className={css.hidden}>\n                {value.length ? value : placeholder}\n            </div>\n        </div>\n    );\n};\n\nexport default StretchTitleField;\n","// @flow\n\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    tabs: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, tabs, onChange}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {tabs.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {active: value === i.value})}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                    {i.soon && <span className={css.soon}>{t('soon')}</span>}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextAreaField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.textarea}>\n                    {/*$FlowFixMe*/}\n                    <textarea\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextAreaField;\n","// @flow\nimport React from 'react';\nimport RcTooltip from 'rc-tooltip';\nimport css from './style.module.css';\n\ntype Props = {\n    children: any,\n    overlayContent?: any,\n    arrowContent?: any,\n}\n\nconst Tooltip = ({\n    children,\n    overlayContent,\n    arrowContent = null,\n    placement = 'bottomLeft',\n    trigger = ['hover'],\n    overlayStyle = {pointerEvents: 'none'},\n    ...props\n}: Props) => {\n\n    return (\n        <RcTooltip\n            overlayStyle={overlayStyle}\n            arrowContent={arrowContent}\n            placement={placement}\n            trigger={trigger}\n            overlay={\n                <div className={css.tooltip}>{overlayContent}</div>\n            }\n            {...props}\n        >\n            {children}\n        </RcTooltip>\n    );\n};\n\nexport default Tooltip;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    value?: 'grid' | 'list',\n    onChange?: Function,\n    className?: string,\n}\n\nconst ViewSwitcher = ({value = 'grid', onChange, className}: Props) => {\n    const [stateValue, setStateValue] = useState(value);\n\n    useEffect(() => {\n        if (value !== stateValue)\n            setStateValue(value);\n\n    }, [value]);\n\n    const toggleValue = () => {\n        const newValue = stateValue === 'grid' ? 'list' : 'grid';\n\n        setStateValue(newValue);\n\n        if (onChange)\n            onChange(newValue);\n    };\n\n    return (\n        <div\n            className={cx(css.switcher, stateValue, className)}\n            onClick={toggleValue}\n        >\n            <span className=\"mdi mdi-view-grid\" />\n            <span className=\"mdi mdi-view-list\" />\n        </div>\n    );\n};\n\nexport default ViewSwitcher;","import React from 'react';\nimport {Portal} from 'react-portal';\n\nconst Yield = ({name, className, children}) => {\n    if (!name)\n        return null;\n\n    if (children) {\n        const node = document && document.getElementById(name);\n\n        if (!node)\n            return null;\n\n        return (\n            <Portal node={node}>\n                {children}\n            </Portal>\n        );\n    }\n\n    return (\n        <div className={className} id={name} />\n    );\n};\n\nexport default Yield;\n","\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Array<Array<string>>,\n}\n\nconst Table = ({data}: Props) => {\n    const [captions, ...rows] = data;\n\n    return (\n        <div className={css.table}>\n            <table>\n                <thead>\n                    <tr>\n                        {captions.map(caption => (\n                            <th key={caption}>{caption}</th>\n                        ))}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {rows.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((cell, i) => (\n                                <td key={i}>{cell}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","export const isImageType = type => /^image/.test(type);\n\nexport const base64ToJSON = (base64: string) => {\n    let parsedJSON;\n\n    try {\n        parsedJSON = JSON.parse(atob(base64));\n    } catch (e) {\n        console.log(e);\n    }\n\n    return parsedJSON;\n};\n","import React, {memo, useEffect, useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Plot from 'react-plotly.js';\nimport {isEqual, get} from 'lodash-es';\nimport {unicodeBase64Decode} from '../../../utils';\nimport Table from './Table';\nimport {isImageType, base64ToJSON} from '../utils';\nimport * as CSV from 'csv-string';\nimport css from './styles.module.css';\n\nconst base64ImagePrefixes = {\n    'image/svg+xml': 'data:image/svg+xml;charset=utf-8;',\n    'image/png': 'data:image/png;charset=utf-8;',\n    'image/jpeg': 'data:image/jpeg;charset=utf-8;',\n};\n\n\nconst View = ({frameId, attachment, fullAttachment, isList, className, requestStatus}) => {\n    const {t} = useTranslation();\n    const viewRef = useRef();\n    const [tableScale, setTableScale] = useState(1);\n    const [viewWidth, setVieWidth] = useState(0);\n    const [noRender, setNoRender] = useState(false);\n\n    const onResizeCard = () => {\n        if (viewRef.current) {\n            const containerWidth = viewRef.current.parentElement.offsetWidth;\n            const viewWidth = viewRef.current.offsetWidth / tableScale;\n\n            let newScale = containerWidth / viewWidth;\n\n            if (newScale > 1)\n                newScale = 1;\n\n            setTableScale(newScale);\n            setVieWidth(containerWidth);\n        }\n    };\n\n    useEffect(() => {\n        if (window && isList)\n            window.addEventListener('resize', onResizeCard);\n\n        return () => {\n            if (window && isList)\n                window.removeEventListener('resize', onResizeCard);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (noRender)\n            setNoRender(false);\n    }, [noRender]);\n\n    useEffect(() => {\n        if (attachment && attachment['application'] === 'plotly') {\n            setNoRender(true);\n        }\n        if (attachment && attachment['application'] === 'bokeh') {\n            let Bokeh;\n            const json = base64ToJSON(attachment.data);\n            const version = get(attachment, 'settings.bokeh_version');\n\n            if (version && parseInt(version.split('.')[0], 10) === 2) {\n                Bokeh = window.Bokeh['2.2.1'];\n            } else {\n                Bokeh = window.Bokeh;\n            }\n\n            if (json && document.querySelector(`#bokeh-${frameId}`))\n                Bokeh.embed.embed_item(json, `bokeh-${frameId}`);\n        }\n\n        if (isList)\n            setTimeout(() => onResizeCard(), 10);\n\n    }, [attachment]);\n\n    const renderImage = () => {\n        if (!attachment.preview)\n            return (\n                <img\n                    src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                    alt=\"\"\n                />\n            );\n        else if (fullAttachment) {\n            if (fullAttachment['download_url']) {\n                return (\n                    <img src={fullAttachment['download_url']} alt=\"\"/>\n                );\n            } else\n                return (\n                    <img\n                        src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                        alt=\"\"\n                    />\n                );\n        }\n\n        return null;\n    };\n\n    const renderCSV = () => {\n        const decodeCSV = unicodeBase64Decode(attachment.data);\n\n        if (decodeCSV) {\n            const data = CSV.parse(decodeCSV);\n\n            if (Array.isArray(data) && data.length)\n                return (\n                    <Table\n                        data={data}\n                    />\n                );\n        }\n\n        return (\n            <div className={css.text}>{t('notSupportedAttachment')}</div>\n        );\n    };\n\n    const renderPlotly = () => {\n        const json = base64ToJSON(attachment.data);\n\n        if (!json)\n            return null;\n\n        json.layout.width = viewWidth;\n        json.layout.margin = 0;\n        json.layout.autosize = true;\n\n        if (json.config)\n            json.config.responsive = true;\n        else\n            json.config = {responsive: true};\n\n        return (\n            <Plot\n                {...json}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                }}\n                useResizeHandler\n            />\n        );\n    };\n\n    const renderBokeh = () => <div id={`bokeh-${frameId}`} />;\n\n    const renderAttachment = () => {\n        if (noRender)\n            return null;\n\n        if (requestStatus === 404 && isList)\n            return <div className={css.message}>{t('notFound')}</div>;\n\n        if (requestStatus === 404 && !isList)\n            return <div className={css.text}>{t('noPreview')}</div>;\n\n        if (attachment.preview && isList && isImageType(attachment['content_type']))\n            return <div className={css.message}>{t('noPreview')}</div>;\n\n        switch (true) {\n            case (attachment['content_type'] === 'image/svg+xml'):\n            case (attachment['content_type'] === 'image/png'):\n            case (attachment['content_type'] === 'image/jpeg'):\n                return renderImage();\n\n            case (attachment['content_type'] === 'text/csv'):\n                return renderCSV();\n\n            case (attachment['application'] === 'plotly'):\n                return renderPlotly();\n\n            case (attachment['application'] === 'bokeh'):\n                return renderBokeh();\n\n            case undefined:\n            case isEqual(attachment, {}):\n                return null;\n\n            default:\n                return <div className={isList ? css.message : css.text}>{t('notSupportedAttachment')}</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={viewRef}\n            className={cx(css.view, className, {\n                'table': (attachment && attachment.data && attachment['content_type'] === 'text/csv'),\n                'bokeh': (attachment && attachment.data && attachment['application'] === 'bokeh'),\n            })}\n\n            style={\n                (attachment && attachment['content_type'] === 'text/csv')\n                    ? {transform: `scale(${tableScale})`}\n                    : {}\n            }\n        >\n            {renderAttachment()}\n        </div>\n    );\n};\n\n\nconst areEqual = (prevProps, nextProps) => {\n    return isEqual(prevProps.attachment, nextProps.attachment);\n};\n\nexport default memo(View, areEqual);\n","// @flow\nimport {useCallback, useEffect, useRef} from 'react';\n\nexport default (\n    callBack: Function,\n\n    {\n        rootMargin = '0px',\n        threshold = 0.01,\n        root = null,\n    }: {[key: string]: any},\n\n    deps: Array<any>\n) => {\n    const ref = useRef(null);\n\n    const intersectionCallback = useCallback(([target]) => {\n        if (target.isIntersecting) {\n            callBack();\n        }\n    }, deps);\n\n    useEffect(() => {\n        const options = {\n            root,\n            rootMargin,\n            threshold,\n        };\n\n        const observer = new IntersectionObserver(intersectionCallback, options);\n\n        if (ref && ref.current)\n            observer.observe(ref.current);\n\n        return () => {\n            if (ref.current)\n                observer.unobserve(ref.current);\n        };\n    }, [ref, intersectionCallback]);\n\n    return [ref];\n};","export default {\n    FETCH: 'stacks/attachments/FETCH',\n    FETCH_SUCCESS: 'stacks/attachments/FETCH_SUCCESS',\n    FETCH_FAIL: 'stacks/attachments/FETCH_FAIL',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nconst initialState = {\n    data: {},\n    errors: {},\n    requestStatus: null,\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...(\n                                state.data[action.meta.frameId]\n                                    ? state.data[action.meta.frameId][action.meta.id]\n                                    : {}\n                            ),\n\n                            loading: true,\n                            requestStatus: null,\n                            error: null,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_SUCCESS):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...action.payload,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_FAIL):\n            return {\n                ...state,\n\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            error: action.payload.error,\n                            requestStatus: action.payload.requestStatus,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport actionsTypes from './actionsTypes';\nimport config from '../../config';\nimport {useStateValue} from './store';\n\nexport default () => {\n    const [{apiUrl}, dispatch] = useStateValue();\n\n    const fetchAttachment = async (stack, frameId, id, onSuccess) => {\n        const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n        dispatch({\n            type: actionsTypes.FETCH,\n            meta: {frameId, id},\n        });\n\n        try {\n            const request = await axios({\n                baseURL: apiUrl,\n                url: config.STACK_ATTACHMENT(stack, frameId, id),\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n            });\n\n            dispatch({\n                type: actionsTypes.FETCH_SUCCESS,\n                meta: {frameId, id},\n                payload: request.data.attachment,\n            });\n\n            if (onSuccess)\n                onSuccess();\n        } catch (e) {\n            let error = 'Unknown error';\n\n            try {\n                error = JSON.parse(_get(e, 'request.response')).message;\n            } catch (e) {\n                console.log(error);\n            }\n\n            dispatch({\n                type: actionsTypes.FETCH_FAIL,\n                meta: {frameId, id},\n                payload: {error},\n            });\n        }\n    };\n\n    return {fetchAttachment};\n};\n","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {get, isEqual} from 'lodash-es';\nimport View from './View';\nimport config from '../../config';\nimport useIntersectionObserver from '../../hooks/useIntersectionObserver';\nimport usePrevious from '../../hooks/usePrevious';\nimport actions from './actions';\nimport {isImageType} from './utils';\nimport {useStateValue} from './store';\nimport css from './styles.module.css';\n\ntype Props = {\n    id: number,\n    frameId: string,\n    stack: string,\n    className?: string,\n    withLoader?: boolean,\n}\n\nconst Attachment = ({\n    id,\n    className,\n    frameId,\n    isList,\n    withLoader,\n    stack,\n}: Props) => {\n    const {fetchAttachment} = actions();\n    const [{data, apiUrl}] = useStateValue();\n    const attachment = get(data, `${frameId}.${id}`, {});\n    const {loading, error, requestStatus} = attachment;\n    const [loadingFullAttachment, setLoadingFullAttachment] = useState(false);\n    const [fullAttachment, setFullAttachment] = useState(null);\n    const prevAttachment = usePrevious(attachment);\n\n    const fetchFullAttachment = async () => {\n        setLoadingFullAttachment(true);\n\n        try {\n            const url = config.STACK_ATTACHMENT(stack, frameId, id) + '?download=true';\n            const {data} = await axios({\n                baseUrl: apiUrl,\n                url,\n            });\n\n            setFullAttachment(data.attachment);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setLoadingFullAttachment(false);\n    };\n\n    useEffect(() => {\n        if (!isList && attachment\n            && !isEqual(prevAttachment, attachment)\n            && attachment.preview\n            && isImageType(attachment['content_type'])\n        ) {\n            fetchFullAttachment();\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (!isList\n            && (typeof id === 'number' && frameId)\n            && ((!attachment.data && !error) || (attachment?.index !== id))\n        ) {\n            fetchAttachment(stack, frameId, id);\n        }\n    }, [id, frameId]);\n\n    const [ref] = useIntersectionObserver(() => {\n        if (isList && !loading && (\n            (!attachment.data && !error)\n            || (attachment.data && attachment.index !== id)\n        ))\n            fetchAttachment(stack, frameId, id);\n    }, {}, [id, frameId, data]);\n\n    return (\n        <div\n            ref={ref}\n            className={cx(css.attachment, className, {\n                'is-list': isList,\n                loading: loading && withLoader || loadingFullAttachment,\n            })}\n        >\n            {!loading && (\n                <View\n                    requestStatus={requestStatus}\n                    className={css.view}\n                    isList={isList}\n                    fullAttachment={fullAttachment}\n                    attachment={attachment}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default Attachment;\n","import React, {useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport cn from 'classnames';\nimport chartIcon from './assets/chart.svg';\n// import tableIcon from './assets/table.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    userData: {user: string},\n\n    data: {\n        user: string,\n        name: string,\n        head: {id: string}\n    },\n\n    deleteAction?: Function,\n    renderContent?: Function,\n};\n\nconst Item = ({\n    className,\n    Component = 'div',\n    data,\n    deleteAction,\n    renderContent,\n    ...rest\n}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const onClickDelete = event => {\n        event.stopPropagation();\n        event.preventDefault();\n        deleteAction(data.name);\n    };\n\n    return (\n        <Component\n            className={cn(css.item, className)}\n            ref={ref}\n            {...rest}\n        >\n            <div className={css.icon}>\n                <img src={chartIcon} alt=\"\" />\n            </div>\n\n            <div className={css.top}>\n                <div className={css.name}>{data.name}</div>\n                <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n\n                {renderContent && (\n                    <div className={css.additional}>\n                        {renderContent(data)}\n                    </div>\n                )}\n            </div>\n\n            {data.head && (\n                <div className={css.date}>{t('updated')} {moment(data.head.timestamp).format('L')}</div>\n            )}\n\n            {deleteAction && (\n                <span className={css.delete} onClick={onClickDelete}>\n                    <span className=\"mdi mdi-close\" />\n                </span>\n            )}\n        </Component>\n    );\n};\n\nexport default Item;\n","export default {\n    notFound: () => '/404',\n    auth: () => '/auth',\n    authLogin: () => '/auth/login',\n    verifyUser: () => '/auth/verify',\n\n    // stacks\n    stacks: (user = ':user') => `/${user}`,\n    stackDetails: (user = ':user', id = ':stack') => `/${user}/${id}` + (id === ':stack' ? '+' : ''),\n\n    // dashboard\n    dashboards: (user = ':user') => `/${user}/d`,\n    dashboardsDetails: (user = ':user', id = ':id') => `/${user}/d/${id}`,\n\n    // jobs\n    jobs: (user = ':user') => `/${user}/j`,\n    jobsDetails: (user = ':user', id = ':id') => `/${user}/j/${id}`,\n\n    // settings\n    settings: () => '/settings',\n};\n","import {useEffect, useState} from 'react';\n\nexport default (id, defaultValue = 'list') => {\n    const [value, setValue] = useState(null);\n\n    useEffect(() => {\n        const savedValue = localStorage.getItem(`list-view-value-${id}`);\n\n        if (savedValue)\n            setValue(savedValue);\n        else\n            setValue(defaultValue);\n\n    }, []);\n\n    const onChange = value => {\n        setValue(value);\n        localStorage.setItem(`list-view-value-${id}`, value);\n    };\n\n    return [value, onChange];\n};\n","// @flow\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport cn from 'classnames';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport ViewSwitcher from '../../ViewSwitcher';\nimport SearchField from '../../SearchField';\nimport StackListItem from '../ListItem';\nimport routes from '../../routes';\nimport Tooltip from '../../Tooltip';\nimport useListViewSwitcher from '../../hooks/useListViewSwitcher';\nimport css from './styles.module.css';\n\ntype Stack = {\n    [key: string]: any,\n} | string;\n\ntype Props = {\n    deleteStack: Function,\n    renderUploadStack?: Function,\n    data: Array<Stack>,\n    loading: boolean,\n    currentUser?: string,\n    renderItemContent: Function,\n};\n\nconst List = ({\n    data = [],\n    loading,\n    deleteStack,\n    currentUser,\n    user,\n    renderUploadStack = () => {},\n    renderItemContent,\n}: Props) => {\n    const {t} = useTranslation();\n\n    const [view, setView] = useListViewSwitcher('stack-list');\n    const [deletingStack, setDeletingStack] = useState(null);\n    const [isShowWelcomeModal, setIsShowWelcomeModal] = useState(false);\n    const [isShowUploadStackModal, setIsShowUploadStackModal] = useState(false);\n    const [search, setSearch] = useState('');\n    const isInitialMount = useRef(true);\n    const [sorting, setSorting] = useState(null);\n\n    const sortingItems = {lastSource: {title: t('lastChanged')}};\n\n    const showWelcomeModal = () => setIsShowWelcomeModal(true);\n    const onChangeSearch = value => setSearch(value);\n\n    const hideWelcomeModal = () => {\n        localStorage.setItem('welcome-modal-is-showing', true);\n        setIsShowWelcomeModal(false);\n    };\n\n    useEffect(() => {\n        if (isInitialMount.current) {\n            isInitialMount.current = false;\n        } else {\n            if (!localStorage.getItem('welcome-modal-is-showing') && !loading && !data.length)\n                showWelcomeModal();\n        }\n    }, [data]);\n\n\n    const showUploadStackModal = event => {\n        event.preventDefault();\n        setIsShowUploadStackModal(true);\n    };\n\n    const hideUploadStackModal = () => setIsShowUploadStackModal(false);\n\n    const deleteItem = () => {\n        deleteStack(deletingStack);\n        hideDeleteConfirmation();\n    };\n\n    const showDeleteConfirmation = name => {\n        setDeletingStack(name);\n    };\n    const hideDeleteConfirmation = () => setDeletingStack(null);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.name.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    return (\n        <div className={css.list}>\n            <div className={css.header}>\n                <div className={css.title}>\n                    {currentUser === user\n                        ? t('stacks')\n                        : t('stacksOf', {name: user})\n                    }\n                </div>\n\n                {Boolean(data.length) && (\n                    <div className={css.headerSide}>\n                        {Boolean(data.length) && (\n                            <SearchField\n                                className={css.search}\n                                showEverything\n                                isDark\n                                placeholder={t('findStack')}\n                                size=\"small\"\n                                value={search}\n                                onChange={onChangeSearch}\n                            />\n                        )}\n\n                        {renderUploadStack && (\n                            <Tooltip\n                                overlayContent={t('uploadTooltip')}\n                            >\n                                <Button\n                                    className={css.uploadButton}\n                                    onClick={showUploadStackModal}\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                >\n                                    {t('uploadData')}\n                                </Button>\n                            </Tooltip>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {!(!loading && !Boolean(data.length)) && (\n                <div className={css.controls}>\n                    <ViewSwitcher\n                        className={css.viewSwitcher}\n                        value={view}\n                        onChange={setView}\n                    />\n\n                    {false && (\n                        <Dropdown\n                            className={css.sorting}\n                            items={\n                                Object.keys(sortingItems).map(key => ({\n                                    title: sortingItems[key].title,\n                                    onClick: () => setSorting(key),\n                                }))\n                            }\n                        >\n                            <button\n                                className={css.sortingButton}\n                            >\n                                {sorting ? sortingItems[sorting].title : t('sort')}\n                                <span className=\"mdi mdi-chevron-down\" />\n                            </button>\n                        </Dropdown>\n                    )}\n                </div>\n            )}\n\n            {loading && !Boolean(data.length) && (\n                <div className={cn(css.itemList, view)}>\n                    {new Array(view === 'grid' ? 12 : 8).fill({}).map((i, index) => (\n                        <div key={index} className={css.loadingItem} />\n                    ))}\n                </div>\n            )}\n\n            {!loading && !data.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: user})\n                    }\n                </div>\n            )}\n\n            {!loading && !Boolean(data.length) && currentUser === user && renderUploadStack && renderUploadStack()}\n\n            {Boolean(data.length && items.length) && (\n                <div className={cn(css.itemList, view)}>\n                    {items.map((item, index) => <StackListItem\n                        className={css.item}\n                        Component={Link}\n                        key={index}\n                        data={item}\n                        to={routes.stackDetails(item.user, item.name)}\n                        deleteAction={currentUser === item.user && showDeleteConfirmation}\n                        renderContent={renderItemContent}\n                    />)}\n                </div>\n            )}\n\n            {Boolean(data.length && !items.length) && <div className={css.text}>\n                {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n            </div>}\n\n            <Modal\n                isShow={Boolean(deletingStack)}\n                onClose={hideDeleteConfirmation}\n                size=\"confirmation\"\n                title={t('deleteStack')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t('areYouSureYouWantToDelete', {name: deletingStack})}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={hideDeleteConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={deleteItem}\n                        className={css.button}\n                    >{t('deleteStack')}</Button>\n                </div>\n            </Modal>\n\n            {currentUser === user && (\n                <Modal\n                    isShow={isShowWelcomeModal}\n                    onClose={hideWelcomeModal}\n                    size=\"small\"\n                    title={`${t('welcomeToDStack')}`}\n                    className={css.modal}\n                >\n                    <div className={css.description}>{t('yourEmailWasSuccessfullyConfirmed')}</div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={hideWelcomeModal}\n                            className={css.button}\n                        >{t('getStarted')}</Button>\n                    </div>\n                </Modal>\n            )}\n\n            {renderUploadStack && <Modal\n                isShow={isShowUploadStackModal}\n                withCloseButton\n                onClose={hideUploadStackModal}\n                size=\"big\"\n                title={t('howToConnectYourDataWithDStack')}\n                className={css.modal}\n            >\n                {renderUploadStack()}\n            </Modal>}\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport Tabs from '../../Tabs';\nimport CodeViewer from '../../CodeViewer';\nimport {isString} from 'lodash-es';\nimport config from '../../config';\nimport css from './styles.module.css';\n\nexport const pullPythonCode = data => {\n    let a = [`\\'/${data.stack}\\'`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        let p = [];\n\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n            else\n                p.push(`\\'${key}\\': ${data.params[key]}`);\n        });\n        a.push('params={' + p.join(', ') + '}');\n    }\n\n    return `import pandas as pd\nimport dstack as ds\n\ndf = ds.pull(${a.join(', ')})`;\n};\n\nexport const pullRCode = data => {\n    let a = [`\\\"/${data.stack}\\\"`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                a.push(`\\\"${key}\\\" = \\\"${data.params[key]}\\\"`);\n            else\n                a.push(`\\\"${key}\\\" = ${data.params[key]}`);\n        });\n    }\n\n    return `library(dstack)\n\ndf <- read.csv(pull(${a.join(', ')}))`;\n};\n\ntype Props = {\n    configurePythonCommand: string,\n    configureRCommand: string,\n    modalMode?: boolean,\n}\n\nconst HowTo = ({modalMode, data, configurePythonCommand, configureRCommand}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePlatformTab, setActivePlatformTab] = useState(1);\n\n    return (\n        <div className={css.howto}>\n            {!modalMode && (\n                <div className={css.title}>{t('howToFetchDataUsingTheAPI')}</div>\n            )}\n\n            <Tabs\n                className={css.tabs}\n                value={activeCodeTab}\n                onChange={setActiveCodeTab}\n\n                tabs={[\n                    {\n                        label: t('python'),\n                        value: 1,\n                    },\n\n                    {\n                        label: t('r'),\n                        value: 2,\n                    },\n                ]}\n            />\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipOrCondaPackage')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePlatformTab}\n                    onChange={setActivePlatformTab}\n\n                    tabs={[\n                        {\n                            label: t('pip'),\n                            value: 1,\n                        },\n\n                        {\n                            label: t('conda'),\n                            value: 2,\n                        },\n                    ]}\n                />\n\n                {activePlatformTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>}\n\n                {activePlatformTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    conda install dstack -c dstack.ai\n                </CodeViewer>}\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {pullPythonCode(data)}\n                </CodeViewer>\n            </div>}\n\n            {activeCodeTab === 2 && <div>\n                <div className={css.description}>{t('installRPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    install.packages(\"dstack\")\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {configureRCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {pullRCode(data)}\n                </CodeViewer>\n            </div>}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default HowTo;\n","import {useEffect} from 'react';\n\nexport default (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = event => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n};\n","// @flow\nimport React, {useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport useOnClickOutside from '../../hooks/useOnClickOutside';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport css from './styles.module.css';\n\ntype Props = {\n    revision: string;\n    className?: string,\n    frame: string,\n    frames: Array<{}>,\n    headId: ?string,\n    onChange?: Function,\n    onMarkAsHead?: Function,\n};\n\nconst getFrameName = frame => moment(frame.timestamp).format('D MMM YYYY h:mm a');\n\nconst Frames = ({frame, frames, headId, onChange, onMarkAsHead, className}: Props) => {\n    const {t} = useTranslation();\n    const [isShowDropdown, setIsShowDropdown] = useState(false);\n    const toggleDropdown = () => setIsShowDropdown(!isShowDropdown);\n    const [frameForMarkingAsHead, setFrameForMarkingAsHead] = useState(null);\n    const dropdownRef = useRef(null);\n\n    useOnClickOutside(dropdownRef, () => isShowDropdown && toggleDropdown());\n\n    if (!frames.length)\n        return null;\n\n    const activeFrame = frames.find(f => f.id === frame);\n\n    const onClickItem = frameId => () => {\n        toggleDropdown();\n\n        if (frame !== frameId && onChange)\n            onChange(frameId);\n    };\n\n    const onClickMarkAsHead = frameId => event => {\n        event.stopPropagation();\n        setFrameForMarkingAsHead(frameId);\n        toggleDropdown();\n    };\n\n    const hideConfirmation = () => setFrameForMarkingAsHead(null);\n\n    const confirmMarkFrameAsHead = () => {\n        if (onMarkAsHead)\n            onMarkAsHead(frameForMarkingAsHead.id);\n\n        setFrameForMarkingAsHead(null);\n    };\n\n    if (!activeFrame) {\n        return null;\n    }\n\n    return (\n        <div className={cx(css.frames, className)} ref={dropdownRef}>\n            <div\n                className={cx(css['frames-dropdown'])}\n                ref={dropdownRef}\n            >\n                <div className={css.button} onClick={toggleDropdown}>\n                    <span className={css.name}>\n                        {getFrameName(activeFrame)}\n                    </span>\n\n                    {headId === activeFrame.id && <span className={css.label}>{t('head')}</span>}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </div>\n\n                <div className={cx(css.dropdown, {show: isShowDropdown})}>\n                    {frames.map(f => (\n                        <Tooltip\n                            key={f.id}\n                            placement=\"rightTop\"\n                            trigger={Boolean(f.description) ? ['hover'] : []}\n                            align={{offset: [-20, -20]}}\n                            onClick={onClickItem(f.id)}\n                            overlayContent={f.description}\n                        >\n                            <div\n                                className={css.item}\n                            >\n                                <span className={css.name}>\n                                    {getFrameName(f)}\n                                </span>\n\n                                {headId === f.id && <span className={css.label}>{t('head')}</span>}\n\n                                {headId !== f.id && <div\n                                    className={css.mark}\n                                    onClick={onClickMarkAsHead(f)}\n                                >{t('markAsHead')}</div>}\n                            </div>\n                        </Tooltip>\n                    ))}\n                </div>\n            </div>\n\n            {activeFrame && activeFrame.description && (\n                <Tooltip overlayContent={activeFrame.description}>\n                    <div className={cx(css.info)}>\n                        <span className=\"mdi mdi-information-variant\" />\n                    </div>\n                </Tooltip>\n            )}\n\n            <Modal\n                isShow={Boolean(frameForMarkingAsHead)}\n                onClose={hideConfirmation}\n                size=\"confirmation\"\n                title={t('changeHeadRevision')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t(\n                        'areYouSureYouWantToChangeTheCurrentHeadRevisionToByName',\n                        {frame: frameForMarkingAsHead && getFrameName(frameForMarkingAsHead)},\n                    )}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={confirmMarkFrameAsHead}\n                        className={css.button}\n                    >{t('yesChangeHead')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={hideConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n\nexport default Frames;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.label} />\n            <div className={css.description} />\n            <div className={css.diagram} />\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    items: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, items, onChange}: Props) => {\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {items.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {active: value === i.value})}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","export const isValidUserName = userName => {\n    const errors = {\n        notAllowedCharacters: 'notAllowedCharacters',\n        tooShort: 'tooShort',\n        tooLong: 'tooLong',\n    };\n\n    const testRegexp = /^[a-zA-Z0-9-_]+$/;\n\n    if (userName.length < 3)\n        return {\n            isValid: false,\n            error: errors.tooShort,\n        };\n\n    if (userName.length > 24)\n        return {\n            isValid: false,\n            error: errors.tooLong,\n        };\n\n    if (!testRegexp.test(userName) || /--/.test(userName))\n        return {\n            isValid: false,\n            error: errors.notAllowedCharacters,\n        };\n\n    return {isValid: true};\n};\n\nexport const isEmail = value => {\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\n};\n\nexport const isRequired = value => {\n    return !(value === null || value === undefined || value === '');\n};\n\nexport const noSpaces = value => {\n    return /^[\\S]*$/.test(value);\n};\n\nexport const isValidStackName = value => {\n    return /^[^\\/]/.test(value) && /^[a-zA-Z0-9\\/_]+$/.test(value);\n};\n\nexport const isValidEmail = mail => {\n    const errors = {invalidEmailAddress: 'invalidEmailAddress'};\n\n    if (!isEmail(mail))\n        return {\n            isValid: false,\n            error: errors.invalidEmailAddress,\n        };\n\n    return {isValid: true};\n};\n\nexport const isValidPassword = password => {\n    const errors = {mustNotBeEmpty: 'mustNotBeEmpty'};\n\n    if (password.length === 0)\n        return {\n            isValid: false,\n            error: errors.mustNotBeEmpty,\n        };\n\n    return {isValid: true};\n};","// @flow\nimport {useState} from 'react';\nimport {isRequired, isEmail, noSpaces, isValidStackName} from '../validations';\n\nconst validationMap = {\n    required: isRequired,\n    email: isEmail,\n    'no-spaces-stack': noSpaces,\n    'stack-name': isValidStackName,\n};\n\nconst getValidationFunction = (validator: Function | string): Function => {\n    if (typeof validator === 'string' && validationMap[validator])\n        return validationMap[validator];\n\n    if (typeof validator === 'function')\n        return validator;\n\n    return () => true;\n};\n\nexport default (\n    initialFormState: {[key: string]: any},\n    fieldsValidators: {[key: string]: Array<Function> | Function} = {}\n): {} => {\n    const [form, setForm] = useState(initialFormState);\n    const [formErrors, setFormErrors] = useState({});\n\n    const onChange = (eventOrName, value) => {\n        let name;\n\n        let fieldValue;\n\n        if (eventOrName.target) {\n            const event = eventOrName;\n\n            fieldValue = event.target.type === 'checkbox'\n                ? event.target.checked\n                : event.target.value;\n\n            name = event.target.name;\n        } else {\n            name = eventOrName;\n            fieldValue = value;\n        }\n\n        setForm({\n            ...form,\n            [name]: fieldValue,\n        });\n\n        setFormErrors({\n            ...formErrors,\n            [name]: [],\n        });\n    };\n\n    const resetForm = () => {\n        setForm(initialFormState);\n        setFormErrors({});\n    };\n\n    const getFieldErrors = fieldName => {\n        const errors = [];\n\n        if (Array.isArray(fieldsValidators[fieldName]))\n            fieldsValidators[fieldName].forEach(validator => {\n                const isValid = getValidationFunction(validator);\n\n                if (!isValid(form[fieldName]))\n                    errors.push(validator);\n            });\n\n        if (typeof fieldsValidators[fieldName] === 'string') {\n            const isValid = getValidationFunction(fieldsValidators[fieldName]);\n\n            if (!isValid(form[fieldName]))\n                errors.push(fieldsValidators[fieldName]);\n        }\n\n        return errors;\n    };\n\n    const checkValidForm = () => {\n        let isValid = true;\n        const newFormErrors = {};\n\n        Object.keys(fieldsValidators)\n            .forEach(fieldName => {\n                const errors = getFieldErrors(fieldName);\n\n                newFormErrors[fieldName] = errors;\n                isValid = isValid && !errors.length;\n            });\n\n        setFormErrors(newFormErrors);\n        return isValid;\n    };\n\n    return {\n        form,\n        setForm,\n        formErrors,\n        setFormErrors,\n        resetForm,\n        onChange,\n        checkValidForm,\n    };\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport usePrevious from '../../hooks/usePrevious';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {debounce as _debounce} from 'lodash-es';\nimport Button from '../../Button';\nimport MarkdownRender from '../../MarkdownRender';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport StackFilters from '../../StackFilters';\nimport StackHowToFetchData from '../HowToFetchData';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from './components/Loader';\nimport Tabs from './components/Tabs';\nimport useForm from '../../hooks/useForm';\nimport {formatBytes, parseStackParams, parseStackTabs} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    downloadAttachment: Function,\n    toggleUpload: Function,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    onChangeHeadFrame: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeFrame: Function,\n    renderHeader?: Function,\n    renderSideHeader?: Function,\n    renderSidebar?: Function,\n    configurePythonCommand: string,\n    configureRCommand: string,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    downloadAttachment,\n    onChangeFrame,\n    data,\n    frame,\n    loading,\n    currentUser,\n    toggleUpload,\n    backUrl,\n    user,\n    stack,\n    renderHeader,\n    renderSideHeader,\n    renderSidebar,\n    configurePythonCommand,\n    configureRCommand,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [activeTab, setActiveTab] = useState(null);\n    const [fields, setFields] = useState({});\n    const [tabs, setTabs] = useState([]);\n    const prevFrame = usePrevious(frame);\n\n    const [isShowHowToModal, setIsShowHowToModal] = useState(false);\n\n    const showHowToModal = event => {\n        event.preventDefault();\n        setIsShowHowToModal(true);\n    };\n\n    const hideHowToModal = () => setIsShowHowToModal(false);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseParams();\n    }, [frame]);\n\n    const findAttach = useCallback((form, tabName, attachmentIndex) => {\n        const attachments = get(frame, 'attachments');\n        const fields = Object.keys(form);\n        const tab = tabs.find(t => t.value === tabName);\n\n        if (!attachments)\n            return;\n\n        if (fields.length || tabs.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                if (tab\n                    && attach.params[tab.value]?.type !== 'tab'\n                    && attach.params[tab.key]?.title !== tab.value\n                )\n                    return false;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], form[key]))\n                        valid = false;\n                });\n\n                if (valid && !(attachmentIndex === undefined && index === 0))\n                    onChangeAttachmentIndex(index);\n\n                return valid;\n            });\n        }\n    }, [form, tabs]);\n\n    const findAttachDebounce = useCallback(_debounce(findAttach, 300), [data, frame, findAttach]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            findAttachDebounce(form, activeTab, attachmentIndex);\n        else\n            didMountRef.current = true;\n    }, [form]);\n\n    const parseParams = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const fields = parseStackParams(attachments);\n        const tabs = parseStackTabs(attachments);\n\n        setTabs(tabs);\n        setFields(fields);\n\n        let attachment;\n\n        if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex]) {\n                attachment = attachments[attachmentIndex];\n\n            }\n        } else {\n            attachment = attachments[0];\n        }\n\n        if (attachment) {\n            const params = {...attachment.params};\n            const tab = Object.keys(params).find(key => params[key]?.type === 'tab');\n\n            setActiveTab(params[tab]?.title || tab || null);\n            delete params[tab];\n            setForm(params);\n        }\n    };\n\n    const onClickDownloadAttachment = event => {\n        event.preventDefault();\n        downloadAttachment();\n    };\n\n    const onChangeTab = tabName => {\n        findAttachDebounce(form, tabName, attachmentIndex);\n        setActiveTab(tabName);\n    };\n\n    const attachment = get(frame, `attachments[${attachmentIndex}]`);\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={cx(css.details, {'with-sidebar': Boolean(renderSidebar)})}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToMyStacks')\n                        : t('backToStacksOF', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    {data.name}\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {renderHeader && renderHeader()}\n\n                <div className={css.sideHeader}>\n                    {renderSideHeader && renderSideHeader()}\n\n                    {data && data.user === currentUser && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                {\n                                    title: t('upload'),\n                                    onClick: toggleUpload,\n                                },\n                            ]}\n                        >\n                            <Button\n                                className={css['dropdown-button']}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n                </div>\n            </div>\n\n            <StackFrames\n                frames={get(data, 'frames', [])}\n                frame={currentFrameId}\n                headId={headId}\n                onMarkAsHead={onChangeHeadFrame}\n                onChange={onChangeFrame}\n                className={css.revisions}\n            />\n\n            {Boolean(tabs.length) && <Tabs\n                className={css.tabs}\n                onChange={onChangeTab}\n                value={activeTab}\n                items={tabs}\n            />}\n\n            <div className={css.container}>\n                <StackFilters\n                    fields={fields}\n                    form={form}\n                    onChange={onChange}\n                    className={cx(css.filters)}\n                />\n\n                {attachment && (\n                    <div className={css['attachment-head']}>\n                        <div className={css.description}>\n                            {attachment.description && (<MarkdownRender source={attachment.description} />)}\n                        </div>\n\n                        {attachment['content_type'] === 'text/csv' && (\n                            <div className={css.actions}>\n                                {attachment.preview && (\n                                    <div className={css.label}>\n                                        {t('preview')}\n\n                                        <div className={css['label-tooltip']}>\n                                            {t('theTableBelowShowsOnlyAPreview')}\n                                        </div>\n                                    </div>\n                                )}\n\n                                <a href=\"#\" onClick={showHowToModal}>{t('useThisStackViaAPI')}</a>\n                                <span>{t('or')}</span>\n                                <a href=\"#\" onClick={onClickDownloadAttachment}>{t('download')}</a>\n                                {attachment.length && (\n                                    <span className={css.size}>({formatBytes(attachment.length)})</span>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {frame && (\n                    <StackAttachment\n                        className={css.attachment}\n                        withLoader\n                        stack={`${user}/${stack}`}\n                        frameId={frame.id}\n                        id={attachmentIndex || 0}\n                    />\n                )}\n            </div>\n\n            <Modal\n                isShow={isShowHowToModal}\n                withCloseButton\n                onClose={hideHowToModal}\n                size=\"big\"\n                title={t('howToFetchDataUsingTheAPI')}\n                className={css.modal}\n            >\n                <StackHowToFetchData\n                    configurePythonCommand={configurePythonCommand}\n                    configureRCommand={configureRCommand}\n\n                    data={{\n                        stack: `${user}/${stack}`,\n                        params: form,\n                    }}\n\n                    modalMode\n                />\n            </Modal>\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport {useCallback} from 'react';\nimport {debounce as _debounce} from 'lodash-es';\n\nexport default (callback: Function, depsOrDelay: Array<any> | number, deps: Array<any>) => {\n    let delay = 300;\n\n    if (typeof depsOrDelay === 'number')\n        delay = depsOrDelay;\n    else\n        deps = depsOrDelay;\n\n\n    return useCallback(_debounce(callback, delay), deps);\n};","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport TextField from '../../TextField';\nimport FileDragnDrop from '../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport useDebounce from '../../hooks/useDebounce';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    onClose?: Function,\n    isShow?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, isShow, onClose, refresh, withButton, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n\n    const {form, onChange, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n    useEffect(() => {\n        if (isShow !== undefined)\n            setIsShowModal(isShow);\n    }, [isShow]);\n\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    const closeHandle = () => {\n        if (onClose)\n            onClose();\n        else\n            setIsShowModal(false);\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n            closeHandle();\n\n            if (refresh)\n                refresh();\n        } catch (e) {\n            closeHandle();\n        }\n    };\n\n    return (\n        <Fragment>\n            {withButton && <Tooltip\n                overlayContent={t('uploadTooltip')}\n            >\n                <Button\n                    className={cx(css.upload, className)}\n                    size=\"small\"\n                    color=\"secondary\"\n                    onClick={toggleModal}\n                >\n                    {t('upload')}\n                </Button>\n            </Tooltip>}\n\n            <Modal\n                title={t('uploadFile')}\n                isShow={isShowModal}\n                size=\"small\"\n            >\n                <div className={css.content}>\n                    {!stack && (\n                        <Fragment>\n                            <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewStack')}</div>\n\n                            <TextField\n                                size=\"middle\"\n                                className={css.field}\n                                name=\"stack\"\n                                onChange={onChange}\n                                value={form.value}\n                                maxLength={30}\n                                placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                                errors={getErrorsText('stack')}\n                            />\n                        </Fragment>\n                    )}\n\n                    {stack && file && (\n                        <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                    )}\n\n                    <FileDragnDrop\n                        className={css.dragndrop}\n                        formats={['.csv', '.png', '.svg', '.jpg']}\n                        onChange={setFile}\n                        loading={uploading}\n                        progressPercent={progress}\n                    />\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={closeHandle}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            </Modal>\n        </Fragment>\n    );\n};\n\nexport default Upload;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../../Button';\nimport TextField from '../../../TextField';\nimport FileDragnDrop from '../../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../../utils';\nimport useForm from '../../../hooks/useForm';\nimport useDebounce from '../../../hooks/useDebounce';\nimport config from '../../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, refresh, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n    const fileFieldRef = useRef(null);\n\n    const {form, onChange, setForm, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n\n    const clearForm = () => {\n        setFile(null);\n        setForm({stack: ''});\n\n        if (fileFieldRef.current)\n            fileFieldRef.current.clear();\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n\n            if (refresh)\n                refresh();\n\n            clearForm();\n        } catch (e) {\n            console.log(e);\n            clearForm();\n        }\n    };\n\n    return (\n        <div className={cx(css.upload, className)}>\n            <div className={css.content}>\n                {!stack && (\n                    <Fragment>\n                        <div className={css.subtitle}>{t('stackName')}</div>\n\n                        <TextField\n                            size=\"middle\"\n                            className={css.field}\n                            name=\"stack\"\n                            onChange={onChange}\n                            value={form.value}\n                            maxLength={30}\n                            placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                            errors={getErrorsText('stack')}\n                        />\n                    </Fragment>\n                )}\n\n                {stack && file && (\n                    <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                )}\n\n                <FileDragnDrop\n                    ref={fileFieldRef}\n                    className={css.dragndrop}\n                    formats={['.csv', '.png', '.svg', '.jpg']}\n                    onChange={setFile}\n                    loading={uploading}\n                    progressPercent={progress}\n                />\n            </div>\n\n            {file && (\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={clearForm}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Upload;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport Tabs from '../../Tabs';\nimport Upload from './Upload';\nimport css from './styles.module.css';\nimport config from '../../config';\nimport {reportPlotPythonCode, installRPackageCode, reportPlotRCode} from '../../config';\n\ntype Props = {\n    user?: string,\n    refresh?: Function,\n    apiUrl: string,\n    withFileUpload?: boolean,\n}\n\nconst UploadStack = ({\n    user,\n    refresh,\n    apiUrl,\n    configurePythonCommand,\n    configureRCommand,\n    withFileUpload,\n}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePlatformTab, setActivePlatformTab] = useState(1);\n\n    const tabs = [\n        {\n            label: t('python'),\n            value: 1,\n        },\n\n        {\n            label: t('r'),\n            value: 2,\n        },\n    ];\n\n    if (withFileUpload)\n        tabs.push({\n            label: t('upload'),\n            value: 3,\n        });\n\n    return (\n        <div className={css.howto}>\n            <Tabs\n                className={css.tabs}\n                value={activeCodeTab}\n                onChange={setActiveCodeTab}\n                tabs={tabs}\n            />\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipOrCondaPackage')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePlatformTab}\n                    onChange={setActivePlatformTab}\n\n                    tabs={[\n                        {\n                            label: t('pip'),\n                            value: 1,\n                        },\n\n                        {\n                            label: t('conda'),\n                            value: 2,\n                        },\n                    ]}\n                />\n\n                {activePlatformTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>}\n\n                {activePlatformTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    conda install dstack -c dstack.ai\n                </CodeViewer>}\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {configurePythonCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportPlotPythonCode}\n                </CodeViewer>\n            </div>}\n\n            {activeCodeTab === 2 && <div>\n                <div className={css.description}>{t('installRPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {installRPackageCode}\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {configureRCommand}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {reportPlotRCode}\n                </CodeViewer>\n            </div>}\n\n            {activeCodeTab === 3 && <Upload\n                user={user}\n                refresh={refresh}\n                apiUrl={apiUrl}\n            />}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default UploadStack;\n","import React, {Component, createContext} from 'react';\n\nfunction move(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n        newIndex = array.length - 1;\n    }\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n}\n\nfunction moveElement(array, index, offset) {\n    const newIndex = index + offset;\n\n    return move(array, index, newIndex);\n}\n\n// Context\n\nconst GridContext = createContext({items: []});\n\nexport class GridProvider extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [],\n            moveItem: this.moveItem,\n            setItems: this.setItems,\n        };\n    }\n\n    render() {\n        return (\n            <GridContext.Provider value={this.state}>\n                {this.props.children}\n            </GridContext.Provider>\n        );\n    }\n\n    setItems = items => this.setState({items});\n\n    moveItem = (sourceId, destinationId) => {\n        const sourceIndex = this.state.items.findIndex(\n            item => item.id === sourceId\n        );\n        const destinationIndex = this.state.items.findIndex(\n            item => item.id === destinationId\n        );\n\n        // If source/destination is unknown, do nothing.\n        if (sourceId === -1 || destinationId === -1) {\n            return;\n        }\n\n        const offset = destinationIndex - sourceIndex;\n\n        this.setState(state => ({items: moveElement(state.items, sourceIndex, offset)}));\n    };\n}\n\nexport default GridContext;\n","import React, {memo, useRef} from 'react';\nimport {useDrag, useDrop} from 'react-dnd';\n\nconst DnDItem = memo(({id, onMoveItem, children}) => {\n    const ref = useRef(null);\n\n    const [, connectDrag] = useDrag({\n        item: {id, type: 'IMG'},\n        collect: monitor => {\n            return {isDragging: monitor.isDragging()};\n        },\n    });\n\n    const [, connectDrop] = useDrop({\n        accept: 'IMG',\n        drop: hoveredOverItem => {\n            if (hoveredOverItem.id !== id) {\n                onMoveItem(hoveredOverItem.id, id);\n            }\n        },\n    });\n\n    connectDrag(ref);\n    connectDrop(ref);\n\n    return React.Children.map(children, child =>\n        React.cloneElement(child, {forwardedRef: ref})\n    );\n});\n\nexport default DnDItem;","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n            <div className={css.filters} />\n\n            <div className={css.grid}>\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {memo, Fragment, useEffect, useState} from 'react';\nimport moment from 'moment';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport cx from 'classnames';\nimport {parseStackParams} from '../../../../utils';\nimport useDebounce from '../../../../hooks/useDebounce';\nimport Button from '../../../../Button';\nimport Dropdown from '../../../../Dropdown';\nimport Tooltip from '../../../../Tooltip';\nimport StackAttachment from '../../../../stack/Attachment';\nimport css from './styles.module.css';\n\nexport type DashboardCard = {\n    stack: string,\n    header?: {},\n    index: 0,\n}\n\ntype Props = {\n    data: DashboardCard,\n    className?: string,\n    type?: 'list' | 'grid',\n    attachment: {},\n    fetchAttachment: Function,\n    deleteCard: Function,\n    updateCardTitle: Function,\n    filters: {},\n    moveAvailable?: boolean,\n}\n\nconst Card = memo(({\n    data,\n    className,\n    type = 'grid',\n    deleteCard,\n    updateCardTitle,\n    filters,\n    forwardedRef,\n    moveAvailable,\n}: Props) => {\n    const [title, setTitle] = useState(data.title);\n    const {t} = useTranslation();\n    const headId = get(data, 'head.id');\n    const stackOwner = data.stack.split('/')[0];\n    const [attachmentIndex, setAttachmentIndex] = useState(0);\n    const [cardParams, setCardParams] = useState([]);\n\n    useEffect(() => {\n        const params = parseStackParams(get(data, 'head.attachments', []));\n\n        if (params)\n            setCardParams(Object.keys(params));\n\n    }, [data]);\n\n    useEffect(() => {\n        findAttach();\n    }, [filters]);\n\n    const findAttach = () => {\n        const attachments = get(data, 'head.attachments');\n        const fields = Object.keys(filters).filter(f => cardParams.indexOf(f) >= 0);\n\n        if (!attachments)\n            return;\n\n        if (fields.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], filters[key]))\n                        valid = false;\n                });\n\n                if (valid)\n                    setAttachmentIndex(index);\n\n                return valid;\n            });\n        } else\n            setAttachmentIndex(0);\n    };\n\n    const onUpdate = updateCardTitle ? useDebounce(updateCardTitle, []) : () => {};\n\n    const onChangeTitle = event => {\n        setTitle(event.target.value);\n        onUpdate(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.card, `type-${type}`, className)} ref={forwardedRef}>\n            <div className={css.inner}>\n                <div className={css.head}>\n                    <div className={cx(css.name, {readonly: !updateCardTitle})}>\n                        <div className={css.nameValue}>{title.length ? title : t('title')}</div>\n\n                        <input\n                            value={title}\n                            type=\"text\"\n                            placeholder={t('title')}\n                            onChange={onChangeTitle}\n                            className={cx(css.nameEdit, {active: !title.length})}\n                        />\n                    </div>\n\n                    <Tooltip\n                        overlayContent={(\n                            <Fragment>\n                                <div>{t('updatedByName', {name: stackOwner})}</div>\n\n                                {data.head && <div className={css.infoTime}>\n                                    {moment(data.head.timestamp).format('D MMM YYYY')}\n                                </div>}\n                            </Fragment>\n                        )}\n                    >\n                        <div className={css.info}>\n                            <span className=\"mdi mdi-information-outline\" />\n                        </div>\n                    </Tooltip>\n\n                    <Button\n                        className={cx(css.button, css.link)}\n                        color=\"secondary\"\n                        Component={Link}\n                        to={`/${data.stack}`}\n                    >\n                        <span className=\"mdi mdi-open-in-new\" />\n                    </Button>\n\n                    {Boolean(deleteCard) && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                ...(deleteCard ? [{\n                                    title: t('delete'),\n                                    onClick: deleteCard,\n                                }] : []),\n                            ]}\n                        >\n                            <Button\n                                className={css.button}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n\n                    {moveAvailable && (\n                        <Button\n                            className={cx(css.button, css.move)}\n                            color=\"secondary\"\n                        >\n                            <span className=\"mdi mdi-cursor-move\" />\n                        </Button>\n                    )}\n                </div>\n\n                {headId\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        stack={data.stack}\n                        frameId={headId}\n                        id={attachmentIndex}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n        </div>\n    );\n});\n\nexport default Card;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState, useContext, useCallback} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {get, isEqual, unionBy, debounce as _debounce} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport Button from '../../Button';\nimport Dropdown from '../../Dropdown';\nimport ViewSwitcher from '../../ViewSwitcher';\nimport StretchTitleField from '../../StretchTitleField';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport StackFilters from '../../StackFilters';\nimport DnDGridContext from '../../dnd/DnDGridContext';\nimport DnDItem from '../../dnd/DnDItem';\nimport Loader from './components/Loader';\nimport Card from './components/Card';\nimport {parseStackParams} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport usePrevious from '../../hooks/usePrevious';\nimport type {Dashboard} from '../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    addCards?: Function,\n    backUrl: string,\n    cards?: Array<{}>,\n    currentUser?: string,\n    data?: Dashboard,\n    deleteCard: Function,\n    deleteDashboard: Function,\n    loading: boolean,\n    onChangeTitle?: Function,\n    updateCard?: Function,\n    user: string,\n    withSorting?: boolean,\n    renderHeader?: Function,\n    renderSideHeader?: Function,\n}\n\nconst Details = ({\n    addCards,\n    backUrl,\n    cards,\n    currentUser,\n    data,\n    deleteCard,\n    deleteDashboard,\n    loading,\n    onChangeTitle = () => {},\n    updateCard,\n    user,\n    withSorting,\n    renderHeader,\n    renderSideHeader,\n}: Props) => {\n    const {items, moveItem, setItems} = useContext(DnDGridContext);\n\n    const {t} = useTranslation();\n    const [view, setView] = useState('grid');\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const prevData = usePrevious(data);\n    const isDidMount = useRef(true);\n    const onChangeTitleDebounce = useCallback(_debounce(onChangeTitle, 300), []);\n\n    const setGridItems = cardsItems => setItems(cardsItems.map(card => ({id: card.index, card})));\n\n    useEffect(() => {\n        if (window)\n            window.dispatchEvent(new Event('resize'));\n    }, [view]);\n\n    useEffect(() => {\n        if (cards)\n            setGridItems(cards);\n\n        return () => setGridItems([]);\n    }, [cards]);\n\n\n    useEffect(() => {\n        if ((!isEqual(prevData, data) || isDidMount.current) && data)\n            parseParams();\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [data]);\n\n    const moveCard = (indexFrom, indexTo) => {\n        if (indexTo < 0 || indexFrom < 0)\n            return;\n\n        const {stack} = items[indexFrom].card;\n\n        if (updateCard)\n            updateCard({\n                stack,\n                index: indexTo,\n            });\n\n        moveItem(indexFrom, indexTo);\n    };\n\n    const getDeleteCardAction = stack => {\n        if (deleteCard) {\n            return () => {\n                deleteCard(stack);\n            };\n        }\n    };\n\n    const getUpdateCardTitleAction = stack => {\n        if (updateCard)\n            return title => {\n                updateCard({\n                    stack,\n                    title,\n                });\n            };\n    };\n\n    const parseParams = () => {\n        if (!cards)\n            return;\n\n        const fields = cards.reduce((result, card) => {\n            const cardFields = parseStackParams(get(card, 'head.attachments', [])) || {};\n\n            Object.keys(cardFields).forEach(fieldName => {\n                if (result[fieldName]) {\n                    if (cardFields[fieldName].type === 'select') {\n                        result[fieldName].options = unionBy(\n                            result[fieldName].options,\n                            cardFields[fieldName].options, 'value');\n                    }\n\n                    if (cardFields[fieldName].type === 'slider') {\n\n                        result[fieldName].options = {\n                            ...result[fieldName].options,\n                            ...cardFields[fieldName].options,\n                        };\n\n                        result[fieldName].min = Math.min(result[fieldName].min, cardFields[fieldName].min);\n                        result[fieldName].max = Math.max(result[fieldName].max, cardFields[fieldName].max);\n                    }\n                } else {\n                    result[fieldName] = cardFields[fieldName];\n                }\n            });\n\n            return result;\n        }, {});\n\n        const defaultFilterValues = Object.keys(fields).reduce((result, fieldName) => {\n            if (fields[fieldName].type === 'select')\n                result[fieldName] = fields[fieldName].options[0].value;\n\n            if (fields[fieldName].type === 'slider')\n                result[fieldName] = fields[fieldName].options[0];\n\n            if (fields[fieldName].type === 'checkbox')\n                result[fieldName] = false;\n\n            return result;\n        }, {});\n\n        setForm(defaultFilterValues);\n        setFields(fields);\n    };\n\n    const renderFilters = () => {\n        if (!Object.keys(fields).length)\n            return null;\n\n        const hasSelectField = Object.keys(fields).some(key => fields[key].type === 'select');\n\n        return (\n            <StackFilters\n                fields={fields}\n                form={form}\n                onChange={onChange}\n                className={cx(css.filters, {'with-select': hasSelectField})}\n            />\n        );\n    };\n\n    const getAddClickAction = () => {\n        if (addCards)\n            return event => {\n                event.preventDefault();\n                addCards();\n            };\n    };\n\n    if (loading)\n        return <Loader />;\n\n    if (!data)\n        return null;\n\n    const CardWrapComponent = withSorting ? DnDItem : Fragment;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToDashboards')\n                        : t('backToDashboardsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={data?.title}\n                        onChange={onChangeTitleDebounce}\n                        readOnly={currentUser !== data.user}\n                        placeholder={t('newDashboard')}\n                    />\n\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {renderHeader && renderHeader()}\n\n                <div className={css.sideHeader}>\n                    {renderSideHeader && renderSideHeader()}\n\n                    {Boolean(deleteDashboard) && <Dropdown\n                        className={css.dropdown}\n\n                        items={[\n                            ...(Boolean(deleteDashboard) ? [{\n                                title: t('delete'),\n                                onClick: deleteDashboard,\n                            }] : []),\n                        ]}\n                    >\n                        <Button\n                            className={css['dropdown-button']}\n                            color=\"secondary\"\n                        >\n                            <span className=\"mdi mdi-dots-horizontal\" />\n                        </Button>\n                    </Dropdown>}\n                </div>\n            </div>\n\n            {Boolean(items.length) && (\n                <Fragment>\n                    <div className={css.section}>\n                        <div className={css.fields}>\n                            {renderFilters()}\n                        </div>\n\n                        <div className={css.controls}>\n                            {getAddClickAction() && (\n                                <a\n                                    className={css.addButton}\n                                    onClick={getAddClickAction()}\n                                    href=\"#\"\n                                >\n                                    <span className=\"mdi mdi-plus\" />\n                                    {t('addStack')}\n                                </a>\n                            )}\n\n                            <ViewSwitcher\n                                value={view}\n                                className={css.viewSwitcher}\n                                onChange={view => setView(view)}\n                            />\n                        </div>\n                    </div>\n\n                    <div className={cx(css.cards, view)}>\n                        {items.map(item => (\n                            <CardWrapComponent\n                                key={item.card.stack}\n                                {...(withSorting ? {\n                                    id: item.id,\n                                    onMoveItem: moveCard,\n                                } : {})}\n                            >\n                                <Card\n                                    filters={form}\n                                    deleteCard={getDeleteCardAction(item.card.stack)}\n                                    data={item.card}\n                                    type={view}\n                                    updateCardTitle={getUpdateCardTitleAction(item.card.stack)}\n                                    moveAvailable={withSorting}\n                                />\n                            </CardWrapComponent>\n                        ))}\n                    </div>\n                </Fragment>\n            )}\n\n            {!items.length && (\n                <div className={css.empty}>\n                    {t('thereAreNoStacksYet')} <br/>\n                    {t('youCanSendStacksYouWantToBeHereLaterOrAddItRightNow')}\n\n                    {getAddClickAction() && (\n                        <Fragment>\n                            {' '}\n\n                            <a\n                                className={css.addButton}\n                                onClick={getAddClickAction()}\n                                href=\"#\"\n                            >{t('addStack')}</a>.\n                        </Fragment>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React, {useRef} from 'react';\nimport {get} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../Dropdown';\nimport StackAttachment from '../../stack/Attachment';\nimport type {Dashboard} from '../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    dashboard: Dashboard,\n    deleteDashboard?: Function,\n    renderContent?: Function,\n}\n\nconst Item = ({dashboard, deleteDashboard, user, renderContent}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const hasStacks = dashboard.cards && Boolean(dashboard.cards.length);\n    const card = dashboard.cards.find(c => get(c, 'head.id'));\n\n    const onClickDelete = () => {\n        deleteDashboard({\n            user: user,\n            id: dashboard.id,\n        });\n    };\n\n    const isShowDropdown = Boolean(deleteDashboard);\n\n    return (\n        <Link\n            to={`/${user}/d/${dashboard.id}`}\n            className={css.item}\n            ref={ref}\n        >\n            {Boolean(dashboard.cards.length) && (\n                <div className={css.label}>\n                    {t('stacksWithCount', {count: dashboard.cards.length})}\n                </div>\n            )}\n\n            <div className={css.previewWrap}>\n                {hasStacks\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        frameId={card.head.id}\n                        stack={card.stack}\n                        id={0}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n\n            <div className={css.section}>\n                <div className={css.content}>\n                    <div className={css.name}>\n                        {dashboard.title}\n                        {' '}\n                        <span className={`mdi mdi-lock${dashboard.private ? '' : '-open'}`} />\n                    </div>\n\n                    {user !== dashboard.user && (\n                        <div className={css.by}>{t('by')} {dashboard.user}</div>\n                    )}\n\n                    {renderContent && renderContent(dashboard)}\n                </div>\n\n                {isShowDropdown && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: onClickDelete,\n                        },\n                    ]}\n                />}\n            </div>\n\n        </Link>\n    );\n};\n\nexport default Item;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport DashboardListItem from '../ListItem';\nimport Loader from './components/Loader';\nimport css from './styles.module.css';\n\ntype Props = {\n    addDashboard: Function,\n    addDashboardDisable: boolean,\n    currentUser?: string,\n    data: ?Array<{}>,\n    deleteDashboard: Function,\n    renderItemContent?: Function,\n    loading: boolean,\n    user: string,\n}\n\nconst List = ({\n    addDashboard,\n    addDashboardDisable,\n    currentUser,\n    data,\n    deleteDashboard,\n    loading,\n    user,\n    renderItemContent,\n}: Props) => {\n    const [search, setSearch] = useState('');\n    const {t} = useTranslation();\n\n    const onChangeSearch = value => setSearch(value);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    className={css.search}\n                    placeholder={t('findDashboard')}\n                    size=\"small\"\n                    value={search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUser === user\n                    ? t('myDashboards')\n                    : t('dashboardsOf', {name: user})\n                }\n\n                {data && Boolean(data.length) && <span>{data.length}</span>}\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('search')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.grid}>\n                {currentUser === user && (\n                    <div\n                        onClick={addDashboard}\n                        className={cx(css.add, {disabled: addDashboardDisable})}\n                    >\n                        <div className={css.caption}>\n                            <span className=\"mdi mdi-plus\" />\n                            {t('newDashboard')}\n                        </div>\n                    </div>\n                )}\n\n                {items.map((item, index) => (\n                    <DashboardListItem\n                        key={index}\n                        user={user}\n                        dashboard={item}\n                        deleteDashboard={currentUser === item.user && deleteDashboard}\n                        renderContent={renderItemContent}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useEffect, useState, Fragment} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useParams} from 'react-router';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport CheckboxField from '../../CheckboxField';\nimport StackListItem from '../../stack/ListItem';\nimport Loader from './Loader';\nimport css from './style.module.css';\n\ntype Props = {\n    currentUser?: string,\n    isShow?: boolean,\n    stacks?: Array<{}>,\n    loading?: boolean,\n    fetchList: Function,\n    onAddStacks?: Function,\n    onClose: Function,\n}\n\nconst AddStacksModal = ({\n    stacks = [],\n    loading,\n    isShow,\n    onClose,\n    onAddStacks,\n    currentUser,\n    user,\n}: Props) => {\n    const {t} = useTranslation();\n    const params = useParams();\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selected, setSelected] = useState([]);\n\n    useEffect(() => {\n        if (!isShow) {\n            setSelected([]);\n            setSearchQuery('');\n        }\n    }, [isShow]);\n\n    const getItems = () => {\n        let items = [];\n\n        if (stacks && stacks.length) {\n            if (searchQuery.length)\n                items = stacks.filter(i => i.name.indexOf(searchQuery) >= 0);\n            else\n                items = stacks;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    const onChangeSearch = value => setSearchQuery(value);\n\n    const getFullStackName = stack => `${stack.user}/${stack.name}`;\n\n    const isChecked = stack => {\n        const stackName = getFullStackName(stack);\n\n        return selected.findIndex(i => i === stackName) >= 0;\n    };\n\n    const getOnClickStack = stack => () => {\n        const stackName = getFullStackName(stack);\n\n        if (isChecked(stack)) {\n            const filtered = selected.filter(i => i !== stackName);\n\n            setSelected(filtered);\n        } else {\n            setSelected([\n                ...selected,\n                stackName,\n            ]);\n        }\n    };\n\n    const submit = () => {\n        if (onAddStacks)\n            onAddStacks(selected);\n\n        onClose();\n    };\n\n    return (\n        <Modal\n            dialogClassName={css.stacks}\n            isShow={isShow}\n            title={t('selectStacks')}\n            onClose={onClose}\n            withCloseButton\n        >\n            {!loading && Boolean(stacks.length) && (\n                <SearchField\n                    className={css.search}\n                    isDark\n                    size=\"middle\"\n                    showEverything\n                    placeholder={t('findStack')}\n                    value={searchQuery}\n                    onChange={onChangeSearch}\n                />\n            )}\n\n            {loading && <Loader />}\n\n            {!loading && !stacks.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: params.user})\n                    }\n                </div>\n            )}\n\n            {!loading && Boolean(stacks.length && !items.length) && (\n                <div className={css.text}>\n                    {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n                </div>\n            )}\n\n            {!loading && Boolean(stacks.length && items.length) && (\n                <Fragment>\n                    <div className={css.grid}>\n                        {items.map((item, index) => (\n                            <div className={css.item} key={index} onClick={getOnClickStack(item)}>\n                                <CheckboxField\n                                    className={css.checkbox}\n                                    value={isChecked(item)}\n                                    readOnly\n                                />\n\n                                <StackListItem\n                                    data={item}\n                                    otherOwner={params.user !== item.user}\n                                />\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            className={css.button}\n                            color=\"primary\"\n                            variant=\"contained\"\n                            disabled={!selected.length}\n                            onClick={submit}\n                        >\n                            {t('addSelectedStacks')}\n                        </Button>\n\n                        <Button\n                            className={css.button}\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={onClose}\n                        >\n                            {t('cancel')}\n                        </Button>\n                    </div>\n                </Fragment>\n\n            )}\n        </Modal>\n    );\n};\n\nexport default AddStacksModal;\n","import apiFabric from '../apiFabric';\nimport {useAppStore} from '../AppStore';\nimport config from '../config';\n\nconst api = apiFabric();\n\nexport default () => {\n    const [{apiUrl}] = useAppStore();\n\n    const fetchJob = ({user, id}) => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.get(apiUrl + config.JOB_DETAILS(user, id));\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const runJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_RUN, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const stopJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_STOP, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const createJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_CREATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const updateJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_UPDATE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    const removeJob = params => {\n        return new Promise(async resolve => {\n            try {\n                const request = await api.post(apiUrl + config.JOB_DELETE, params);\n\n                resolve(request.data);\n            } catch (e) {\n                resolve({});\n            }\n        });\n    };\n\n    return {\n        fetchJob,\n        runJob,\n        stopJob,\n        createJob,\n        updateJob,\n        removeJob,\n    };\n};\n","import React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text} />\n\n            <div className={css.table}>\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","export const calculateJobProgress = (job: {\n    'estimated_duration'?: ?number,\n    started: number,\n}) => {\n    const estimatedDuration = job['estimated_duration'] || JOB_DEFAULT_ESTIMATED_DURATION;\n    const currentDuration = Date.now() - job.started;\n    const leftDuration = estimatedDuration - currentDuration;\n    const progress = Math.min(currentDuration / estimatedDuration * 100, 100).toFixed();\n\n    return [progress, leftDuration];\n};","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {getFormattedDuration} from '../../../../utils';\nimport {calculateJobProgress} from '../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onlyDuration?: boolean,\n}\n\nconst Progress = ({data, className, onlyDuration}: Props) => {\n    const {t} = useTranslation();\n    const progressTimer = useRef(null);\n    const [, set] = useState(null);\n\n    useEffect(() => {\n        if (data.status === 'RUNNING') {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                set(Date.now());\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [data]);\n\n    if (!data.started)\n        return null;\n\n    const [progress, leftDuration]  = calculateJobProgress(data);\n\n    return (\n        <div className={cx(css.section, className)}>\n            {!onlyDuration && <div className={css.progressBar}>\n                <div className={css.progress} style={{width: `${progress}%`}} />\n            </div>}\n\n\n            <div className={css.time}>\n                {getFormattedDuration(leftDuration)} {t('left')}\n            </div>\n        </div>\n    );\n};\n\nexport default Progress;\n","// @flow\nimport React, {useEffect, useState, memo} from 'react';\nimport useSWR from 'swr';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport {useParams} from 'react-router';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../../../Dropdown';\nimport {useAppStore} from '../../../../AppStore';\nimport {dataFetcher, getFormattedDuration} from '../../../../utils';\nimport useActions from '../../../actions';\nimport Progress from '../../../Details/components/Progress';\nimport config from '../../../../config';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: {[key: string]: any},\n    onClickRow?: Function,\n    onEdit?: Function,\n    onDelete?: Function,\n};\n\nconst REFRESH_TIMEOUT = 2000;\nconst dataFormat = data => data.job;\n\nconst TableRow = memo(({\n    data,\n    onClickRow,\n    onEdit,\n    onDelete,\n}: Props) => {\n    const {runJob, stopJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const {user} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n\n    const {data: jobData, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, data.id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {\n            refreshInterval,\n            initialData: data,\n            revalidateOnFocus: false,\n        }\n    );\n\n    const rowClick = () => {\n        if (onClickRow)\n            onClickRow(jobData);\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n        }\n    }, [jobData]);\n\n    const onRun = async () => {\n        const {job} = await runJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const onStop = async () => {\n        const {job} = await stopJob({user, id: jobData.id});\n\n        if (job)\n            mutate({\n                ...jobData,\n                ...job,\n            });\n    };\n\n    const getTitle = () => {\n        if (jobData.title && jobData.title.length)\n            return jobData.title;\n        else\n            return <span>New job</span>;\n    };\n\n    const renderStatus = () => {\n        switch (jobData.status) {\n            case ('SCHEDULED'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n                </div>;\n\n            case ('RUNNING'):\n                return <div className={css.status}>\n                    {t('inProgress')}&#8230;\n\n                    <Progress\n                        className={css.progress}\n                        data={jobData}\n                    />\n                </div>;\n\n            case ('TIMEOUT'):\n                return <div className={cx(css.status, 'fail')}> {t('failedDueToTimeout')}</div>;\n\n            case ('FAILED'):\n                return <div className={cx(css.status, 'fail')}> {t('failed')}</div>;\n\n            case ('FINISHED'):\n                return <div className={cx(css.status, 'success')}> {t('completed')}</div>;\n\n            case ('CREATED'):\n                return <div className={css.status}>{t('neverRun')}</div>;\n\n            default:\n                return <div className={css.status}>{t(jobData.status.toLowerCase())}</div>;\n        }\n    };\n\n    return (\n        <div className={cx(css.row, {red: ['TIMEOUT', 'FAILED'].indexOf(jobData.status) > -1})} onClick={rowClick}>\n            <div className={css.cell}>{getTitle()}</div>\n            <div className={css.cell}>{t(jobData.runtime)}</div>\n            <div className={css.cell}>{moment(jobData.started).format('MM-DD-YYYY [at] HH:mm')}</div>\n            <div className={css.cell}>{getFormattedDuration(jobData.finished - jobData.started)}</div>\n\n            <div className={css.cell}>\n                {renderStatus()}\n\n                {currentUserName === user && (\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={[\n                            ...(['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                                ? [{\n                                    title: t('stop'),\n                                    onClick: onStop,\n                                }]\n\n                                : [{\n                                    title: t('run'),\n                                    onClick: onRun,\n                                }]\n                            ),\n\n                            {\n                                title: t('edit'),\n                                onClick: onEdit,\n                            },\n\n                            {\n                                title: t('delete'),\n                                onClick: onDelete,\n                            },\n                        ]}\n                    />\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default TableRow;\n","// @flow\nimport React, {useState} from 'react';\nimport useSWR from 'swr';\nimport {useHistory, useParams} from 'react-router';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\nimport {dataFetcher} from '../../utils';\nimport routes from '../../routes';\nimport config from '../../config';\nimport useActions from '../actions';\nimport Loader from './components/Loader';\nimport TableRow from './components/TableRow';\nimport css from './styles.module.css';\n\nconst dataFormat = data => data.jobs;\n\nconst List = () => {\n    const {createJob, removeJob} = useActions();\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n    const {t} = useTranslation();\n    const [search, setSearch] = useState('');\n    const {user} = useParams();\n    const {push} = useHistory();\n\n    const {data, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_LIST(user),\n            dataFormat,\n        ],\n        dataFetcher,\n    );\n\n    const onChangeSearch = value => setSearch(value);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    const onAdd = async () => {\n        const lastRuntime = localStorage.getItem('lastRuntime') || 'python';\n\n        const data = await createJob(\n            {\n                user,\n                runtime: lastRuntime,\n            }\n        );\n\n        push(routes.jobsDetails(user, data.job.id));\n    };\n\n    const getOnRemove = job => async () => {\n        await removeJob({\n            user,\n            id: job.id,\n        });\n\n\n        mutate(data.filter(j => j.id !== job.id));\n    };\n\n    if (!data)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    placeholder={t('findJob')}\n                    size=\"small\"\n                    value={search}\n                    className={css.search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUserName === user\n                    ? t('myJobs')\n                    : t('jobsOf', {name: user})\n                }\n\n                <Button\n                    className={css.button}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={onAdd}\n                >\n                    <span className=\"mdi mdi-plus\" /> {t('newJob')}\n                </Button>\n            </div>\n\n            <div className={css.text}>\n                {t('youHaveJobs', {count: data.length})}\n                {' '}\n                <a href={config.DOCS_URL + '/jobs'} target=\"_blank\">\n                    {t('documentation')}\n                    <span className=\"mdi mdi-open-in-new\" />\n                </a>.\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('findJob')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.tableWrap}>\n                <div className={css.table}>\n                    <div className={css.tableCaptions}>\n                        <div className={css.tableCell}>{t('job')}</div>\n                        <div className={css.tableCell}>{t('runtime')}</div>\n                        <div className={css.tableCell}>{t('lastRun')}</div>\n                        <div className={css.tableCell}>{t('timeSpent')}</div>\n                        <div className={css.tableCell}>{t('status')}</div>\n                    </div>\n\n                    {items.map(item => (\n                        <TableRow\n                            data={item}\n                            key={item.id}\n                            onClickRow={() => push(routes.jobsDetails(user, item.id))}\n                            onEdit={() => push(routes.jobsDetails(user, item.id))}\n                            onDelete={getOnRemove(item)}\n                        />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport Button from '../../../../Button';\nimport Dropdown from '../../../../Dropdown';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n    className?: string,\n    onChange: Function,\n}\n\nlet timeout = null;\n\nconst ScheduleSettings = ({data, className, onChange, onChangeRuntime}: Props) => {\n    const {t} = useTranslation();\n    const messageRef = useRef();\n    const [scheduleType, setScheduleType] = useState(data ? data.schedule.split('/')[0] : '');\n    const [scheduleTime, setScheduleTime] = useState(data ? data.schedule.split('/')[1] : null);\n    const [nextRunDelay, setNextRunDelay] = useState(0);\n    const isDidMount = useRef(true);\n\n    const runtimeChange = runtime => () => {\n        onChangeRuntime(runtime);\n        localStorage.setItem('lastRuntime', runtime);\n    };\n\n    const scheduleTypeChange = type => () => {\n        setScheduleType(type);\n\n        if (!scheduleTime)\n            setScheduleTime('12:00');\n\n        if (type === 'daily')\n            type += `/${scheduleTime ? scheduleTime : '12:00'}`;\n\n        onChange(type);\n    };\n\n    const scheduleTimeChange = time => () => {\n        setScheduleTime(time);\n        onChange(`${scheduleType}/${time}`);\n\n        const runTime = moment(time, 'HH:mm');\n\n        if (new Date().getHours() > runTime.get('hours'))\n            runTime.add(1, 'day');\n\n        setNextRunDelay(runTime.toDate().getTime() - Date.now());\n    };\n\n    useEffect(() => {\n        if (nextRunDelay && !isDidMount.current && messageRef.current) {\n            messageRef.current.classList.add('show');\n\n            if (timeout)\n                clearTimeout(timeout);\n\n            timeout = setTimeout(() => {\n                messageRef.current.classList.remove('show');\n            }, 3000);\n        }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [nextRunDelay]);\n\n    return (\n        <div className={cx(css.schedule, className)}>\n            {t('runtime')}:\n\n            <Dropdown\n                className={cx(css.dropdown, css.runtime)}\n\n                items={[\n                    {\n                        title: t('python'),\n                        onClick: runtimeChange('python'),\n                    },\n\n                    {\n                        title: t('r'),\n                        onClick: runtimeChange('r'),\n                    },\n                ]}\n            >\n                <Button\n                    className={css['dropdown-button']}\n                    color=\"primary\"\n                >\n                    {t(data.runtime)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {t('jobIs')} {scheduleType !== 'unscheduled' && t('scheduled')}\n\n            <Dropdown\n                className={css.dropdown}\n\n                items={[\n                    {\n                        title: t('unscheduled'),\n                        onClick: scheduleTypeChange('unscheduled'),\n                    },\n\n                    {\n                        title: t('daily'),\n                        onClick: scheduleTypeChange('daily'),\n                    },\n\n                    // {\n                    //     title: t('hourly'),\n                    //     onClick: scheduleTypeChange('hourly'),\n                    // },\n                ]}\n            >\n                <Button\n                    className={css['dropdown-button']}\n                    color=\"primary\"\n                >\n                    {t(scheduleType)}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </Button>\n            </Dropdown>\n\n            {scheduleType === 'daily' && (\n                <Fragment>\n                    {t('at')}\n\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={new Array(24).fill(0).map((i, index) => {\n                            const time = `${index < 10 ? '0' + index : index}:00`;\n\n                            return {\n                                title: time,\n                                onClick: scheduleTimeChange(time),\n                            };\n                        })}\n                    >\n                        <Button\n                            className={css['dropdown-button']}\n                            color=\"primary\"\n                        >\n                            {scheduleTime} UTC\n                            <span className=\"mdi mdi-chevron-down\" />\n                        </Button>\n                    </Dropdown>\n\n                    <div ref={messageRef} className={cx(css.message, 'green-text')}>\n                        The next run starts in {getFormattedDuration(nextRunDelay)}\n                    </div>\n                </Fragment>\n            )}\n        </div>\n    );\n};\n\nexport default ScheduleSettings;\n","// @flow\nimport React, {useEffect, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Editor from 'react-simple-code-editor';\nimport {highlight, languages} from 'prismjs/components/prism-core';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-r';\nimport 'prismjs/themes/prism.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    saved: boolean,\n    value: string,\n    className?: string,\n    onChange: Function,\n    language: 'python' | 'r',\n}\n\nconst CodeEditor = ({value = '', onChange, language, className, saved}: Props) => {\n    const {t} = useTranslation();\n    const successMessageRef = useRef();\n    const lines = (value.match(/\\n/g) || []).length + 2;\n    const lineNos = [...Array(lines).keys()].slice(1).join('\\n');\n    const isDidMount = useRef(true);\n\n    useEffect(() => {\n        if (successMessageRef.current && !isDidMount.current)\n            if (saved) {\n                successMessageRef.current.classList.add('show');\n\n                setTimeout(() => {\n                    if (successMessageRef.current)\n                        successMessageRef.current.classList.remove('show');\n                }, 4000);\n            } else {\n                successMessageRef.current.classList.remove('show');\n            }\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [saved]);\n\n    return (\n        <div className={cx(css.editor, className)}>\n            <div className={css.success} ref={successMessageRef}>\n                {t('changesSaved')}\n            </div>\n\n            <div className={css.scroll}>\n                <div className={css.content}>\n                    <div className={css.lineNumbers} dangerouslySetInnerHTML={{__html: lineNos}} />\n\n                    <Editor\n                        value={value}\n                        onValueChange={onChange}\n                        highlight={code => highlight(code, languages[language])}\n                        padding={6}\n\n                        style={{\n                            width: '100%',\n                            fontFamily: '\"Roboto Mono\", monospace',\n                            fontSize: 12,\n                            lineHeight: '150%',\n                            outline: 'none',\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CodeEditor;","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport {getFormattedDuration} from '../../../../utils';\nimport type {Job} from '../../../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Job,\n}\n\nconst Status = ({data}: Props) => {\n    const {t} = useTranslation();\n\n    if (!data.started)\n        return null;\n\n    return (\n        <div className={css.status}>\n            {t('lastRunning')}\n            {' '}\n            {moment(data.started).format(`MM-DD-YYYY [${t('at')}] HH:mm`)}\n\n            <span>\n                <span className=\"mdi mdi-clock-outline\" />\n\n                {['RUNNING', 'SCHEDULED'].indexOf(data.status) >= 0\n                    ? <span>{' '}{t('inProgress')}&#8230;</span>\n                    : getFormattedDuration(data.finished - data.started)\n                }\n            </span>\n\n            {data.status === 'FAILED' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failed')}\n                </span>\n            )}\n\n            {data.status === 'TIMEOUT' && (\n                <span className=\"red-text\">\n                    <span className=\"mdi mdi-close-octagon-outline\" />\n                    {t('failedDueToTimeout')}\n                </span>\n            )}\n        </div>\n    );\n};\n\nexport default Status;\n","// @flow\nimport React, {useState} from 'react';\nimport moment from 'moment';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../../Button';\nimport css from './styles.module.css';\n\nimport type {Job} from '../../../types';\n\ntype Props = {\n    data: Job,\n    className?: string,\n}\n\nconst Logs = ({data, className}: Props) => {\n    if (!data.logs)\n        return null;\n\n    const {t} = useTranslation();\n    const [isShown, setIsShown] = useState(true);\n    const [updated] = useState(data.finished || data.started);\n\n    const toggleShow = () => setIsShown(!isShown);\n\n    return (\n        <div className={cx(css.logs, className)}>\n            <Button\n                className={css.button}\n                onClick={toggleShow}\n                color=\"primary\"\n                size=\"small\"\n            >\n                {t('logs')}\n            </Button>\n\n            <div className={cx(css.text, {open: isShown})}>\n                <pre>{data.logs}</pre>\n\n                {updated && <div className={css.label}>\n                    {t('updated')} {moment(updated).fromNow()}\n                </div>}\n            </div>\n        </div>\n    );\n};\n\nexport default Logs;\n","// @flow\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.text1} />\n            <div className={css.text2} />\n            <div className={css.code} />\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {useHistory, useParams} from 'react-router';\nimport {useTranslation} from 'react-i18next';\nimport useSWR from 'swr';\nimport {Link} from 'react-router-dom';\nimport AccessForbidden from '../../AccessForbidden';\nimport NotFound from '../../NotFound';\nimport StretchTitleField from '../../StretchTitleField';\nimport Dropdown from '../../Dropdown';\nimport Button from '../../Button';\nimport BackButton from '../../BackButton';\nimport Yield from '../../Yield';\nimport {useAppStore} from '../../AppStore';\n// import appStoreActionTypes from '../../AppStore/actionsTypes';\nimport {dataFetcher, isSignedIn} from '../../utils';\nimport {usePrevious, useDebounce} from '../../hooks';\nimport ScheduleSettings from './components/ScheduleSettings';\nimport CodeEditor from './components/CodeEditor';\nimport Status from './components/Status';\nimport Logs from './components/Logs';\nimport Progress from './components/Progress';\nimport Loader from './components/Loader';\nimport routes from '../../routes';\nimport config from '../../config';\n// import {setAppProgress, resetAppProgress} from 'App/actions';\nimport useActions from '../actions';\n// import {calculateJobProgress} from '../utils';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst REFRESH_TIMEOUT = 3000;\n\nconst dataFormat = data => data.job;\n\nconst Details = ({}: Props) => {\n    const {\n        runJob,\n        stopJob,\n        updateJob,\n        removeJob,\n    } = useActions();\n\n    const {user, id} = useParams();\n    const [refreshInterval, setRefreshInterval] = useState(0);\n    const [{currentUser, apiUrl}] = useAppStore();\n    const currentUserName = currentUser.data?.user;\n\n    const {data: jobData, error, mutate} = useSWR(\n        [\n            apiUrl + config.JOB_DETAILS(user, id),\n            dataFormat,\n        ],\n        dataFetcher,\n        {refreshInterval}\n    );\n\n    const {push} = useHistory();\n    const {t} = useTranslation();\n    const [titleValue, setTitleValue] = useState('');\n    const [code, setCode] = useState('');\n    const [running, setRunning] = useState(false);\n    const [stopping, setStopping] = useState(false);\n    const [codeSaved, setCodeSaved] = useState(true);\n    const progressTimer = useRef(null);\n\n    const update = async params => {\n        const data = await updateJob(params);\n\n        mutate({\n            ...jobData,\n            ...data.job,\n        });\n    };\n\n    const updateDebounce = useDebounce(update, 1000, []);\n    const updateLongDebounce = useDebounce(update, 2000, []);\n\n\n    const prevData = usePrevious(jobData);\n\n    useEffect(() => {\n        window.addEventListener('keydown', detectEnterPress);\n        return () => window.removeEventListener('keydown', detectEnterPress);\n    }, [jobData, code]);\n\n    useEffect(() => {\n        if (jobData) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n    }, []);\n\n    const detectEnterPress = event => {\n        if (event.code === 'Enter' && (event.shiftKey || event.ctrlKey)) {\n            event.preventDefault();\n\n            if (!running && !stopping)\n                onClickRun();\n        }\n    };\n\n    useEffect(() => {\n        if (['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData?.status) >= 0) {\n            clearInterval(progressTimer.current);\n\n            progressTimer.current = setInterval(() => {\n                // const [progress] = calculateJobProgress(jobData);\n\n                // setAppProgress(progress);\n            }, 50);\n        } else {\n            clearInterval(progressTimer.current);\n        }\n\n        return () => clearInterval(progressTimer.current);\n    }, [refreshInterval, jobData]);\n\n    useEffect(() => {\n        if (prevData?.id !== jobData?.id) {\n            setTitleValue(jobData.title);\n            setCode(jobData.code);\n        }\n\n        if (['RUNNING', 'SCHEDULED'].indexOf(jobData?.status) >= 0) {\n            if (!refreshInterval)\n                setRefreshInterval(REFRESH_TIMEOUT);\n        } else if (refreshInterval) {\n            setRefreshInterval(0);\n            // resetAppProgress();\n        }\n\n        return () => {\n            // resetAppProgress();\n        };\n    }, [jobData]);\n\n    const onChangeTitle = value => {\n        setTitleValue(value);\n\n        updateDebounce({\n            user: user,\n            id: jobData?.id,\n            title: value,\n        });\n    };\n\n    const onChangeCode = value => {\n        setCode(value);\n        setCodeSaved(false);\n\n        updateLongDebounce(\n            {\n                user: user,\n                id: jobData?.id,\n                code: value,\n            },\n\n            () => setCodeSaved(true),\n        );\n    };\n\n    const onChangeRuntime = runtime => {\n        update({\n            user: user,\n            id: jobData?.id,\n            runtime: runtime,\n        });\n    };\n\n    const onChangeSchedule = schedule => {\n        update({\n            user: user,\n            id: jobData?.id,\n            schedule: schedule,\n        });\n    };\n\n    const onClickRun = async () => {\n        setRunning(true);\n\n        try {\n            const data = await runJob({\n                user: user,\n                id: jobData?.id,\n                code,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n\n            setRefreshInterval(REFRESH_TIMEOUT);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setRunning(false);\n    };\n\n    const onClickStop = async () => {\n        setStopping(true);\n\n        try {\n            const data = await stopJob({\n                user: user,\n                id: jobData?.id,\n            });\n\n            mutate({\n                ...jobData,\n                ...data,\n            });\n        } catch (e) {\n            console.log(e);\n        }\n\n        setStopping(false);\n    };\n\n    const onClickDelete = async () => {\n        await removeJob({\n            user: user,\n            id: jobData?.id,\n        });\n\n        push(routes.jobs(user));\n    };\n\n    if (!jobData && !error)\n        return <Loader />;\n\n    if (error?.status === 403)\n        return <AccessForbidden>\n            {t('youDontHaveAnAccessToThisJob')}.\n\n            {isSignedIn() && (\n                <Fragment>\n                    <br />\n\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>\n                </Fragment>\n            )}\n        </AccessForbidden>;\n\n    if (error?.status === 404)\n        return <NotFound>\n            {t('theJobYouAreRookingForCouldNotBeFound')}\n            {' '}\n            {isSignedIn() && (\n                <Fragment>\n                    <Link to={routes.dashboards(currentUserName)}>\n                        {t('goToMyJobs')}\n                    </Link>.\n                </Fragment>\n            )}\n        </NotFound>;\n\n    if (!jobData)\n        return null;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={routes.jobs(user)}\n                >\n                    {(currentUserName === user)\n                        ? t('backToJobs')\n                        : t('backToJobsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={titleValue}\n                        onChange={onChangeTitle}\n                        readOnly={currentUserName !== user}\n                        placeholder={t('newJob')}\n                    />\n                </div>\n\n                <div className={css.side}>\n                    {jobData.status === 'RUNNING' && (\n                        <Progress onlyDuration className={css.progress} data={jobData} />\n                    )}\n\n                    {jobData.status === 'FAILED' && (\n                        <div className=\"red-text\">{t('sorryButYourCodeDoesntLookLikePythonJob')}</div>\n                    )}\n\n                    {['RUNNING', 'SCHEDULED', 'STOPPING'].indexOf(jobData.status) >= 0\n                        ? <Button\n                            className={css.button}\n                            color=\"fail\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={stopping}\n                            onClick={onClickStop}\n                        >\n                            <span className=\"mdi mdi-pause\" />\n                            {t('stop')}\n                        </Button>\n\n                        : <Button\n                            className={css.button}\n                            color=\"success\"\n                            size=\"small\"\n                            variant=\"contained\"\n                            disabled={running}\n                            onClick={onClickRun}\n                        >\n                            <span className=\"mdi mdi-play\" />\n                            {t('run')}\n                        </Button>\n                    }\n                </div>\n\n                {currentUserName === user && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: onClickDelete,\n                        },\n                    ]}\n                >\n                    <Button\n                        className={css['dropdown-button']}\n                        color=\"secondary\"\n                    >\n                        <span className=\"mdi mdi-dots-horizontal\" />\n                    </Button>\n                </Dropdown>}\n            </div>\n\n            <Status data={jobData} />\n\n            <ScheduleSettings\n                className={css.schedule}\n                data={jobData}\n                onChange={onChangeSchedule}\n                onChangeRuntime={onChangeRuntime}\n            />\n\n            <CodeEditor\n                className={css.codeEditor}\n                value={code}\n                onChange={onChangeCode}\n                language={jobData.runtime}\n                saved={codeSaved}\n            />\n\n            <Logs\n                className={css.logs}\n                data={jobData}\n            />\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport routes from '../routes';\nimport List from './List';\nimport Details from './Details';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Jobs = ({}: Props) => {\n    return (\n        <div className={css.jobs}>\n            <Switch>\n                <Route path={routes.jobs()} exact component={List} />\n                <Route path={routes.jobsDetails()} component={Details} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default Jobs;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../../Button';\nimport logo from '../assets/logo.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n}\n\nconst Header = ({className}: Props) => {\n    const {t} = useTranslation();\n\n    return <div className={cx(css.header, className)}>\n        <Link to=\"/\" className={css.logo}>\n            <img width=\"129\" height=\"35\" src={logo} alt=\"logo\"/>\n        </Link>\n\n        <div className={css.buttons}>\n            <Button\n                Component={Link}\n                to=\"/auth/login\"\n                className={css.button}\n                color=\"primary\"\n            >{t('logIn')}</Button>\n        </div>\n    </div>;\n};\n\nexport default Header;\n","import React from 'react';\nimport Header from './Header';\nimport css from './styles.module.css';\n\nconst UnAuthorizedLayout = ({children}) => {\n    return (\n        <div className={css.layout}>\n            <Header className={css.header} />\n\n            <div className={css.main}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default UnAuthorizedLayout;\n","import React, {Fragment, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport css from './style.module.css';\n\ntype Props = {\n    className?: string,\n    renderModalContent?: Function,\n}\n\nconst SettingsInformation = ({className, renderModalContent}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n\n    const toggleModal = () => setIsShowModal(value => !value);\n\n    return (\n        <Fragment>\n            <Button\n                className={cx(css.infoButton, className)}\n                size=\"small\"\n                color=\"secondary\"\n                onClick={toggleModal}\n            >\n                <span className=\"mdi mdi-information-outline\" />\n            </Button>\n\n            {renderModalContent && (\n                <Modal\n                    withCloseButton\n                    title={t('howToConnectYourDataWithDStack')}\n                    isShow={isShowModal}\n                    size=\"big\"\n                    onClose={toggleModal}\n                >\n                    {renderModalContent()}\n                </Modal>\n            )}\n        </Fragment>\n    );\n};\n\nexport default SettingsInformation;\n"],"names":["FETCH_CURRENT_USER","FETCH_CURRENT_USER_SUCCESS","FETCH_CURRENT_USER_FAIL","START_PROGRESS","SET_PROGRESS","COMPLETE_PROGRESS","RESET_PROGRESS","initialState","currentUser","loading","data","appProgress","active","value","reducer","state","action","type","actionsTypes","payload","FETCH_FAIL","StateContext","createContext","AppStoreProvider","children","apiUrl","React","useReducer","useAppStore","useContext","DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","SUPPORT_URL","SIGN_UP_URL","RESET_PASSWORD_URL","UPDATE_PASSWORD_URL","USER_DATA_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACKS_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","JOB_LIST","JOB_DETAILS","JOB_CREATE","JOB_UPDATE","JOB_DELETE","JOB_RUN","JOB_STOP","DISCORD_URL","TWITTER_URL","GITHUB_URL","BLOG_URL","TOKEN_STORAGE_KEY","reportPlotPythonCode","installRPackageCode","reportPlotRCode","apiFabric","CancelToken","axios","instance","create","baseURL","crossDomain","cancelToken","interceptors","request","use","requestConfig","token","localStorage","getItem","config","headers","Authorization","response","error","_get","Promise","reject","AccessForbidden","css","forbidden","image","message","Avatar","forwardRef","className","name","color","size","withBorder","onClick","ref","cx","avatar","border","slice","BackButton","Component","props","back","COLORS","white","blue","Spinner","isShown","align","spinner","show","Button","variant","fullWidth","isShowSpinner","button","CheckboxField","disabled","appearance","label","onLabel","offLabel","checkbox","__html","wrapper","mark","Copy","copyText","successMessage","buttonTitle","t","useTranslation","isShowMessage","setIsShowMessage","useState","onCLick","copy","setTimeout","icon","CodeViewer","language","fontSize","code","Dropdown","buttonClassName","items","isShow","setIsShow","buttonRef","useRef","dropdownRef","useEffect","document","body","addEventListener","outlineClickHandle","removeEventListener","event","targetElement","target","current","parentNode","onCLickButton","clickStopPropagation","stopPropagation","preventDefault","onCLickItem","item","dropdown","offset","menu","map","i","index","title","cloneElement","unicodeBase64Decode","text","decodeData","window","atob","decodeURIComponent","Array","prototype","call","c","charCodeAt","toString","join","e","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","attachments","fields","length","forEach","Object","keys","params","key","options","push","filter","a","b","indexOf","min","apply","max","tabs","tab","find","duration","string","momentDuration","moment","hours","minutes","seconds","as","asSeconds","fileToBase64","file","resolve","reader","FileReader","readAsDataURL","onload","result","split","onerror","fetcher","url","responseDataFormat","errorBody","status","JSON","parse","console","Error","info","isSignedIn","Boolean","FileDragnDrop","formats","progressPercent","onChange","inputRef","setActive","selectedFile","setSelectedFile","isDidMount","useImperativeHandle","clear","removeFile","click","preventStop","onDrop","dataTransfer","files","checkAvailableExtension","onDragEnter","onDragLeave","onChangeInput","ext","pop","isAvailable","some","format","dnd","progressBar","progress","width","fileWrapper","fileExtend","fileSection","fileName","fileSize","fileRemove","placeholder","Loader","loader","grid","pic","section","MarkdownRender","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","Modal","dialogClassName","onClose","withCloseButton","onClickByLayer","currentTarget","modal","dialog","close","NotFound","help","ProgressBar","isActive","globalProgress","setProgress","setWidth","prevIsActive","usePrevious","step","currentProgress","requestFrame","startCalculateProgress","cancelAnimationFrame","onResize","offsetWidth","requestAnimationFrame","calculateProgress","round","atan","PI","bar","backgroundSize","TextField","errors","hasErrors","field","input","SearchField","showEverything","isDark","onChangeHandle","search","allValue","SelectField","propValue","mode","showSearch","o","onSelect","onDeselect","renderOptions","CustomHandle","style","left","transform","SliderField","slider","StackFilters","form","hasSelectField","useMemo","filters","select","isArray","StretchTitleField","onChangeProp","set","hidden","Tabs","soon","TextAreaField","textarea","Tooltip","overlayContent","arrowContent","placement","trigger","overlayStyle","pointerEvents","tooltip","ViewSwitcher","stateValue","setStateValue","toggleValue","newValue","switcher","Yield","node","getElementById","Table","captions","rows","table","caption","row","cell","isImageType","test","base64ToJSON","base64","parsedJSON","base64ImagePrefixes","View","attachment","fullAttachment","isList","requestStatus","viewRef","tableScale","setTableScale","viewWidth","setVieWidth","noRender","setNoRender","onResizeCard","containerWidth","parentElement","newScale","Bokeh","json","version","get","parseInt","querySelector","embed","embed_item","renderImage","preview","renderCSV","decodeCSV","CSV","renderPlotly","layout","margin","autosize","responsive","height","renderBokeh","renderAttachment","undefined","isEqual","view","areEqual","prevProps","nextProps","memo","callBack","rootMargin","threshold","root","deps","intersectionCallback","useCallback","isIntersecting","observer","IntersectionObserver","observe","unobserve","FETCH","FETCH_SUCCESS","meta","StateProvider","useStateValue","dispatch","fetchAttachment","onSuccess","Attachment","withLoader","actions","loadingFullAttachment","setLoadingFullAttachment","setFullAttachment","prevAttachment","fetchFullAttachment","baseUrl","useIntersectionObserver","Item","deleteAction","renderContent","rest","onClickDelete","cn","chartIcon","top","private","additional","head","date","timestamp","delete","notFound","auth","authLogin","verifyUser","stacks","user","stackDetails","dashboards","dashboardsDetails","jobs","jobsDetails","settings","defaultValue","setValue","savedValue","setItem","List","deleteStack","renderUploadStack","renderItemContent","setView","useListViewSwitcher","deletingStack","setDeletingStack","isShowWelcomeModal","setIsShowWelcomeModal","isShowUploadStackModal","setIsShowUploadStackModal","setSearch","isInitialMount","sorting","setSorting","sortingItems","lastSource","showWelcomeModal","onChangeSearch","hideWelcomeModal","showUploadStackModal","hideUploadStackModal","deleteItem","hideDeleteConfirmation","showDeleteConfirmation","getItems","list","header","headerSide","uploadButton","controls","viewSwitcher","itemList","fill","loadingItem","StackListItem","Link","routes","description","buttons","pullPythonCode","p","isString","pullRCode","HowTo","modalMode","configurePythonCommand","configureRCommand","activeCodeTab","setActiveCodeTab","activePlatformTab","setActivePlatformTab","howto","footer","href","handler","listener","contains","getFrameName","frame","Frames","frames","headId","onMarkAsHead","isShowDropdown","setIsShowDropdown","toggleDropdown","frameForMarkingAsHead","setFrameForMarkingAsHead","useOnClickOutside","activeFrame","f","onClickItem","onClickMarkAsHead","hideConfirmation","confirmMarkFrameAsHead","diagram","isEmail","isRequired","noSpaces","isValidStackName","validationMap","required","email","getValidationFunction","validator","initialFormState","fieldsValidators","setForm","formErrors","setFormErrors","eventOrName","fieldValue","checked","resetForm","getFieldErrors","fieldName","isValid","checkValidForm","newFormErrors","Details","currentFrameId","onChangeHeadFrame","attachmentIndex","onChangeAttachmentIndex","downloadAttachment","onChangeFrame","toggleUpload","backUrl","renderHeader","renderSideHeader","renderSidebar","didMountRef","useForm","activeTab","setActiveTab","setFields","setTabs","prevFrame","isShowHowToModal","setIsShowHowToModal","showHowToModal","hideHowToModal","parseParams","findAttach","tabName","attach","valid","findAttachDebounce","_debounce","parseStackParams","parseStackTabs","onClickDownloadAttachment","onChangeTab","details","sideHeader","StackFrames","revisions","container","StackAttachment","StackHowToFetchData","callback","depsOrDelay","delay","MB","Upload","refresh","withButton","isShowModal","setIsShowModal","uploading","setUploading","setFile","runValidation","useDebounce","toggleModal","closeHandle","getErrorsText","submit","Date","now","v4","fileToBaseTo64","method","put","onUploadProgress","progressEvent","percentCompleted","loaded","total","upload","content","subtitle","count","dragndrop","fileFieldRef","clearForm","UploadStack","withFileUpload","move","array","oldIndex","newIndex","splice","moveElement","GridContext","GridProvider","constructor","setItems","setState","moveItem","sourceId","destinationId","sourceIndex","findIndex","destinationIndex","render","DnDItem","onMoveItem","connectDrag","useDrag","collect","monitor","isDragging","connectDrop","useDrop","accept","drop","hoveredOverItem","Children","child","forwardedRef","Card","deleteCard","updateCardTitle","moveAvailable","setTitle","stackOwner","setAttachmentIndex","cardParams","setCardParams","onUpdate","onChangeTitle","card","inner","readonly","nameValue","nameEdit","infoTime","link","emptyMessage","addCards","cards","deleteDashboard","updateCard","withSorting","DnDGridContext","prevData","onChangeTitleDebounce","setGridItems","cardsItems","dispatchEvent","Event","moveCard","indexFrom","indexTo","getDeleteCardAction","getUpdateCardTitleAction","reduce","cardFields","unionBy","defaultFilterValues","renderFilters","getAddClickAction","CardWrapComponent","Fragment","edit","addButton","empty","dashboard","hasStacks","previewWrap","by","addDashboard","addDashboardDisable","mobileSearch","add","DashboardListItem","AddStacksModal","onAddStacks","useParams","searchQuery","setSearchQuery","selected","setSelected","getFullStackName","isChecked","stackName","getOnClickStack","filtered","api","fetchJob","runJob","post","stopJob","createJob","updateJob","removeJob","calculateJobProgress","job","estimatedDuration","JOB_DEFAULT_ESTIMATED_DURATION","currentDuration","started","leftDuration","Progress","onlyDuration","progressTimer","clearInterval","setInterval","time","getFormattedDuration","REFRESH_TIMEOUT","dataFormat","TableRow","onClickRow","onEdit","onDelete","useActions","currentUserName","refreshInterval","setRefreshInterval","jobData","mutate","useSWR","dataFetcher","initialData","revalidateOnFocus","rowClick","onRun","onStop","getTitle","renderStatus","toLowerCase","red","runtime","finished","useHistory","onAdd","lastRuntime","getOnRemove","j","tableWrap","tableCaptions","tableCell","timeout","ScheduleSettings","onChangeRuntime","messageRef","scheduleType","setScheduleType","schedule","scheduleTime","setScheduleTime","nextRunDelay","setNextRunDelay","runtimeChange","scheduleTypeChange","scheduleTimeChange","runTime","getHours","toDate","getTime","classList","clearTimeout","remove","CodeEditor","saved","successMessageRef","lines","match","lineNos","editor","success","scroll","lineNumbers","highlight","languages","fontFamily","lineHeight","outline","Status","Logs","logs","setIsShown","updated","toggleShow","open","fromNow","text1","text2","titleValue","setTitleValue","setCode","running","setRunning","stopping","setStopping","codeSaved","setCodeSaved","update","updateDebounce","updateLongDebounce","detectEnterPress","shiftKey","ctrlKey","onClickRun","onChangeCode","onChangeSchedule","onClickStop","side","codeEditor","Jobs","Header","logo","UnAuthorizedLayout","main","SettingsInformation","renderModalContent","infoButton"],"mappings":"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"}