{"version":3,"file":"index.modern.js","sources":["../src/config/index.js","../src/AccessForbidden/index.js","../src/Avatar/index.js","../src/BackButton/index.js","../src/Spinner/index.js","../src/Button/index.js","../src/CheckboxField/index.js","../src/Copy/index.js","../src/CodeViewer/index.js","../src/Dropdown/index.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/parseStackParams.js","../src/utils/fileToBaseTo64.js","../src/FileDragnDrop/index.js","../src/Loader/index.js","../src/MarkdownRender/index.js","../src/Modal/index.js","../src/NotFound/index.js","../src/hooks/usePrevious.js","../src/ProgressBar/index.js","../src/TextField/index.js","../src/SearchField/index.js","../src/SelectField/index.js","../src/SliderField/index.js","../src/StackFilters/index.js","../src/StretchTitleField/index.js","../src/Tabs/index.js","../src/TextAreaField/index.js","../src/Tooltip/index.js","../src/ViewSwitcher/index.js","../src/Yield/index.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/stack/Attachment/Table/index.js","../src/hooks/useIntersectionObserver.js","../src/stack/Attachment/actionsTypes.js","../src/stack/Attachment/store.js","../src/stack/Attachment/actions.js","../src/stack/Attachment/index.js","../src/stack/ListItem/index.js","../src/stack/HowTo/index.js","../src/stack/List/index.js","../src/stack/HowToFetchData/index.js","../src/hooks/useOnClickOutside.js","../src/stack/Frames/index.js","../src/stack/Details/components/Loader/index.js","../src/validations/index.js","../src/hooks/useForm.js","../src/stack/Details/index.js","../src/hooks/useDebounce.js","../src/stack/Upload/index.js","../src/dnd/DnDGridContext/index.js","../src/dnd/DnDItem/index.js","../src/dashboard/Details/components/Loader/index.js","../src/dashboard/Details/components/Card/index.js","../src/dashboard/Details/index.js","../src/dashboard/ListItem/index.js","../src/dashboard/List/components/Loader/index.js","../src/dashboard/List/index.js","../src/dashboard/AddStacksModal/Loader/index.js","../src/dashboard/AddStacksModal/index.js","../src/layouts/UnAuthorized/Header/index.js","../src/layouts/UnAuthorized/index.js"],"sourcesContent":["export default {\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n\n    USER_DATA_URL: '/users/remember',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACKS_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: 'https://github.com/dstackai',\n    BLOG_URL: 'https://blog.dstack.ai',\n\n    CONFIGURE_PYTHON_COMMAND: (token = '<token>', userName = '<username>') => {\n        const origin = window ? window.location.origin : '';\n\n        return `dstack config add --token ${token} --user ${userName} --server ${origin}/api`;\n    },\n\n    CONFIGURE_R_COMMAND: (token = '<token>', userName = '<username>') => {\n        const origin = window ? window.location.origin : '';\n\n        return `dstack::configure(user = \"${userName}\", token = \"${token}\", persist = \"global\"`\n            + `, server = \"${origin}/api\")`;\n    },\n};\n","// @flow\nimport React from 'react';\nimport image from './lock.svg';\nimport css from './style.module.css';\n\nconst AccessForbidden = ({children}) => {\n    return (\n        <div className={css.forbidden}>\n            <img src={image} alt=\"\" width=\"85\" height=\"104\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AccessForbidden;\n","import React, {forwardRef} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    onClick?: Function,\n    withBorder?: boolean,\n    className?: string,\n    name: string,\n    color?: 'violet' | 'turquoise' | 'blue' | 'lilac' | 'pink' | 'green' | 'green2' | 'orange',\n    size?: 'small' | 'normal' | 'list',\n}\n\nconst Avatar = forwardRef(({className, name, color = 'violet', size = 'normal', withBorder, onClick}: Props, ref) => {\n    return (\n        <div ref={ref} className={cx(css.avatar, className, color, size, {border: withBorder})} onClick={onClick}>\n            {name.slice(0, 2)}\n        </div>\n    );\n});\n\nexport default Avatar;\n","import React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst BackButton = ({Component = 'button', children, className, ...props}) => {\n    return (\n        <Component className={cx(css.back, className)} {...props}>\n            <span className=\"mdi mdi-arrow-left\" />\n            {children}\n        </Component>\n    );\n};\n\nexport default BackButton;","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\nconst COLORS = {\n    white: '#fff',\n    blue: '#507CD0',\n};\n\ntype Props = {\n    align?: 'center',\n    size?: number,\n    color?: 'white' | 'blue',\n    isShown?: boolean,\n    className?: string,\n};\n\nconst Spinner = ({size = 22, color = 'white', isShown, className, align}: Props) => {\n    return (\n        <div className={cx(css.spinner, className, align, {show: isShown})}>\n            <svg width={size} height={size} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* eslint-disable */}\n                <path\n                    d=\"M11.7046 18.9689C13.3618 18.8224 14.9321 18.1628 16.1969 17.0821C17.4617 16.0014 18.3581 14.5532 18.7614 12.9392C19.1647 11.3252 19.0548 9.62557 18.4469 8.07695C17.839 6.52832 16.7635 5.20773 15.37 4.29897C13.9765 3.39021 12.3343 2.9385 10.672 3.00671C9.00979 3.07491 7.41015 3.65964 6.09577 4.67951C4.78139 5.69938 3.81766 7.10365 3.33871 8.69687C2.85976 10.2901 2.88943 11.993 3.42358 13.5686L5.19569 12.9678C4.78648 11.7607 4.76375 10.4561 5.13067 9.23556C5.4976 8.01499 6.23591 6.93918 7.24286 6.15785C8.24981 5.37653 9.4753 4.92857 10.7488 4.87632C12.0222 4.82406 13.2803 5.17012 14.3478 5.86632C15.4154 6.56253 16.2394 7.57423 16.7051 8.76064C17.1708 9.94704 17.255 11.2491 16.946 12.4856C16.6371 13.7221 15.9503 14.8316 14.9814 15.6595C14.0124 16.4875 12.8094 16.9927 11.5398 17.105L11.7046 18.9689Z\"\n                    fill=\"url(#paint0_linear)\"\n                />\n                {/* eslint-enable */}\n\n                <defs>\n                    <linearGradient id=\"paint0_linear\" x1=\"13.5\" y1=\"18\" x2=\"4\" y2=\"13\" gradientUnits=\"userSpaceOnUse\">\n                        <stop stopColor={COLORS[color]} />\n                        <stop offset=\"1\" stopColor={COLORS[color]} stopOpacity=\"0.2\"/>\n                    </linearGradient>\n                </defs>\n            </svg>\n\n        </div>\n    );\n};\n\nexport default Spinner;\n","// @flow\nimport React, {forwardRef} from 'react';\nimport type {Node} from 'react';\nimport cx from 'classnames';\nimport css from './style.module.css';\nimport Spinner from '../Spinner';\n\ntype Props = {\n    Component?: any,\n    children?: Node,\n    className?: string,\n    size?: 'small' | 'normal' | 'large',\n    color?: 'default' | 'primary' | 'secondary' | 'lilac' | 'success' | 'fail',\n    variant?: 'default' | 'contained' | 'outlined',\n    isShowSpinner?: boolean,\n    fullWidth?: boolean,\n    onClick?: Function,\n};\n\nconst Button:Props = forwardRef((\n    {\n        Component = 'button',\n        children,\n        className,\n        size = 'normal',\n        color = 'default',\n        variant = 'default',\n        fullWidth = false,\n        isShowSpinner,\n        ...props\n    },\n\n    ref\n) => {\n    return (\n        <Component\n            ref={ref}\n            className={\n                cx(css.button, size, `color-${color}`, `variant-${variant}`, className, {'full-width': fullWidth})\n            }\n\n            {...props}\n        >\n            {isShowSpinner && <Spinner className={css.spinner} color=\"white\" isShown />}\n            {children}\n        </Component>\n    );\n});\n\nexport default Button;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    onChange?: Function,\n    value?: boolean,\n    appearance: 'checkbox' | 'switcher',\n    align: 'left' | 'right',\n    label?: string,\n    onLabel?: string,\n    offLabel?: string,\n    children?: any,\n}\n\nconst CheckboxField = ({\n    className,\n    value,\n    disabled,\n    appearance = 'checkbox',\n    align = 'left',\n    label,\n    onLabel,\n    offLabel,\n    children,\n    ...props\n}: Props) => {\n    return (\n        <label className={cx(css.checkbox, className, appearance, align, {disabled})}>\n            <div>\n                <input\n                    type=\"checkbox\"\n                    checked={value}\n                    {...props}\n                />\n\n                {offLabel && <span\n                    className={cx(css['toggle-label'], 'off')}\n                    dangerouslySetInnerHTML={{__html: offLabel}}\n                />}\n\n                <div className={css.wrapper}>\n                    <div className={cx(css.mark, 'mdi', 'mdi-check', {'toggle-color': !(onLabel && offLabel)})} />\n                </div>\n\n                {onLabel && <span\n                    className={cx(css['toggle-label'], 'on')}\n                    dangerouslySetInnerHTML={{__html: onLabel}}\n                />}\n\n                {label && <span className={css.label}>{label}</span>}\n            </div>\n\n            {children}\n        </label>\n    );\n};\n\nexport default CheckboxField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport copy from 'copy-to-clipboard';\nimport {useTranslation} from 'react-i18next';\nimport css from './styles.module.css';\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    copyText: string,\n    buttonTitle?: string,\n    successMessage?: string,\n};\n\nconst Copy = ({children, className, copyText, successMessage, buttonTitle}: Props) => {\n    const {t} = useTranslation();\n    const [isShowMessage, setIsShowMessage] = useState(false);\n\n    const onCLick = () => {\n        copy(copyText);\n        setIsShowMessage(true);\n        setTimeout(() => setIsShowMessage(false), 3000);\n    };\n\n    return <div className={cx(css.copy, className)}>\n        {children\n            ? children({onClick: onCLick})\n            : (\n                <div className={css.button} onClick={onCLick}>\n                    <span className={cx(css.icon, 'mdi mdi-content-copy')} />\n\n                    {buttonTitle\n                        ? buttonTitle\n                        : t('copy')\n                    }\n                </div>\n            )\n        }\n\n        <div className={cx(css.message, {'is-show': isShowMessage})}>\n            {successMessage\n                ? successMessage\n                : t('copied')\n            }\n        </div>\n    </div>;\n};\n\nexport default Copy;\n","// @flow\n\nimport React from 'react';\nimport Highlight from 'react-highlight.js';\nimport {useTranslation} from 'react-i18next';\nimport Copy from '../Copy';\nimport cx from 'classnames';\nimport './theme.css';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    language: string,\n    children: string,\n    fontSize?: string | number\n};\n\nconst CodeViewer = ({className, language, children, fontSize}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.code, className, fontSize && `font-size-${fontSize}`)}>\n            <Highlight language={language}>\n                {children}\n            </Highlight>\n\n            <Copy\n                className={css.copy}\n                copyText={children}\n                successMessage={t('snippetIsCopied')}\n            />\n        </div>\n    );\n};\n\nexport default CodeViewer;\n","// @flow\nimport React, {useState, useEffect, useRef} from 'react';\nimport cx from 'classnames';\nimport RcTooltip from 'rc-tooltip';\nimport css from './styles.module.css';\n\ntype Item = {\n    title: string,\n    onClick?: Function,\n}\n\ntype Props = {\n    children?: Function,\n    className?: string,\n    buttonClassName?: string,\n    items: Array<Item>\n}\n\nconst Dropdown = ({className, buttonClassName, children, items}: Props) => {\n    const [isShow, setIsShow] = useState(false);\n    const buttonRef = useRef(null);\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n        document.body.addEventListener('click', outlineClickHandle);\n        return () => document.body.removeEventListener('click', outlineClickHandle);\n    });\n\n    const outlineClickHandle = (event: SyntheticEvent<HTMLBodyElement>) => {\n        let targetElement = event.target;\n\n        do {\n            if (targetElement === buttonRef.current || targetElement === dropdownRef.current)\n                return;\n\n            targetElement = targetElement.parentNode;\n        } while (targetElement);\n\n        if (isShow)\n            setIsShow(false);\n    };\n\n    const onCLickButton = (event: SyntheticEvent<HTMLButtonElement>) => {\n        clickStopPropagation(event);\n        setIsShow(!isShow);\n    };\n\n    const clickStopPropagation = (event: SyntheticEvent<HTMLButtonElement>) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    const onCLickItem = (item: Item) => () => {\n        setIsShow(!isShow);\n\n        if (item.onClick)\n            item.onClick();\n    };\n\n    return (\n        <div className={cx(css.dropdown, className, {active: isShow})}>\n            <RcTooltip\n                arrowContent={null}\n                visible={isShow}\n                placement=\"bottomRight\"\n                destroyTooltipOnHide\n                align={{offset: [0, 0]}}\n\n                overlay={\n                    <div\n                        className={cx(css.menu, 'show')}\n                        ref={dropdownRef}\n                        onClick={clickStopPropagation}\n                    >\n                        {items.map((i, index) => <div\n                            key={index}\n                            className={css.item}\n                            onClick={onCLickItem(i)}\n                        >\n                            {i.title}\n                        </div>)}\n                    </div>\n                }\n            >\n                {children\n                    ? React.cloneElement(children, {\n                        onClick: onCLickButton,\n                        ref: buttonRef,\n                    })\n                    : <div ref={buttonRef} className={cx(css.button, buttonClassName)} onClick={onCLickButton}>\n                        <span className=\"mdi mdi-dots-vertical\" />\n                    </div>\n                }\n            </RcTooltip>\n        </div>\n    );\n};\n\nexport default Dropdown;\n","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","export default attachments => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","// @flow\nimport React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {formatBytes} from '../utils';\nimport css from './style.module.css';\n\ntype Props = {\n    formats?: Array<string>,\n    className?: string,\n    loading?: boolean,\n    progressPercent?: ?number,\n    onChange?: Function,\n}\n\nconst FileDragnDrop = ({\n    formats,\n    className,\n    loading,\n    progressPercent = null,\n    onChange,\n}: Props) => {\n    const {t} = useTranslation();\n    const inputRef = useRef(null);\n    const [active, setActive] = useState(false);\n    const [selectedFile, setSelectedFile] = useState();\n    const isDidMount = useRef(true);\n\n    useEffect(() => {\n        if (!isDidMount.current) {\n            if (onChange)\n                onChange(selectedFile);\n        } else\n            isDidMount.current = false;\n    }, [selectedFile]);\n\n    const onClick = event => {\n        event.preventDefault();\n\n        if (inputRef.current)\n            inputRef.current.click();\n    };\n\n    const preventStop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    const onDrop = event => {\n        preventStop(event);\n        setActive(false);\n\n        const [file] = event.dataTransfer.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const onDragEnter = event => {\n        preventStop(event);\n        setActive(true);\n\n    };\n\n    const onDragLeave = event => {\n        preventStop(event);\n        setActive(false);\n    };\n\n    const onChangeInput = event => {\n        const [file] = event.target.files;\n\n        if (file && checkAvailableExtension(file))\n            setSelectedFile(file);\n    };\n\n    const removeFile = () => {\n        setSelectedFile(null);\n    };\n\n    const checkAvailableExtension = file => {\n        const ext = '.' + file.name.split('.').pop();\n\n        let isAvailable;\n\n        if (formats && formats.length)\n            isAvailable = formats.some(format => {\n                if (format === '.jpg' || format === '.jpeg')\n                    return ext === '.jpg' || ext === '.jpeg';\n                else\n                    return format === ext;\n            });\n        else\n            isAvailable = true;\n\n        return isAvailable;\n    };\n\n    if (loading)\n        return (\n            <div className={cx(css.dnd, className, {active})}>\n                <div className={css.loading}>\n                    {t('Uploading')}&hellip;\n                    {typeof progressPercent === 'number' && `${progressPercent}%`}\n                </div>\n\n                {typeof progressPercent === 'number' &&  (\n                    <div className={css.progressBar}>\n                        <div className={css.progress} style={{width: `${progressPercent}%`}} />\n                    </div>\n                )}\n            </div>\n        );\n\n    if (selectedFile)\n        return <div className={cx(css.file, className)}>\n            <div className={css.fileExtend}>\n                .csv\n            </div>\n\n            <div className={css.fileSection}>\n                <div className={css.fileName}>{selectedFile.name}</div>\n                <div className={css.fileSize}>{formatBytes(selectedFile.size)}</div>\n            </div>\n\n            <div onClick={removeFile} className={cx(css.fileRemove, 'mdi mdi-close')} />\n        </div>;\n\n\n    return (\n        <div\n            className={cx(css.dnd, className, {active})}\n            onDrop={onDrop}\n            onDragEnter={onDragEnter}\n            onDragOver={onDragEnter}\n            onDragLeave={onDragLeave}\n        >\n            <input\n                ref={inputRef}\n                onChange={onChangeInput}\n                type=\"file\"\n            />\n\n            <div className={css.placeholder}>\n                {t('dragHereAFile')}\n                {''}\n                {Boolean(formats) && `(${formats.join(', ')})`}\n                {' '}\n                {t('or')}\n                {' '}\n                <a onClick={onClick} href=\"#\">{t('upload')}</a>\n                {' '}\n                {t('fromYourComputer')}.\n            </div>\n        </div>\n    );\n};\n\nexport default FileDragnDrop;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport MathJax from 'react-mathjax';\nimport RemarkMathPlugin from 'remark-math';\n\nconst MarkdownRender = props => {\n    const newProps = {\n        ...props,\n        plugins: [\n            RemarkMathPlugin,\n        ],\n\n        renderers: {\n            ...props.renderers,\n            math: props =>\n                <MathJax.Node formula={props.value} />,\n            inlineMath: props =>\n                <MathJax.Node inline formula={props.value} />,\n        },\n    };\n\n    return (\n        <MathJax.Provider input=\"tex\">\n            <ReactMarkdown {...newProps} />\n        </MathJax.Provider>\n    );\n};\n\nexport default MarkdownRender;","// @flow\n\nimport React from 'react';\nimport type {Node} from 'react';\nimport {Portal} from 'react-portal';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    title?: string,\n    isShow?: boolean,\n    className?: string,\n    dialogClassName?: string,\n    size?: 'confirmation' | 'small' | 'big',\n    onClose: Function,\n    children?: Node,\n    withCloseButton?: boolean,\n};\n\nconst Modal = ({\n    title,\n    className,\n    dialogClassName,\n    size = 'big',\n    onClose,\n    isShow,\n    children,\n    withCloseButton,\n}: Props) => {\n    const onClickByLayer = event => {\n        if (event.currentTarget === event.target && onClose)\n            onClose();\n    };\n\n    return (\n        <Portal>\n            <div className={cx(css.modal, className, {show: isShow})} onClick={onClickByLayer}>\n                <div className={cx(css.dialog, size, dialogClassName)}>\n                    {withCloseButton && <span className={cx(css.close, 'mdi mdi-close')} onClick={onClose} />}\n\n                    {title && <div className={css.title}>{title}</div>}\n                    {children}\n                </div>\n            </div>\n        </Portal>\n    );\n};\n\nexport default Modal;\n","// @flow\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport config from '../config';\nimport image from './404.svg';\nimport css from './style.module.css';\n\nconst NotFound = ({children}) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={css['not-found']}>\n            <img src={image} alt=\"\" width=\"224\" height=\"77\" />\n\n            {children && (\n                <div className={css.message}>\n                    {children}\n                </div>\n            )}\n\n            <div className={css.help}>\n                {t('needHelpWWriteToUsOn')}\n                {' '}\n                <a target=\"_blank\" href={config.TWITTER_URL}><span className=\"mdi mdi-twitter\" /> Twitter</a>\n                {', '}\n                <a target=\"_blank\" href={config.GITHUB_URL}><span className=\"mdi mdi-github-circle\" />GitHub</a>\n                {' '}\n                {t('or')}\n                {' '}\n                <a target=\"_blank\" href={config.DISCORD_URL}><span className=\"mdi mdi-discord\" />Discord</a>\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;\n","import {useEffect, useRef} from 'react';\n\nexport default value => {\n    const ref = useRef(value);\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n","// @flow\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport usePrevious from '../hooks/usePrevious';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    isActive: ?boolean,\n}\n\nconst ProgressBar = ({className, isActive, progress: globalProgress}: Props) => {\n    const [progress, setProgress] = useState(0);\n    const [width, setWidth] = useState(1000);\n    const prevIsActive = usePrevious(isActive);\n    const step = useRef(0.01);\n    const currentProgress = useRef(0);\n    const requestFrame = useRef(null);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        if (isActive) {\n            setProgress(0);\n            step.current = 0.01;\n            currentProgress.current = 0;\n            startCalculateProgress();\n        }\n\n        if (prevIsActive === true && isActive === false) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(100);\n            setTimeout(() => setProgress(0), 800);\n        }\n\n        if (isActive === null) {\n            if (requestFrame.current)\n                cancelAnimationFrame(requestFrame.current);\n\n            setProgress(0);\n        }\n    }, [isActive]);\n\n    useEffect(() => {\n        if (globalProgress !== null)\n            setProgress(globalProgress);\n        else {\n            setProgress(0);\n        }\n    }, [globalProgress]);\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize);\n\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n\n        return () => window.removeEventListener('resize', onResize);\n    }, []);\n\n    const startCalculateProgress = () => {\n        requestAnimationFrame(calculateProgress);\n    };\n\n    const calculateProgress = useCallback(() => {\n        currentProgress.current += step.current;\n        const progress = Math.round(Math.atan(currentProgress.current) / (Math.PI / 2) * 100 * 1000) / 1000;\n\n        setProgress(progress);\n\n        if (progress > 70)\n            step.current = 0.005;\n\n        if (progress >= 100)\n            cancelAnimationFrame(requestFrame.current);\n\n        requestFrame.current = requestAnimationFrame(calculateProgress);\n    }, [isActive]);\n\n    const onResize = () => {\n        if (ref.current)\n            setWidth(ref.current.offsetWidth);\n    };\n\n    return (\n        <div ref={ref} className={cx(css.bar, className)}>\n            <div\n                className={css.progress}\n                style={{\n                    width: `${progress}%`,\n                    backgroundSize: `${width}px 5px`,\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ProgressBar;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'middle' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.input}>\n                    {/*$FlowFixMe*/}\n                    <input\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextField;\n","// @flow\n\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport TextField from '../TextField';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    showEverything?: boolean,\n    isDark?: boolean,\n}\n\nconst SearchField = ({className, showEverything, isDark, ...props}: Props) => {\n    const [isShow, setIsShow] = useState(showEverything || (props.value && props.value.length));\n\n    const clear = () => {\n        if (props.onChange)\n            props.onChange('');\n\n        if (!showEverything)\n            setIsShow(false);\n    };\n\n    const onChangeHandle = (event:SyntheticEvent<HTMLInputElement>) => {\n        if (props.onChange)\n            props.onChange(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.search, className, {'is-dark': isDark})}>\n            {isShow && <TextField\n                {...props}\n                onChange={onChangeHandle}\n                className={css.field}\n            />}\n\n            {isShow && Boolean(props.value && props.value.length) && (\n                <div className={css.clear} onClick={clear}>\n                    <span className=\"mdi mdi-close\" />\n                </div>\n            )}\n\n            {isShow && !Boolean(props.value && props.value.length) && (\n                <div className={css.clear}>\n                    <span className=\"mdi mdi-magnify\" />\n                </div>\n            )}\n\n            {!isShow && <div className={css.button} onClick={() => setIsShow(true)}>\n                <span className=\"mdi mdi-magnify\" />\n            </div>}\n        </div>\n    );\n};\n\nexport default SearchField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Select, {Option, OptGroup} from 'rc-select';\nimport CheckboxField from '../CheckboxField';\nimport css from './styles.module.css';\nimport './test.css';\n\nconst allValue = 'all';\n\ntype Props = {\n    className?: string,\n    disabled?: boolean,\n    placeholder?: string,\n    showSearch?: boolean,\n    value: Array<string>,\n    mode?: string,\n    align: 'left' | 'right' | 'bottom',\n    label?: string,\n\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n}\n\nconst SelectField = ({\n    align = 'left',\n    label,\n    disabled,\n    placeholder,\n    value: propValue = [],\n    className,\n    mode,\n    onChange,\n    options = [],\n    showSearch = true,\n    ...props\n}: Props) => {\n    const onChangeHandle = (value: Array<string>) => {\n        if (value.indexOf(allValue) >= 0)\n            if (value.length > options.length)\n                value = [];\n            else\n                value = options.map(o => o.value);\n\n        if (onChange)\n            onChange(value);\n    };\n\n    const onSelect = () => {};\n\n    const onDeselect = () => {};\n\n    const renderOptions = () => options.map(({value, label}) => (\n        <Option key={value} value={value}>\n            {mode === 'multiple' && <CheckboxField\n                readOnly\n                className=\"select-field-item-option-checkbox\"\n                value={propValue.indexOf(value) >= 0}\n            />}\n\n            <span className=\"select-field-item-option-label\">{label}</span>\n        </Option>\n    ));\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <Select\n                value={propValue}\n                // animation={useAnim ? 'slide-up' : null}\n                // choiceTransitionName=\"rc-select-selection__choice-zoom\"\n                prefixCls=\"select-field\"\n                multiple={mode === 'multiple'}\n                showArrow\n                showSearch={showSearch}\n                onSelect={onSelect}\n                onDeselect={onDeselect}\n                placeholder={placeholder}\n                onChange={onChangeHandle}\n                inputIcon={<span className=\"mdi mdi-chevron-down\" />}\n                {...props}\n            >\n                {options.length && mode === 'multiple' && <Option key={allValue} value={allValue}>\n                    <CheckboxField\n                        readOnly\n                        className=\"select-field-item-option-checkbox\"\n                        value={propValue.length === options.length}\n                    />\n\n                    <span className=\"select-field-item-option-label\">Select all</span>\n                </Option>}\n\n                {mode === 'multiple'\n                    ? <OptGroup>{renderOptions()}</OptGroup>\n                    : renderOptions()\n                }\n            </Select>\n\n            {label && <label className={css.label}>{label}</label>}\n        </div>\n    );\n};\n\nexport default SelectField;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport Slider from 'rc-slider';\nimport css from './styles.module.css';\nimport './test.css';\n\ntype Props = {\n    name?: string,\n    label?: string,\n    className?: string,\n    align: 'left' | 'right',\n};\n\nconst CustomHandle = props => {\n    const style = {\n        left: props.offset + '%',\n        transform: 'translateX(-50%)',\n    };\n\n    return (\n        <div className={props.className} key={props.index} style={style} data-value={props.value} />\n    );\n};\n\nconst SliderField = ({className, disabled, label, onChange, name, align = 'left', ...props}: Props) => {\n    const onChangeHandle = value => {\n        if (onChange)\n            onChange({\n                target: {\n                    value,\n                    name,\n                },\n            });\n    };\n\n    return (\n        <div className={cx(css.field, className, align, {disabled})}>\n            <div className={css.slider}>\n                <Slider\n                    onChange={onChangeHandle}\n                    tipFormatter={value => `$${value}`}\n                    handle={CustomHandle}\n                    {...props}\n                />\n            </div>\n\n            {label && <span className={css.label}>{label}</span>}\n        </div>\n    );\n};\n\nexport default SliderField;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport SelectField from '../SelectField'\nimport CheckboxField from '../CheckboxField'\nimport SliderField from '../SliderField'\nimport css from './styles.module.css';\n\ntype Props = {\n    fields: {},\n    form: {},\n    onChange: Function,\n    className?: string, \n}\n\nconst StackFilters = ({className, fields, form, onChange}: Props) => {\n    return (\n        <div className={cx(css.filters, className)}>\n            {Object.keys(fields).map(key => {\n                switch (fields[key].type) {\n                    case 'select':\n                        return <SelectField\n                            key={`select-${key}`}\n                            align=\"bottom\"\n                            className={cx(css.field, css.select)}\n                            onChange={value => onChange(key, value)}\n                            label={key}\n                            name={key}\n                            options={fields[key].options}\n                            value={Array.isArray(form[key]) ? form[key] : [form[key]]}\n                        />;\n\n                    case 'checkbox':\n                        return <CheckboxField\n                            key={`checkbox-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                        />;\n\n                    case 'slider':\n                        return <SliderField\n                            key={`slider-${key}`}\n                            className={css.field}\n                            onChange={onChange}\n                            align=\"right\"\n                            label={key}\n                            name={key}\n                            value={form[key]}\n                            step={null}\n                            min={fields[key].min}\n                            max={fields[key].max}\n                            marks={fields[key].options}\n                        />;\n\n                    default:\n                        return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default StackFilters;","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n    value?: ?string,\n    placeholder?: string,\n}\n\nconst StretchTitleField = ({\n    value: propValue,\n    placeholder = '',\n    className,\n    onChange: onChangeProp,\n    ...props\n}: Props) => {\n    const [value, set] = useState(propValue);\n\n    const onChange = event => {\n        if (onChangeProp)\n            onChangeProp(event.target.value);\n\n        set(event.target.value);\n    };\n\n    useEffect(() => {\n        set(propValue);\n    }, [propValue]);\n\n    return (\n        <div className={cx(css.field, className)}>\n            <input\n                type=\"text\"\n                placeholder={placeholder}\n                value={value}\n                onChange={onChange}\n                {...props}\n            />\n\n            <div className={css.hidden}>\n                {value.length ? value : placeholder}\n            </div>\n        </div>\n    );\n};\n\nexport default StretchTitleField;\n","// @flow\n\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Value = string | number;\n\ntype Props = {\n    className?: string,\n    value: Value,\n    onChange: Function,\n\n    tabs: Array<{\n        label: string,\n        value: Value,\n    }>,\n}\n\nconst Tabs = ({className, value, tabs, onChange}: Props) => {\n    const {t} = useTranslation();\n\n    return (\n        <div className={cx(css.tabs, className)}>\n            {tabs.map((i, index) => (\n                <div\n                    key={index}\n                    className={cx(css.tab, {active: value === i.value})}\n                    onClick={() => onChange(i.value)}\n                >\n                    {i.label}\n                    {i.soon && <span className={css.soon}>{t('soon')}</span>}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default Tabs;\n","// @flow\nimport React from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    size?: 'normal' | 'small',\n    label?: string,\n    className?: string,\n    errors?: Array<string>,\n}\n\nconst TextAreaField = ({label, className, size = 'normal', errors = [], ...props}: Props) => {\n    const hasErrors = Boolean(errors.length);\n\n    return (\n        <div className={cx(css.field, className, size, {disabled: props.disabled})}>\n            <label>\n                {label && <div className={css.label}>{label}</div>}\n\n                <div className={css.textarea}>\n                    {/*$FlowFixMe*/}\n                    <textarea\n                        className={cx({error: hasErrors})}\n                        {...props}\n                    />\n                </div>\n\n                {hasErrors && <div className={css.error}>{errors.join(', ')}</div>}\n            </label>\n        </div>\n    );\n};\n\nexport default TextAreaField;\n","// @flow\nimport React from 'react';\nimport RcTooltip from 'rc-tooltip';\nimport css from './style.module.css';\n\ntype Props = {\n    children: any,\n    overlayContent?: any,\n    arrowContent?: any,\n}\n\nconst Tooltip = ({\n    children,\n    overlayContent,\n    arrowContent = null,\n    placement = 'bottomLeft',\n    trigger = ['hover'],\n    overlayStyle = {'pointer-events': 'none'},\n    ...props\n}: Props) => {\n\n    return (\n        <RcTooltip\n            overlayStyle={overlayStyle}\n            arrowContent={arrowContent}\n            placement={placement}\n            trigger={trigger}\n            overlay={\n                <div className={css.tooltip}>{overlayContent}</div>\n            }\n            {...props}\n        >\n            {children}\n        </RcTooltip>\n    );\n};\n\nexport default Tooltip;\n","// @flow\nimport React, {useEffect, useState} from 'react';\nimport cx from 'classnames';\nimport css from './styles.module.css';\n\ntype Props = {\n    value?: 'grid' | 'list',\n    onChange?: Function,\n    className?: string,\n}\n\nconst ViewSwitcher = ({value = 'grid', onChange, className}: Props) => {\n    const [stateValue, setStateValue] = useState(value);\n\n    useEffect(() => {\n        if (value !== stateValue)\n            setStateValue(value);\n\n    }, [value]);\n\n    const toggleValue = () => {\n        const newValue = stateValue === 'grid' ? 'list' : 'grid';\n\n        setStateValue(newValue);\n\n        if (onChange)\n            onChange(newValue);\n    };\n\n    return (\n        <div\n            className={cx(css.switcher, stateValue, className)}\n            onClick={toggleValue}\n        >\n            <span className=\"mdi mdi-view-grid\" />\n            <span className=\"mdi mdi-view-list\" />\n        </div>\n    );\n};\n\nexport default ViewSwitcher;","import React from 'react';\nimport {Portal} from 'react-portal';\n\nconst Yield = ({name, className, children}) => {\n    if (!name)\n        return null;\n\n    if (children)\n        return (\n            <Portal node={document && document.getElementById(name)}>\n                {children}\n            </Portal>\n        );\n\n    return (\n        <div className={className} id={name} />\n    );\n};\n\nexport default Yield;","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {\n    data: Array<Array<string>>,\n}\n\nconst Table = ({data}: Props) => {\n    const [captions, ...rows] = data;\n\n    return (\n        <div className={css.table}>\n            <table>\n                <thead>\n                    <tr>\n                        {captions.map(caption => (\n                            <th key={caption}>{caption}</th>\n                        ))}\n                    </tr>\n                </thead>\n\n                <tbody>\n                    {rows.map((row, index) => (\n                        <tr key={index}>\n                            {row.map((cell, i) => (\n                                <td key={i}>{cell}</td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","// @flow\nimport {useCallback, useEffect, useRef} from 'react';\n\nexport default (\n    callBack: Function,\n\n    {\n        rootMargin = '0px',\n        threshold = 0.01,\n        root = null,\n    }: {[key: string]: any},\n\n    deps: Array<any>\n) => {\n    const ref = useRef(null);\n\n    const intersectionCallback = useCallback(([target]) => {\n        if (target.isIntersecting) {\n            callBack();\n        }\n    }, deps);\n\n    useEffect(() => {\n        const options = {\n            root,\n            rootMargin,\n            threshold,\n        };\n\n        const observer = new IntersectionObserver(intersectionCallback, options);\n\n        if (ref && ref.current)\n            observer.observe(ref.current);\n\n        return () => {\n            if (ref.current)\n                observer.unobserve(ref.current);\n        };\n    }, [ref, intersectionCallback]);\n\n    return [ref];\n};","export default {\n    FETCH: 'stacks/attachments/FETCH',\n    FETCH_SUCCESS: 'stacks/attachments/FETCH_SUCCESS',\n    FETCH_FAIL: 'stacks/attachments/FETCH_FAIL',\n};\n","import React, {createContext, useReducer, useContext} from 'react';\nimport actionsTypes from './actionsTypes';\n\nconst initialState = {\n    data: {},\n    errors: {},\n    requestStatus: null,\n};\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case (actionsTypes.FETCH):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...(\n                                state.data[action.meta.frameId]\n                                    ? state.data[action.meta.frameId][action.meta.id]\n                                    : {}\n                            ),\n\n                            loading: true,\n                            requestStatus: null,\n                            error: null,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_SUCCESS):\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            ...action.payload,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        case (actionsTypes.FETCH_FAIL):\n            return {\n                ...state,\n\n                data: {\n                    ...state.data,\n                    [action.meta.frameId]: {\n                        ...state.data[action.meta.frameId],\n\n                        [action.meta.id]: {\n                            error: action.payload.error,\n                            requestStatus: action.payload.requestStatus,\n                            loading: false,\n                        },\n                    },\n                },\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({children, apiUrl}) => (\n    <StateContext.Provider value={useReducer(reducer, {...initialState, apiUrl})}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport actionsTypes from './actionsTypes';\nimport config from '../../config';\nimport {useStateValue} from './store';\n\nexport default () => {\n    const [{apiUrl}, dispatch] = useStateValue();\n\n    const fetchAttachment = async (stack, frameId, id, onSuccess) => {\n        const token = localStorage.getItem('token');\n\n        dispatch({\n            type: actionsTypes.FETCH,\n            meta: {frameId, id},\n        });\n\n        try {\n            const request = await axios({\n                baseURL: apiUrl,\n                url: config.STACK_ATTACHMENT(stack, frameId, id),\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n            });\n\n            dispatch({\n                type: actionsTypes.FETCH_SUCCESS,\n                meta: {frameId, id},\n                payload: request.data.attachment,\n            });\n\n            if (onSuccess)\n                onSuccess();\n        } catch (e) {\n            let error = 'Unknown error';\n\n            try {\n                error = JSON.parse(_get(e, 'request.response')).message;\n            } catch (e) {\n                console.log(error);\n            }\n\n            dispatch({\n                type: actionsTypes.FETCH_FAIL,\n                meta: {frameId, id},\n                payload: {error},\n            });\n        }\n    };\n\n    return {fetchAttachment};\n};\n","import React, {useEffect, useRef, useState} from 'react';\nimport cx from 'classnames';\nimport axios from 'axios';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport Plot from 'react-plotly.js';\nimport * as CSV from 'csv-string';\nimport Table from './Table';\nimport config from '../../config';\nimport useIntersectionObserver from '../../hooks/useIntersectionObserver';\nimport usePrevious from '../../hooks/usePrevious';\nimport actions from './actions';\nimport {useStateValue} from './store';\nimport {unicodeBase64Decode} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    id: number,\n    frameId: string,\n    stack: string,\n    className?: string,\n    withLoader?: boolean,\n}\n\nconst base64ToJSON = (base64: string) => {\n    let parsedJSON;\n\n    try {\n        parsedJSON = JSON.parse(atob(base64));\n    } catch (e) {\n        console.log(e);\n    }\n\n    return parsedJSON;\n};\n\nconst base64ImagePrefixes = {\n    'image/svg+xml': 'data:image/svg+xml;charset=utf-8;',\n    'image/png': 'data:image/png;charset=utf-8;',\n    'image/jpeg': 'data:image/jpeg;charset=utf-8;',\n};\n\nconst isImageType = type => /^image/.test(type);\n\nconst Attachment = ({\n    id,\n    className,\n    frameId,\n    isList,\n    withLoader,\n    stack,\n}: Props) => {\n    const {t} = useTranslation();\n    const {fetchAttachment} = actions();\n    const [{data, apiUrl}] = useStateValue();\n    const {loading, error, requestStatus, ...attachment} = get(data, `${frameId}.${id}`, {});\n    const [tableScale, setTableScale] = useState(1);\n    const [loadingFullAttachment, setLoadingFullAttachment] = useState(false);\n    const [fullAttachment, setFullAttachment] = useState(null);\n    const viewRef = useRef(null);\n    const prevAttachment = usePrevious(attachment);\n\n    useEffect(() => {\n        if (window && isList)\n            window.addEventListener('resize', onResizeCard);\n\n        return () => {\n            if (window && isList)\n                window.removeEventListener('resize', onResizeCard);\n        };\n    }, []);\n\n    const fetchFullAttachment = async () => {\n        setLoadingFullAttachment(true);\n\n        try {\n            const url = config.STACK_ATTACHMENT(stack, frameId, id) + '?download=true';\n            const {data} = await axios({\n                baseUrl: apiUrl,\n                url,\n            });\n\n            setFullAttachment(data.attachment);\n        } catch (e) {\n            console.log(e);\n        }\n\n        setLoadingFullAttachment(false);\n    };\n\n    useEffect(() => {\n        if (!isList && attachment\n            && !isEqual(prevAttachment, attachment)\n            && attachment.preview\n            && isImageType(attachment['content_type'])\n        ) {\n            fetchFullAttachment();\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (!isList\n            && (typeof id === 'number' && frameId)\n            && ((!attachment.data && !error) || (attachment?.index !== id))\n        ) {\n            fetchAttachment(stack, frameId, id);\n        }\n    }, [id, frameId]);\n\n    const [ref] = useIntersectionObserver(() => {\n        if (isList && !loading && (\n            (!attachment.data && !error)\n            || (attachment.data && attachment.index !== id)\n        ))\n            fetchAttachment(stack, frameId, id);\n    }, {}, [id, frameId, data]);\n\n    useEffect(() => {\n        if (attachment && attachment['application'] === 'bokeh' && Bokeh) {\n            const json = base64ToJSON(attachment.data);\n\n            if (json && document.querySelector(`#bokeh-${frameId}`))\n                Bokeh.embed.embed_item(json, `bokeh-${frameId}`);\n        }\n\n        if (isList)\n            setTimeout(() => onResizeCard(), 10);\n\n    }, [data]);\n\n    const onResizeCard = () => {\n        if (ref.current && viewRef.current) {\n            const containerWidth = ref.current.offsetWidth;\n            const viewWidth = viewRef.current.offsetWidth / tableScale;\n\n            let newScale = containerWidth / viewWidth;\n\n            if (newScale > 1)\n                newScale = 1;\n\n            setTableScale(newScale);\n        }\n    };\n\n    const renderImage = () => {\n        if (!attachment.preview)\n            return (\n                <img\n                    src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                    alt=\"\"\n                />\n            );\n        else if (fullAttachment) {\n            if (fullAttachment['download_url']) {\n                return (\n                    <img src={fullAttachment['download_url']} alt=\"\"/>\n                );\n            } else\n                return (\n                    <img\n                        src={`${base64ImagePrefixes[attachment['content_type']]}base64,${attachment.data}`}\n                        alt=\"\"\n                    />\n                );\n        }\n\n        return null;\n    };\n\n    const renderCSV = () => {\n        const decodeCSV = unicodeBase64Decode(attachment.data);\n\n        if (decodeCSV) {\n            const data = CSV.parse(decodeCSV);\n\n            if (Array.isArray(data) && data.length)\n                return (\n                    <Table\n                        data={data}\n                    />\n                );\n        }\n\n        return (\n            <div className={css.text}>{t('notSupportedAttachment')}</div>\n        );\n    };\n\n    const renderPlotly = () => {\n        const json = base64ToJSON(attachment.data);\n\n        if (!json)\n            return null;\n\n        json.layout.width = '100%';\n        json.layout.margin = 0;\n        json.layout.autosize = true;\n        json.config = {responsive: true};\n\n        return (\n            <Plot\n                {...json}\n                style={{\n                    width: '100%',\n                    height: '100%',\n                }}\n                useResizeHandler\n            />\n        );\n    };\n\n    const renderBokeh = () => <div id={`bokeh-${frameId}`} />;\n\n    const renderAttachment = () => {\n        if (loading)\n            return null;\n\n        if (requestStatus === 404 && isList)\n            return <div className={css.message}>{t('notFound')}</div>;\n\n        if (requestStatus === 404 && !isList)\n            return <div className={css.text}>{t('noPreview')}</div>;\n\n        if (attachment.preview && isList && isImageType(attachment['content_type']))\n            return <div className={css.message}>{t('noPreview')}</div>;\n\n        switch (true) {\n            case (attachment['content_type'] === 'image/svg+xml'):\n            case (attachment['content_type'] === 'image/png'):\n            case (attachment['content_type'] === 'image/jpeg'):\n                return renderImage();\n\n            case (attachment['content_type'] === 'text/csv'):\n                return renderCSV();\n\n            case (attachment['application'] === 'plotly'):\n                return renderPlotly();\n\n            case (attachment['application'] === 'bokeh'):\n                return renderBokeh();\n\n            case undefined:\n                return null;\n\n            default:\n                return <div className={isList ? css.message : css.text}>{t('notSupportedAttachment')}</div>;\n        }\n    };\n\n    return (\n        <div\n            ref={ref}\n            className={cx(css.attachment, className, {\n                'is-list': isList,\n                loading: loading && withLoader || loadingFullAttachment,\n            })}\n        >\n            <div\n                ref={viewRef}\n                className={cx(css.view, {\n                    'table': (attachment && attachment.data && attachment['content_type'] === 'text/csv'),\n                    'bokeh': (attachment && attachment.data && attachment['application'] === 'bokeh'),\n                })}\n\n                style={\n                    (attachment && attachment['content_type'] === 'text/csv')\n                        ? {transform: `scale(${tableScale})`}\n                        : {}\n                }\n            >\n                {renderAttachment()}\n            </div>\n        </div>\n    );\n};\n\nexport default Attachment;\n","import React, {useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../Dropdown';\nimport Attachment from '../Attachment';\nimport css from './styles.module.css';\n\ntype Props = {\n    userData: {user: string},\n\n    data: {\n        user: string,\n        name: string,\n        head: {id: string}\n    },\n\n    otherOwner?: boolean,\n    deleteAction?: Function,\n    renderContent?: Function,\n};\n\nconst Item = ({\n    Component = 'div',\n    onClick,\n    data,\n    deleteAction,\n    otherOwner,\n    renderContent,\n    ...rest\n}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    return (\n        <Component\n            className={css.item}\n            ref={ref}\n            onClick={onClick}\n            {...rest}\n        >\n            <div className={css.previewWrap}>\n                {data.head\n                    ? <Attachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        stack={`${data.user}/${data.name}`}\n                        frameId={data.head}\n                        id={0}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyStack')}</div>\n                }\n            </div>\n\n            <div className={css.section}>\n                <div className={css.content}>\n                    <div className={css.name}>\n                        {data.name}\n                        {' '}\n                        <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                    </div>\n\n                    {otherOwner && (\n                        <div className={css.by}>{t('by')} {data.user}</div>\n                    )}\n\n                    {renderContent && renderContent(data)}\n                </div>\n\n                {deleteAction && (\n                    <Dropdown\n                        className={css.dropdown}\n\n                        items={[\n                            {\n                                title: t('delete'),\n                                onClick: () => deleteAction(data.name),\n                            },\n                        ]}\n                    />\n                )}\n            </div>\n        </Component>\n    );\n};\n\nexport default Item;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport CodeViewer from '../../CodeViewer';\nimport Tabs from '../../Tabs';\nimport css from './styles.module.css';\nimport config from '../../config';\n\nexport const reportPlotPythonCode = `import matplotlib.pyplot as plt\nfrom dstack import push_frame\n\nfig = plt.figure()\nplt.plot([1, 2, 3, 4], [1, 4, 9, 16])\n\npush_frame(\"simple\", fig, \"My first plot\")`;\n\nexport const installRPackageCode = 'install.packages(\"dstack\")';\n\nexport const reportPlotRCode = `library(ggplot2)\nlibrary(dstack)\n\ndf <- data.frame(x = c(1, 2, 3, 4), y = c(1, 4, 9, 16))\nimage <- ggplot(data = df, aes(x = x, y = y)) + geom_line()\n\npush_frame(\"simple\", image, \"My first plot\")`;\n\ntype Props = {\n    user?: string,\n    token?: string,\n    modalMode?: boolean,\n}\n\nconst HowTo = ({user, token}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePlatformTab, setActivePlatformTab] = useState(1);\n\n    return (\n        <div className={css.howto}>\n            <Tabs\n                className={css.tabs}\n                value={activeCodeTab}\n                onChange={setActiveCodeTab}\n\n                tabs={[\n                    {\n                        label: t('python'),\n                        value: 1,\n                    },\n\n                    {\n                        label: t('r'),\n                        value: 2,\n                    },\n                ]}\n            />\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipOrCondaPackage')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePlatformTab}\n                    onChange={setActivePlatformTab}\n\n                    tabs={[\n                        {\n                            label: t('pip'),\n                            value: 1,\n                        },\n\n                        {\n                            label: t('conda'),\n                            value: 2,\n                        },\n                    ]}\n                />\n\n                {activePlatformTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>}\n\n                {activePlatformTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    conda install dstack -c dstack.ai\n                </CodeViewer>}\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {config.CONFIGURE_PYTHON_COMMAND(token, user)}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {reportPlotPythonCode}\n                </CodeViewer>\n            </div>}\n\n            {activeCodeTab === 2 && <div>\n                <div className={css.description}>{t('installRPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {installRPackageCode}\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {config.CONFIGURE_R_COMMAND(token, user)}\n                </CodeViewer>\n\n                <div className={css.description}>{t('reportPlotIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {reportPlotRCode}\n                </CodeViewer>\n            </div>}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default HowTo;\n","// @flow\n\nimport React, {useState, useEffect, useRef} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Button from '../../Button';\nimport Loader from '../../Loader';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport StackListItem from '../ListItem';\nimport StackHowTo from '../HowTo';\nimport css from './styles.module.css';\n\ntype Stack = {\n    [key: string]: any,\n} | string;\n\ntype Props = {\n    deleteStack: Function,\n    renderSideTitle?: Function,\n    data: Array<Stack>,\n    loading: boolean,\n    currentUser?: string,\n    currentUserToken?: string,\n    renderItemContent: Function,\n};\n\nconst List = ({\n    data = [],\n    loading,\n    deleteStack,\n    currentUser,\n    user,\n    currentUserToken,\n    renderSideTitle,\n    renderItemContent,\n}: Props) => {\n    const {t} = useTranslation();\n    const [deletingStack, setDeletingStack] = useState(null);\n    const [isShowWelcomeModal, setIsShowWelcomeModal] = useState(false);\n    const [isShowHowToModal, setIsShowHowToModal] = useState(false);\n    const [search, setSearch] = useState('');\n    const isInitialMount = useRef(true);\n\n    const showWelcomeModal = () => setIsShowWelcomeModal(true);\n    const onChangeSearch = value => setSearch(value);\n\n    const hideWelcomeModal = () => {\n        localStorage.setItem('welcome-modal-is-showing', true);\n        setIsShowWelcomeModal(false);\n    };\n\n    useEffect(() => {\n        if (isInitialMount.current) {\n            isInitialMount.current = false;\n        } else {\n            if (!localStorage.getItem('welcome-modal-is-showing') && !loading && !data.length)\n                showWelcomeModal();\n        }\n    }, [data]);\n\n\n    const showHowToModal = event => {\n        event.preventDefault();\n        setIsShowHowToModal(true);\n    };\n\n    const hideHowToModal = () => setIsShowHowToModal(false);\n\n    const deleteItem = () => {\n        deleteStack(deletingStack);\n        hideDeleteConfirmation();\n    };\n\n    const showDeleteConfirmation = name => setDeletingStack(name);\n    const hideDeleteConfirmation = () => setDeletingStack(null);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.name.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    className={css.search}\n                    placeholder={t('findStack')}\n                    size=\"small\"\n                    value={search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUser === user\n                    ? t('stacks')\n                    : t('stacksOf', {name: user})\n                }\n\n                <div className={css.side}>\n                    {renderSideTitle && renderSideTitle()}\n                </div>\n            </div>\n\n            {loading && !Boolean(data.length) && <Loader />}\n\n            {!loading && !data.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: user})\n                    }\n                </div>\n            )}\n\n            {!loading && !Boolean(data.length) && currentUser === user && (\n                <StackHowTo\n                    user={currentUser}\n                    token={currentUserToken}\n                />\n            )}\n\n            {Boolean(data.length && items.length) && currentUser === user && (\n                <div className={css.text}>\n                    {t('youHaveStacks', {count: data.length})}\n                    {' '}\n                    <a href=\"#\" onClick={showHowToModal}>{t('seeHowToGuide')}</a>.\n                </div>\n            )}\n\n            {Boolean(data.length) && <SearchField\n                placeholder={t('search')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            {Boolean(data.length && items.length) && <div className={css.grid}>\n                {items.map((item, index) => <StackListItem\n                    Component={Link}\n                    key={index}\n                    data={item}\n                    otherOwner={user !== item.user}\n                    to={`/${item.user}/${item.name}`}\n                    deleteAction={currentUser === item.user &&  showDeleteConfirmation}\n                    renderItemContent={renderItemContent}\n                />)}\n            </div>}\n\n            {Boolean(data.length && !items.length) && <div className={css.text}>\n                {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n            </div>}\n\n            <Modal\n                isShow={Boolean(deletingStack)}\n                onClose={hideDeleteConfirmation}\n                size=\"confirmation\"\n                title={t('deleteStack')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t('areYouSureYouWantToDelete', {name: deletingStack})}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={hideDeleteConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={deleteItem}\n                        className={css.button}\n                    >{t('deleteStack')}</Button>\n                </div>\n            </Modal>\n\n            {currentUser === user && (\n                <Modal\n                    isShow={isShowWelcomeModal}\n                    onClose={hideWelcomeModal}\n                    size=\"small\"\n                    title={`${t('welcomeToDStack')}`}\n                    className={css.modal}\n                >\n                    <div className={css.description}>{t('yourEmailWasSuccessfullyConfirmed')}</div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={hideWelcomeModal}\n                            className={css.button}\n                        >{t('getStarted')}</Button>\n                    </div>\n                </Modal>\n            )}\n\n            <Modal\n                isShow={isShowHowToModal}\n                withCloseButton\n                onClose={hideHowToModal}\n                size=\"big\"\n                title={t('howToConnectYourDataWithDStack')}\n                className={css.modal}\n            >\n                <StackHowTo user={currentUser} token={currentUserToken} modalMode />\n            </Modal>\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React, {useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport Tabs from '../../Tabs';\nimport CodeViewer from '../../CodeViewer';\nimport {isString} from 'lodash-es';\nimport config from '../../config';\nimport css from '../HowTo/styles.module.css';\n\nexport const pullPythonCode = data => {\n    let a = [`\\'/${data.stack}\\'`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        let p = [];\n\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                p.push(`\\'${key}\\': \\'${data.params[key]}\\'`);\n            else\n                p.push(`\\'${key}\\': ${data.params[key]}`);\n        });\n        a.push('params={' + p.join(', ') + '}');\n    }\n\n    return `import pandas as pd\nfrom dstack import pull\n\ndf = pull(${a.join(', ')})`;\n};\n\nexport const pullRCode = data => {\n    let a = [`\\\"/${data.stack}\\\"`];\n\n    let params = Object.keys(data.params);\n\n    if (params.length > 0) {\n        params.forEach(key => {\n            if (isString(data.params[key]))\n                a.push(`\\\"${key}\\\" = \\\"${data.params[key]}\\\"`);\n            else\n                a.push(`\\\"${key}\\\" = ${data.params[key]}`);\n        });\n    }\n\n    return `library(dstack)\n\ndf <- read.csv(pull(${a.join(', ')}))`;\n};\n\ntype Props = {\n    user?: string,\n    token?: string,\n    modalMode?: boolean,\n}\n\nconst HowTo = ({modalMode, user, token, data}: Props) => {\n    const {t} = useTranslation();\n    const [activeCodeTab, setActiveCodeTab] = useState(1);\n    const [activePlatformTab, setActivePlatformTab] = useState(1);\n\n    return (\n        <div className={css.howto}>\n            {!modalMode && (\n                <div className={css.title}>{t('howToFetchDataUsingTheAPI')}</div>\n            )}\n\n            <Tabs\n                className={css.tabs}\n                value={activeCodeTab}\n                onChange={setActiveCodeTab}\n\n                tabs={[\n                    {\n                        label: t('python'),\n                        value: 1,\n                    },\n\n                    {\n                        label: t('r'),\n                        value: 2,\n                    },\n                ]}\n            />\n\n            {activeCodeTab === 1 && <div>\n                <div className={css.description}>{t('installPipOrCondaPackage')}</div>\n\n                <Tabs\n                    className={css.tabs}\n                    value={activePlatformTab}\n                    onChange={setActivePlatformTab}\n\n                    tabs={[\n                        {\n                            label: t('pip'),\n                            value: 1,\n                        },\n\n                        {\n                            label: t('conda'),\n                            value: 2,\n                        },\n                    ]}\n                />\n\n                {activePlatformTab === 1 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    pip install dstack\n                </CodeViewer>}\n\n                {activePlatformTab === 2 && <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    conda install dstack -c dstack.ai\n                </CodeViewer>}\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"bash\"\n                >\n                    {config.CONFIGURE_PYTHON_COMMAND(token, user)}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"python\"\n                >\n                    {pullPythonCode(data)}\n                </CodeViewer>\n            </div>}\n\n            {activeCodeTab === 2 && <div>\n                <div className={css.description}>{t('installRPackage')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    install.packages(\"dstack\")\n                </CodeViewer>\n\n                <div className={css.description}>{t('configureDStack')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {config.CONFIGURE_R_COMMAND(token, user)}\n                </CodeViewer>\n\n                <div className={css.description}>{t('pullDatasetIntro')}</div>\n\n                <CodeViewer\n                    className={css.code}\n                    language=\"r\"\n                >\n                    {pullRCode(data)}\n                </CodeViewer>\n            </div>}\n\n            <div\n                className={css.footer}\n                dangerouslySetInnerHTML={{__html: t('notClearCheckTheDocks_2', {href: config.DOCS_URL})}}\n            />\n        </div>\n    );\n};\n\nexport default HowTo;\n","import {useEffect} from 'react';\n\nexport default (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = event => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n};\n","// @flow\nimport React, {useState, useRef} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport moment from 'moment';\nimport useOnClickOutside from '../../hooks/useOnClickOutside';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport css from './styles.module.css';\n\ntype Props = {\n    revision: string;\n    className?: string,\n    frame: string,\n    frames: Array<{}>,\n    headId: ?string,\n    onChange?: Function,\n    onMarkAsHead?: Function,\n};\n\nconst getFrameName = frame => moment(frame.timestamp).format('D MMM YYYY h:mm a');\n\nconst Frames = ({frame, frames, headId, onChange, onMarkAsHead, className}: Props) => {\n    const {t} = useTranslation();\n    const [isShowDropdown, setIsShowDropdown] = useState(false);\n    const toggleDropdown = () => setIsShowDropdown(!isShowDropdown);\n    const [frameForMarkingAsHead, setFrameForMarkingAsHead] = useState(null);\n    const dropdownRef = useRef(null);\n\n    useOnClickOutside(dropdownRef, () => isShowDropdown && toggleDropdown());\n\n    if (!frames.length)\n        return null;\n\n    const activeFrame = frames.find(f => f.id === frame);\n\n    const onClickItem = frameId => () => {\n        toggleDropdown();\n\n        if (frame !== frameId && onChange)\n            onChange(frameId);\n    };\n\n    const onClickMarkAsHead = frameId => event => {\n        event.stopPropagation();\n        setFrameForMarkingAsHead(frameId);\n        toggleDropdown();\n    };\n\n    const hideConfirmation = () => setFrameForMarkingAsHead(null);\n\n    const confirmMarkFrameAsHead = () => {\n        if (onMarkAsHead)\n            onMarkAsHead(frameForMarkingAsHead.id);\n\n        setFrameForMarkingAsHead(null);\n    };\n\n    if (!activeFrame) {\n        return null;\n    }\n\n    return (\n        <div className={cx(css.frames, className)} ref={dropdownRef}>\n            <div\n                className={cx(css['frames-dropdown'])}\n                ref={dropdownRef}\n            >\n                <div className={css.button} onClick={toggleDropdown}>\n                    <span className={css.name}>\n                        {getFrameName(activeFrame)}\n                    </span>\n\n                    {headId === activeFrame.id && <span className={css.label}>{t('head')}</span>}\n                    <span className=\"mdi mdi-chevron-down\" />\n                </div>\n\n                <div className={cx(css.dropdown, {show: isShowDropdown})}>\n                    {frames.map(f => (\n                        <Tooltip\n                            key={f.id}\n                            placement=\"rightTop\"\n                            trigger={Boolean(f.description) ? ['hover'] : []}\n                            align={{offset: [-20, -20]}}\n                            onClick={onClickItem(f.id)}\n                            overlayContent={f.description}\n                        >\n                            <div\n                                className={css.item}\n                            >\n                                <span className={css.name}>\n                                    {getFrameName(f)}\n                                </span>\n\n                                {headId === f.id && <span className={css.label}>{t('head')}</span>}\n\n                                {headId !== f.id && <div\n                                    className={css.mark}\n                                    onClick={onClickMarkAsHead(f)}\n                                >{t('markAsHead')}</div>}\n                            </div>\n                        </Tooltip>\n                    ))}\n                </div>\n            </div>\n\n            {activeFrame && activeFrame.description && (\n                <Tooltip overlayContent={activeFrame.description}>\n                    <div className={cx(css.info)}>\n                        <span className=\"mdi mdi-information-variant\" />\n                    </div>\n                </Tooltip>\n            )}\n\n            <Modal\n                isShow={Boolean(frameForMarkingAsHead)}\n                onClose={hideConfirmation}\n                size=\"confirmation\"\n                title={t('changeHeadRevision')}\n                className={css.modal}\n            >\n                <div className={css.description}>\n                    {t(\n                        'areYouSureYouWantToChangeTheCurrentHeadRevisionToByName',\n                        {frame: frameForMarkingAsHead && getFrameName(frameForMarkingAsHead)},\n                    )}\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={confirmMarkFrameAsHead}\n                        className={css.button}\n                    >{t('yesChangeHead')}</Button>\n\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={hideConfirmation}\n                        className={css.button}\n                    >{t('cancel')}</Button>\n                </div>\n            </Modal>\n        </div>\n    );\n};\n\nexport default Frames;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.title} />\n            <div className={css.label} />\n            <div className={css.description} />\n            <div className={css.diagram} />\n        </div>\n    );\n};\n\nexport default Loader;\n","export const isValidUserName = userName => {\n    const errors = {\n        notAllowedCharacters: 'notAllowedCharacters',\n        tooShort: 'tooShort',\n        tooLong: 'tooLong',\n    };\n\n    const testRegexp = /^[a-zA-Z0-9-_]+$/;\n\n    if (userName.length < 3)\n        return {\n            isValid: false,\n            error: errors.tooShort,\n        };\n\n    if (userName.length > 24)\n        return {\n            isValid: false,\n            error: errors.tooLong,\n        };\n\n    if (!testRegexp.test(userName) || /--/.test(userName))\n        return {\n            isValid: false,\n            error: errors.notAllowedCharacters,\n        };\n\n    return {isValid: true};\n};\n\nexport const isEmail = value => {\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\n};\n\nexport const isRequired = value => {\n    return !(value === null || value === undefined || value === '');\n};\n\nexport const noSpaces = value => {\n    return /^[\\S]*$/.test(value);\n};\n\nexport const isValidStackName = value => {\n    return /^[^\\/]/.test(value) && /^[a-zA-Z0-9\\/_]+$/.test(value);\n};\n\nexport const isValidEmail = mail => {\n    const errors = {invalidEmailAddress: 'invalidEmailAddress'};\n\n    if (!isEmail(mail))\n        return {\n            isValid: false,\n            error: errors.invalidEmailAddress,\n        };\n\n    return {isValid: true};\n};\n\nexport const isValidPassword = password => {\n    const errors = {mustNotBeEmpty: 'mustNotBeEmpty'};\n\n    if (password.length === 0)\n        return {\n            isValid: false,\n            error: errors.mustNotBeEmpty,\n        };\n\n    return {isValid: true};\n};","// @flow\nimport {useState} from 'react';\nimport {isRequired, isEmail, noSpaces, isValidStackName} from '../validations';\n\nconst validationMap = {\n    required: isRequired,\n    email: isEmail,\n    'no-spaces-stack': noSpaces,\n    'stack-name': isValidStackName,\n};\n\nconst getValidationFunction = (validator: Function | string): Function => {\n    if (typeof validator === 'string' && validationMap[validator])\n        return validationMap[validator];\n\n    if (typeof validator === 'function')\n        return validator;\n\n    return () => true;\n};\n\nexport default (\n    initialFormState: {[key: string]: any},\n    fieldsValidators: {[key: string]: Array<Function> | Function} = {}\n): {} => {\n    const [form, setForm] = useState(initialFormState);\n    const [formErrors, setFormErrors] = useState({});\n\n    const onChange = (eventOrName, value) => {\n        let name;\n\n        let fieldValue;\n\n        if (eventOrName.target) {\n            const event = eventOrName;\n\n            fieldValue = event.target.type === 'checkbox'\n                ? event.target.checked\n                : event.target.value;\n\n            name = event.target.name;\n        } else {\n            name = eventOrName;\n            fieldValue = value;\n        }\n\n        setForm({\n            ...form,\n            [name]: fieldValue,\n        });\n\n        setFormErrors({\n            ...formErrors,\n            [name]: [],\n        });\n    };\n\n    const resetForm = () => {\n        setForm(initialFormState);\n        setFormErrors({});\n    };\n\n    const getFieldErrors = fieldName => {\n        const errors = [];\n\n        if (Array.isArray(fieldsValidators[fieldName]))\n            fieldsValidators[fieldName].forEach(validator => {\n                const isValid = getValidationFunction(validator);\n\n                if (!isValid(form[fieldName]))\n                    errors.push(validator);\n            });\n\n        if (typeof fieldsValidators[fieldName] === 'string') {\n            const isValid = getValidationFunction(fieldsValidators[fieldName]);\n\n            if (!isValid(form[fieldName]))\n                errors.push(fieldsValidators[fieldName]);\n        }\n\n        return errors;\n    };\n\n    const checkValidForm = () => {\n        let isValid = true;\n        const newFormErrors = {};\n\n        Object.keys(fieldsValidators)\n            .forEach(fieldName => {\n                const errors = getFieldErrors(fieldName);\n\n                newFormErrors[fieldName] = errors;\n                isValid = isValid && !errors.length;\n            });\n\n        setFormErrors(newFormErrors);\n        return isValid;\n    };\n\n    return {\n        form,\n        setForm,\n        formErrors,\n        setFormErrors,\n        resetForm,\n        onChange,\n        checkValidForm,\n    };\n};\n","// @flow\n\nimport React, {useEffect, useState, useRef, useCallback} from 'react';\nimport cx from 'classnames';\nimport {isEqual, get} from 'lodash-es';\nimport usePrevious from '../../hooks/usePrevious';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {debounce as _debounce} from 'lodash-es';\nimport Button from '../../Button';\nimport MarkdownRender from '../../MarkdownRender';\nimport Modal from '../../Modal';\nimport Dropdown from '../../Dropdown';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport StackFilters from '../../StackFilters';\nimport StackHowToFetchData from '../HowToFetchData';\nimport StackAttachment from '../Attachment';\nimport StackFrames from '../Frames';\nimport Loader from './components/Loader';\nimport useForm from '../../hooks/useForm';\nimport {formatBytes, parseStackParams} from '../../utils';\nimport css from './styles.module.css';\n\ntype Props = {\n    loading: boolean,\n    currentFrameId: number,\n    attachmentIndex: number,\n    frame: ?{},\n    data: {},\n    currentUser?: string,\n    currentUserToken?: string,\n    downloadAttachment: Function,\n    toggleUpload: Function,\n    backUrl: string,\n    user: string,\n    stack: string,\n    headId: number,\n    onChangeHeadFrame: Function,\n    onChangeAttachmentIndex: Function,\n    onChangeFrame: Function,\n    renderHeader?: Function,\n    renderSideHeader?: Function,\n}\n\nconst Details = ({\n    currentFrameId,\n    headId,\n    onChangeHeadFrame,\n    attachmentIndex,\n    onChangeAttachmentIndex,\n    downloadAttachment,\n    onChangeFrame,\n    data,\n    frame,\n    loading,\n    currentUser,\n    currentUserToken,\n    toggleUpload,\n    backUrl,\n    user,\n    stack,\n    renderHeader,\n    renderSideHeader,\n}: Props) => {\n    const {t} = useTranslation();\n    const didMountRef = useRef(false);\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const prevFrame = usePrevious(frame);\n\n    const [isShowHowToModal, setIsShowHowToModal] = useState(false);\n\n    const showHowToModal = event => {\n        event.preventDefault();\n        setIsShowHowToModal(true);\n    };\n\n    const hideHowToModal = () => setIsShowHowToModal(false);\n\n    useEffect(() => {\n        if ((!isEqual(prevFrame, frame) || !didMountRef.current) && frame)\n            parseParams();\n    }, [frame]);\n\n    const findAttach = (form, attachmentIndex) => {\n        const attachments = get(frame, 'attachments');\n        const fields = Object.keys(form);\n\n        if (!attachments)\n            return;\n\n        if (fields.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], form[key]))\n                        valid = false;\n                });\n\n                if (valid && !(attachmentIndex === undefined && index === 0))\n                    onChangeAttachmentIndex(index);\n\n                return valid;\n            });\n        }\n    };\n\n    const findAttachDebounce = useCallback(_debounce(findAttach, 300), [data, frame]);\n\n    useEffect(() => {\n        if (didMountRef.current)\n            findAttachDebounce(form, attachmentIndex);\n        else\n            didMountRef.current = true;\n    }, [form]);\n\n    const parseParams = () => {\n        const attachments = get(frame, 'attachments');\n\n        if (!attachments || !attachments.length)\n            return;\n\n        const fields = parseStackParams(attachments);\n\n        setFields(fields);\n\n        if (attachmentIndex !== undefined) {\n            if (attachments[attachmentIndex])\n                setForm(attachments[attachmentIndex].params);\n        } else\n            setForm(attachments[0].params);\n\n    };\n\n    const renderFields = () => {\n        if (!Object.keys(fields).length)\n            return null;\n\n        const hasSelectField = Object.keys(fields).some(key => fields[key].type === 'select');\n\n        return (\n            <StackFilters\n                fields={fields}\n                form={form}\n                onChange={onChange}\n                className={cx(css.filters, {'with-select': hasSelectField})}\n            />\n        );\n    };\n\n    const onClickDownloadAttachment = event => {\n        event.preventDefault();\n        downloadAttachment();\n    };\n\n    const attachment = get(frame, `attachments[${attachmentIndex}]`);\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToMyStacks')\n                        : t('backToStacksOF', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <section className={css.section}>\n                <div className={css.header}>\n                    <div className={css.title}>\n                        {data.name}\n                        <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                    </div>\n\n                    {renderHeader && renderHeader()}\n\n                    <div className={css.sideHeader}>\n                        {renderSideHeader && renderSideHeader()}\n\n                        {data && data.user === currentUser && (\n                            <Dropdown\n                                className={css.dropdown}\n\n                                items={[\n                                    {\n                                        title: t('upload'),\n                                        onClick: toggleUpload,\n                                    },\n                                ]}\n                            >\n                                <Button\n                                    className={css['dropdown-button']}\n                                    color=\"secondary\"\n                                >\n                                    <span className=\"mdi mdi-dots-horizontal\" />\n                                </Button>\n                            </Dropdown>\n                        )}\n                    </div>\n                </div>\n\n                <StackFrames\n                    frames={get(data, 'frames', [])}\n                    frame={currentFrameId}\n                    headId={headId}\n                    onMarkAsHead={onChangeHeadFrame}\n                    onChange={onChangeFrame}\n                    className={css.revisions}\n                />\n\n                {renderFields()}\n\n                {attachment && (\n                    <div className={css['attachment-head']}>\n                        <div className={css.description}>\n                            {attachment.description && (<MarkdownRender source={attachment.description} />)}\n                        </div>\n\n                        {attachment['content_type'] === 'text/csv' && (\n                            <div className={css.actions}>\n                                {attachment.preview && (\n                                    <div className={css.label}>\n                                        {t('preview')}\n\n                                        <div className={css['label-tooltip']}>\n                                            {t('theTableBelowShowsOnlyAPreview')}\n                                        </div>\n                                    </div>\n                                )}\n\n                                <a href=\"#\" onClick={showHowToModal}>{t('useThisStackViaAPI')}</a>\n                                <span>{t('or')}</span>\n                                <a href=\"#\" onClick={onClickDownloadAttachment}>{t('download')}</a>\n                                {attachment.length && (\n                                    <span className={css.size}>({formatBytes(attachment.length)})</span>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {frame && (\n                    <StackAttachment\n                        className={css.attachment}\n                        withLoader\n                        stack={`${user}/${stack}`}\n                        frameId={frame.id}\n                        id={attachmentIndex || 0}\n                    />\n                )}\n            </section>\n\n            <Modal\n                isShow={isShowHowToModal}\n                withCloseButton\n                onClose={hideHowToModal}\n                size=\"big\"\n                title={t('howToFetchDataUsingTheAPI')}\n                className={css.modal}\n            >\n                <StackHowToFetchData\n                    user={currentUser}\n                    token={currentUserToken}\n\n                    data={{\n                        stack: `${user}/${stack}`,\n                        params: form,\n                    }}\n\n                    modalMode\n                />\n            </Modal>\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport {useCallback} from 'react';\nimport {debounce as _debounce} from 'lodash-es';\n\nexport default (callback: Function, depsOrDelay: Array<any> | number, deps: Array<any>) => {\n    let delay = 300;\n\n    if (typeof depsOrDelay === 'number')\n        delay = depsOrDelay;\n    else\n        deps = depsOrDelay;\n\n\n    return useCallback(_debounce(callback, delay), deps);\n};","// @flow\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport Tooltip from '../../Tooltip';\nimport TextField from '../../TextField';\nimport FileDragnDrop from '../../FileDragnDrop';\nimport {fileToBaseTo64} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport useDebounce from '../../hooks/useDebounce';\nimport config from '../../config';\nimport css from './style.module.css';\n\ntype Props = {\n    stack?: string,\n    className?: string,\n    refresh?: Function,\n    onClose?: Function,\n    isShow?: Function,\n    apiUrl: string,\n    user: string,\n};\n\nconst MB = 1048576;\n\nconst Upload = ({stack, className, isShow, onClose, refresh, withButton, apiUrl, user}: Props) => {\n    const {t} = useTranslation();\n    const [isShowModal, setIsShowModal] = useState(false);\n    const [uploading, setUploading] = useState(null);\n    const [progress, setProgress] = useState(null);\n    const [file, setFile] = useState(null);\n    const isDidMount = useRef(true);\n\n    const {form, onChange, formErrors, checkValidForm} = useForm(\n        {stack: stack || ''},\n        {stack: ['required', 'no-spaces-stack', 'stack-name']}\n    );\n\n    const runValidation = useDebounce(checkValidForm);\n\n    useEffect(() => {\n        if (!isDidMount.current)\n            runValidation();\n        else\n            isDidMount.current = false;\n    }, [form.stack]);\n\n    useEffect(() => {\n        if (isShow !== undefined)\n            setIsShowModal(isShow);\n    }, [isShow]);\n\n    const toggleModal = () => setIsShowModal(!isShowModal);\n\n    const closeHandle = () => {\n        if (onClose)\n            onClose();\n        else\n            setIsShowModal(false);\n    };\n\n    const getErrorsText = fieldName => {\n        if (formErrors[fieldName] && formErrors[fieldName].length)\n            return [t(`formErrors.${formErrors[fieldName][0]}`)];\n    };\n\n    const submit = async () => {\n        setProgress(null);\n        setUploading(true);\n\n        const params = {\n            type: file.type,\n            timestamp: Date.now(),\n            id: v4(),\n            stack: `${user}/${form.stack}`,\n            size: file.size,\n        };\n\n        if (file.size > MB)\n            params.attachments = [{length: file.size}];\n        else\n            params.attachments = [{data: await fileToBaseTo64(file)}];\n\n        try {\n            const token = localStorage.getItem('token');\n\n            const {data} = await axios({\n                method: 'post',\n                headers: {Authorization: token ? `Bearer ${token}` : ''},\n                baseURL: apiUrl,\n                url: config.STACK_PUSH,\n                data: params,\n            });\n\n            if (data.attachments && data.attachments.length) {\n                const [attachment] = data.attachments;\n\n                if (attachment['upload_url']) {\n                    await axios.put(attachment['upload_url'], file, {\n                        headers: {'Content-Type': 'application/octet-stream'},\n\n                        onUploadProgress: progressEvent => {\n                            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                            setProgress(percentCompleted);\n                        },\n                    });\n                }\n            }\n\n            setUploading(false);\n            closeHandle();\n\n            if (refresh)\n                refresh();\n        } catch (e) {\n            closeHandle();\n        }\n    };\n\n    return (\n        <Fragment>\n            {withButton && <Tooltip\n                overlayContent={t('uploadTooltip')}\n            >\n                <Button\n                    className={cx(css.upload, className)}\n                    size=\"small\"\n                    color=\"secondary\"\n                    onClick={toggleModal}\n                >\n                    {t('upload')}\n                </Button>\n            </Tooltip>}\n\n            <Modal\n                title={t('uploadFile')}\n                isShow={isShowModal}\n                size=\"small\"\n            >\n                <div className={css.content}>\n                    {!stack && (\n                        <Fragment>\n                            <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewStack')}</div>\n\n                            <TextField\n                                size=\"middle\"\n                                className={css.field}\n                                name=\"stack\"\n                                onChange={onChange}\n                                value={form.value}\n                                maxLength={30}\n                                placeholder={`${t('stackName')}, ${t('noSpaces')}, ${t('maxSymbol', {count: 30})}`}\n                                errors={getErrorsText('stack')}\n                            />\n                        </Fragment>\n                    )}\n\n                    {stack && file && (\n                        <div className={css.subtitle}>{t('theUploadedFileWouldBeSavedAsANewRevisionOfTheStack')}</div>\n                    )}\n\n                    <FileDragnDrop\n                        className={css.dragndrop}\n                        formats={['.csv', '.png', '.svg', '.jpg']}\n                        onChange={setFile}\n                        loading={uploading}\n                        progressPercent={progress}\n                    />\n                </div>\n\n                <div className={css.buttons}>\n                    <Button\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!file || !form.stack.length || uploading}\n                        onClick={submit}\n                    >\n                        {t('save')}\n                    </Button>\n\n                    <Button\n                        onClick={closeHandle}\n                        className={css.button}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        disabled={uploading}\n                    >\n                        {t('cancel')}\n                    </Button>\n                </div>\n            </Modal>\n        </Fragment>\n    );\n};\n\nexport default Upload;\n","import React, {Component, createContext} from 'react';\n\nfunction move(array, oldIndex, newIndex) {\n    if (newIndex >= array.length) {\n        newIndex = array.length - 1;\n    }\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    return array;\n}\n\nfunction moveElement(array, index, offset) {\n    const newIndex = index + offset;\n\n    return move(array, index, newIndex);\n}\n\n// Context\n\nconst GridContext = createContext({items: []});\n\nexport class GridProvider extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [],\n            moveItem: this.moveItem,\n            setItems: this.setItems,\n        };\n    }\n\n    render() {\n        return (\n            <GridContext.Provider value={this.state}>\n                {this.props.children}\n            </GridContext.Provider>\n        );\n    }\n\n    setItems = items => this.setState({items});\n\n    moveItem = (sourceId, destinationId) => {\n        const sourceIndex = this.state.items.findIndex(\n            item => item.id === sourceId\n        );\n        const destinationIndex = this.state.items.findIndex(\n            item => item.id === destinationId\n        );\n\n        // If source/destination is unknown, do nothing.\n        if (sourceId === -1 || destinationId === -1) {\n            return;\n        }\n\n        const offset = destinationIndex - sourceIndex;\n\n        this.setState(state => ({items: moveElement(state.items, sourceIndex, offset)}));\n    };\n}\n\nexport default GridContext;\n","import React, {memo, useRef} from 'react';\nimport {useDrag, useDrop} from 'react-dnd';\n\nconst DnDItem = memo(({id, onMoveItem, children}) => {\n    const ref = useRef(null);\n\n    const [, connectDrag] = useDrag({\n        item: {id, type: 'IMG'},\n        collect: monitor => {\n            return {isDragging: monitor.isDragging()};\n        },\n    });\n\n    const [, connectDrop] = useDrop({\n        accept: 'IMG',\n        drop: hoveredOverItem => {\n            if (hoveredOverItem.id !== id) {\n                onMoveItem(hoveredOverItem.id, id);\n            }\n        },\n    });\n\n    connectDrag(ref);\n    connectDrop(ref);\n\n    return React.Children.map(children, child =>\n        React.cloneElement(child, {forwardedRef: ref})\n    );\n});\n\nexport default DnDItem;","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n            <div className={css.filters} />\n\n            <div className={css.grid}>\n                <div className={css.item} />\n                <div className={css.item} />\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {memo, Fragment, useEffect, useState} from 'react';\nimport moment from 'moment';\nimport {get, isEqual} from 'lodash-es';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport cx from 'classnames';\nimport {parseStackParams} from '../../../../utils';\nimport useDebounce from '../../../../hooks/useDebounce';\nimport Button from '../../../../Button';\nimport Dropdown from '../../../../Dropdown';\nimport Tooltip from '../../../../Tooltip';\nimport StackAttachment from '../../../../stack/Attachment';\nimport css from './styles.module.css';\n\nexport type DashboardCard = {\n    stack: string,\n    header?: {},\n    index: 0,\n}\n\ntype Props = {\n    data: DashboardCard,\n    className?: string,\n    type?: 'list' | 'grid',\n    attachment: {},\n    fetchAttachment: Function,\n    deleteCard: Function,\n    updateCardTitle: Function,\n    filters: {},\n    moveAvailable?: boolean,\n}\n\nconst Card = memo(({\n    data,\n    className,\n    type = 'grid',\n    deleteCard,\n    updateCardTitle,\n    filters,\n    forwardedRef,\n    moveAvailable,\n}: Props) => {\n    const [title, setTitle] = useState(data.title);\n    const {t} = useTranslation();\n    const headId = get(data, 'head.id');\n    const stackOwner = data.stack.split('/')[0];\n    const [attachmentIndex, setAttachmentIndex] = useState(0);\n    const [cardParams, setCardParams] = useState([]);\n\n    useEffect(() => {\n        const params = parseStackParams(get(data, 'head.attachments', []));\n\n        if (params)\n            setCardParams(Object.keys(params));\n\n    }, [data]);\n\n    useEffect(() => {\n        findAttach();\n    }, [filters]);\n\n    const findAttach = () => {\n        const attachments = get(data, 'head.attachments');\n        const fields = Object.keys(filters).filter(f => cardParams.indexOf(f) >= 0);\n\n        if (!attachments)\n            return;\n\n        if (fields.length) {\n            attachments.some((attach, index) => {\n                let valid = true;\n\n                fields.forEach(key => {\n                    if (!attach.params || !isEqual(attach.params[key], filters[key]))\n                        valid = false;\n                });\n\n                if (valid)\n                    setAttachmentIndex(index);\n\n                return valid;\n            });\n        } else\n            setAttachmentIndex(0);\n    };\n\n    const onUpdate = updateCardTitle ? useDebounce(updateCardTitle, []) : () => {};\n\n    const onChangeTitle = event => {\n        setTitle(event.target.value);\n        onUpdate(event.target.value);\n    };\n\n    return (\n        <div className={cx(css.card, `type-${type}`, className)} ref={forwardedRef}>\n            <div className={css.inner}>\n                <div className={css.head}>\n                    <div className={cx(css.name, {readonly: !updateCardTitle})}>\n                        <div className={css.nameValue}>{title.length ? title : t('title')}</div>\n\n                        <input\n                            value={title}\n                            type=\"text\"\n                            placeholder={t('title')}\n                            onChange={onChangeTitle}\n                            className={cx(css.nameEdit, {active: !title.length})}\n                        />\n                    </div>\n\n                    <Tooltip\n                        overlayContent={(\n                            <Fragment>\n                                <div>{t('updatedByName', {name: stackOwner})}</div>\n\n                                {data.head && <div className={css.infoTime}>\n                                    {moment(data.head.timestamp).format('D MMM YYYY')}\n                                </div>}\n                            </Fragment>\n                        )}\n                    >\n                        <div className={css.info}>\n                            <span className=\"mdi mdi-information-outline\" />\n                        </div>\n                    </Tooltip>\n\n                    <Button\n                        className={cx(css.button, css.link)}\n                        color=\"secondary\"\n                        Component={Link}\n                        to={`/${data.stack}`}\n                    >\n                        <span className=\"mdi mdi-open-in-new\" />\n                    </Button>\n\n                    {Boolean(deleteCard) && (\n                        <Dropdown\n                            className={css.dropdown}\n\n                            items={[\n                                ...(deleteCard ? [{\n                                    title: t('delete'),\n                                    onClick: deleteCard,\n                                }] : []),\n                            ]}\n                        >\n                            <Button\n                                className={css.button}\n                                color=\"secondary\"\n                            >\n                                <span className=\"mdi mdi-dots-horizontal\" />\n                            </Button>\n                        </Dropdown>\n                    )}\n\n                    {moveAvailable && (\n                        <Button\n                            className={cx(css.button, css.move)}\n                            color=\"secondary\"\n                        >\n                            <span className=\"mdi mdi-cursor-move\" />\n                        </Button>\n                    )}\n                </div>\n\n                {headId\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        stack={data.stack}\n                        frameId={headId}\n                        id={attachmentIndex}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n        </div>\n    );\n});\n\nexport default Card;\n","// @flow\nimport React, {Fragment, useEffect, useRef, useState, useContext, useCallback} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport {get, isEqual, unionBy, debounce as _debounce} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport Button from '../../Button';\nimport Dropdown from '../../Dropdown';\nimport ViewSwitcher from '../../ViewSwitcher';\nimport StretchTitleField from '../../StretchTitleField';\nimport Yield from '../../Yield';\nimport BackButton from '../../BackButton';\nimport StackFilters from '../../StackFilters';\nimport DnDGridContext from '../../dnd/DnDGridContext';\nimport DnDItem from '../../dnd/DnDItem';\nimport Loader from './components/Loader';\nimport Card from './components/Card';\nimport {parseStackParams} from '../../utils';\nimport useForm from '../../hooks/useForm';\nimport usePrevious from '../../hooks/usePrevious';\nimport type {Dashboard} from '../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    addCards?: Function,\n    backUrl: string,\n    cards?: Array<{}>,\n    currentUser?: string,\n    data?: Dashboard,\n    deleteCard: Function,\n    deleteDashboard: Function,\n    loading: boolean,\n    onChangeTitle?: Function,\n    updateCard?: Function,\n    user: string,\n    withSorting?: boolean,\n}\n\nconst Details = ({\n    addCards,\n    backUrl,\n    cards,\n    currentUser,\n    data,\n    deleteCard,\n    deleteDashboard,\n    loading,\n    onChangeTitle,\n    updateCard,\n    user,\n    withSorting,\n}: Props) => {\n    const {items, moveItem, setItems} = useContext(DnDGridContext);\n\n    const {t} = useTranslation();\n    const [view, setView] = useState('grid');\n    const {form, setForm, onChange} = useForm({});\n    const [fields, setFields] = useState({});\n    const prevData = usePrevious(data);\n    const isDidMount = useRef(true);\n    const onChangeTitleDebounce = useCallback(_debounce(onChangeTitle, 300), []);\n\n    const setGridItems = cardsItems => setItems(cardsItems.map(card => ({id: card.index, card})));\n\n    useEffect(() => {\n        if (window)\n            window.dispatchEvent(new Event('resize'));\n    }, [view]);\n\n    useEffect(() => {\n        if (cards)\n            setGridItems(cards);\n\n        return () => setGridItems([]);\n    }, [cards]);\n\n\n    useEffect(() => {\n        if ((!isEqual(prevData, data) || isDidMount.current) && data)\n            parseParams();\n\n        if (isDidMount.current)\n            isDidMount.current = false;\n    }, [data]);\n\n    const moveCard = (indexFrom, indexTo) => {\n        if (indexTo < 0 || indexFrom < 0)\n            return;\n\n        const {stack} = items[indexFrom].card;\n\n        updateCard({\n            stack,\n            index: indexTo,\n        });\n\n        moveItem(indexFrom, indexTo);\n    };\n\n    const getDeleteCardAction = stack => {\n        if (deleteCard) {\n            return () => {\n                deleteCard(stack);\n            };\n        }\n    };\n\n    const getUpdateCardTitleAction = stack => {\n        if (updateCard)\n            return title => {\n                updateCard({\n                    stack,\n                    title,\n                });\n            };\n    };\n\n    const parseParams = () => {\n        if (!cards)\n            return;\n\n        const fields = cards.reduce((result, card) => {\n            const cardFields = parseStackParams(get(card, 'head.attachments', [])) || {};\n\n            Object.keys(cardFields).forEach(fieldName => {\n                if (result[fieldName]) {\n                    if (cardFields[fieldName].type === 'select') {\n                        result[fieldName].options = unionBy(\n                            result[fieldName].options,\n                            cardFields[fieldName].options, 'value');\n                    }\n\n                    if (cardFields[fieldName].type === 'slider') {\n\n                        result[fieldName].options = {\n                            ...result[fieldName].options,\n                            ...cardFields[fieldName].options,\n                        };\n\n                        result[fieldName].min = Math.min(result[fieldName].min, cardFields[fieldName].min);\n                        result[fieldName].max = Math.max(result[fieldName].max, cardFields[fieldName].max);\n                    }\n                } else {\n                    result[fieldName] = cardFields[fieldName];\n                }\n            });\n\n            return result;\n        }, {});\n\n        const defaultFilterValues = Object.keys(fields).reduce((result, fieldName) => {\n            if (fields[fieldName].type === 'select')\n                result[fieldName] = fields[fieldName].options[0].value;\n\n            if (fields[fieldName].type === 'slider')\n                result[fieldName] = fields[fieldName].options[0];\n\n            if (fields[fieldName].type === 'checkbox')\n                result[fieldName] = false;\n\n            return result;\n        }, {});\n\n        setForm(defaultFilterValues);\n        setFields(fields);\n    };\n\n    const renderFilters = () => {\n        if (!Object.keys(fields).length)\n            return null;\n\n        const hasSelectField = Object.keys(fields).some(key => fields[key].type === 'select');\n\n        return (\n            <StackFilters\n                fields={fields}\n                form={form}\n                onChange={onChange}\n                className={cx(css.filters, {'with-select': hasSelectField})}\n            />\n        );\n    };\n\n    const getAddClickAction = () => {\n        if (addCards)\n            return event => {\n                event.preventDefault();\n                addCards();\n            };\n    };\n\n    if (loading)\n        return <Loader />;\n\n    if (!data)\n        return null;\n\n    const CardWrapComponent = withSorting ? DnDItem : Fragment;\n\n    return (\n        <div className={css.details}>\n            <Yield name=\"header-yield\">\n                <BackButton\n                    Component={Link}\n                    to={backUrl}\n                >\n                    {(currentUser === user)\n                        ? t('backToDashboards')\n                        : t('backToDashboardsOf', {name: user})\n                    }\n                </BackButton>\n            </Yield>\n\n            <div className={css.header}>\n                <div className={css.title}>\n                    <StretchTitleField\n                        className={css.edit}\n                        value={data?.title}\n                        onChange={onChangeTitleDebounce}\n                        readOnly={currentUser !== data.user}\n                        placeholder={t('newDashboard')}\n                    />\n\n                    <span className={`mdi mdi-lock${data.private ? '' : '-open'}`} />\n                </div>\n\n                {Boolean(deleteDashboard) && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        ...(Boolean(deleteDashboard) ? [{\n                            title: t('delete'),\n                            onClick: deleteDashboard,\n                        }] : []),\n                    ]}\n                >\n                    <Button\n                        className={css['dropdown-button']}\n                        color=\"secondary\"\n                    >\n                        <span className=\"mdi mdi-dots-horizontal\" />\n                    </Button>\n                </Dropdown>}\n            </div>\n\n            {Boolean(items.length) && (\n                <Fragment>\n                    <div className={css.section}>\n                        <div className={css.fields}>\n                            {renderFilters()}\n                        </div>\n\n                        <div className={css.controls}>\n                            {getAddClickAction() && (\n                                <a\n                                    className={css.addButton}\n                                    onClick={getAddClickAction()}\n                                    href=\"#\"\n                                >\n                                    <span className=\"mdi mdi-plus\" />\n                                    {t('addStack')}\n                                </a>\n                            )}\n\n                            <ViewSwitcher\n                                value={view}\n                                className={css.viewSwitcher}\n                                onChange={view => setView(view)}\n                            />\n                        </div>\n                    </div>\n\n                    <div className={cx(css.cards, view)}>\n                        {items.map(item => (\n                            <CardWrapComponent\n                                key={item.card.stack}\n                                {...(withSorting ? {\n                                    id: item.id,\n                                    onMoveItem: moveCard,\n                                } : {})}\n                            >\n                                <Card\n                                    filters={form}\n                                    deleteCard={getDeleteCardAction(item.card.stack)}\n                                    data={item.card}\n                                    type={view}\n                                    updateCardTitle={getUpdateCardTitleAction(item.card.stack)}\n                                    moveAvailable={withSorting}\n                                />\n                            </CardWrapComponent>\n                        ))}\n                    </div>\n                </Fragment>\n            )}\n\n            {!items.length && (\n                <div className={css.empty}>\n                    {t('thereAreNoStacksYet')} <br/>\n                    {t('youCanSendStacksYouWantToBeHereLaterOrAddItRightNow')}\n\n                    {getAddClickAction() && (\n                        <Fragment>\n                            {' '}\n\n                            <a\n                                className={css.addButton}\n                                onClick={getAddClickAction()}\n                                href=\"#\"\n                            >{t('addStack')}</a>.\n                        </Fragment>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Details;\n","// @flow\nimport React, {useRef} from 'react';\nimport {get} from 'lodash-es';\nimport {Link} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport Dropdown from '../../Dropdown';\nimport StackAttachment from '../../stack/Attachment';\nimport type {Dashboard} from '../types';\nimport css from './styles.module.css';\n\ntype Props = {\n    dashboard: Dashboard,\n    deleteDashboard?: Function,\n}\n\nconst Item = ({dashboard, deleteDashboard, user}: Props) => {\n    const {t} = useTranslation();\n    const ref = useRef(null);\n\n    const hasStacks = dashboard.cards && Boolean(dashboard.cards.length);\n    const card = dashboard.cards.find(c => get(c, 'head.id'));\n\n    const onClickDelete = () => {\n        deleteDashboard({\n            user: user,\n            id: dashboard.id,\n        });\n    };\n\n    const isShowDropdown = Boolean(deleteDashboard);\n\n    return (\n        <Link\n            to={`/${user}/d/${dashboard.id}`}\n            className={css.item}\n            ref={ref}\n        >\n            {Boolean(dashboard.cards.length) && (\n                <div className={css.label}>\n                    {t('stacksWithCount', {count: dashboard.cards.length})}\n                </div>\n            )}\n\n            <div className={css.previewWrap}>\n                {hasStacks\n                    ? <StackAttachment\n                        className={css.attachment}\n                        isList\n                        withLoader\n                        frameId={card.head.id}\n                        stack={card.stack}\n                        id={0}\n                    />\n\n                    : <div className={css.emptyMessage}>{t('emptyDashboard')}</div>\n                }\n            </div>\n\n            <div className={css.section}>\n                <div className={css.content}>\n                    <div className={css.name}>\n                        {dashboard.title}\n                        {' '}\n                        <span className={`mdi mdi-lock${dashboard.private ? '' : '-open'}`} />\n                    </div>\n\n                    {user !== dashboard.user && (\n                        <div className={css.by}>{t('by')} {dashboard.user}</div>\n                    )}\n                </div>\n\n                {isShowDropdown && <Dropdown\n                    className={css.dropdown}\n\n                    items={[\n                        {\n                            title: t('delete'),\n                            onClick: onClickDelete,\n                        },\n                    ]}\n                />}\n            </div>\n\n        </Link>\n    );\n};\n\nexport default Item;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useState} from 'react';\nimport cx from 'classnames';\nimport {useTranslation} from 'react-i18next';\nimport SearchField from '../../SearchField';\nimport Yield from '../../Yield';\nimport DashboardListItem from '../ListItem';\nimport Loader from './components/Loader';\nimport css from './styles.module.css';\n\ntype Props = {\n    addDashboard: Function,\n    addDashboardDisable: boolean,\n    currentUser?: string,\n    data: ?Array<{}>,\n    deleteDashboard: Function,\n    loading: boolean,\n    user: string,\n}\n\nconst List = ({\n    addDashboard,\n    addDashboardDisable,\n    currentUser,\n    data,\n    deleteDashboard,\n    loading,\n    user,\n}: Props) => {\n    const [search, setSearch] = useState('');\n    const {t} = useTranslation();\n\n    const onChangeSearch = value => setSearch(value);\n\n    const getItems = () => {\n        let items = [];\n\n        if (data && data.length) {\n            if (search.length)\n                items = data.filter(i => i.title.indexOf(search) >= 0);\n            else\n                items = data;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    if (loading)\n        return <Loader />;\n\n    return (\n        <div className={css.list}>\n            <Yield name=\"header-yield\">\n                <SearchField\n                    showEverything\n                    isDark\n                    className={css.search}\n                    placeholder={t('findDashboard')}\n                    size=\"small\"\n                    value={search}\n                    onChange={onChangeSearch}\n                />\n            </Yield>\n\n            <div className={css.title}>\n                {currentUser === user\n                    ? t('myDashboards')\n                    : t('dashboardsOf', {name: user})\n                }\n\n                {data && Boolean(data.length) && <span>{data.length}</span>}\n            </div>\n\n            {data && Boolean(data.length) && <SearchField\n                placeholder={t('search')}\n                className={css.mobileSearch}\n                showEverything\n                size=\"small\"\n                value={search}\n                onChange={onChangeSearch}\n            />}\n\n            <div className={css.grid}>\n                {currentUser === user && (\n                    <div\n                        onClick={addDashboard}\n                        className={cx(css.add, {disabled: addDashboardDisable})}\n                    >\n                        <div className={css.caption}>\n                            <span className=\"mdi mdi-plus\" />\n                            {t('newDashboard')}\n                        </div>\n                    </div>\n                )}\n\n                {items.map((item, index) => (\n                    <DashboardListItem\n                        key={index}\n                        user={user}\n                        dashboard={item}\n                        deleteDashboard={currentUser === item.user && deleteDashboard}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default List;\n","// @flow\n\nimport React from 'react';\nimport css from './styles.module.css';\n\ntype Props = {}\n\nconst Loader = ({}: Props) => {\n    return (\n        <div className={css.loader}>\n            <div className={css.text} />\n\n            <div className={css.grid}>\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n\n                <div className={css.item}>\n                    <div className={css.pic} />\n                    <div className={css.section} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Loader;\n","// @flow\nimport React, {useEffect, useState, Fragment} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useParams} from 'react-router';\nimport Button from '../../Button';\nimport Modal from '../../Modal';\nimport SearchField from '../../SearchField';\nimport CheckboxField from '../../CheckboxField';\nimport StackListItem from '../../stack/ListItem';\nimport Loader from './Loader';\nimport css from './style.module.css';\n\ntype Props = {\n    currentUser?: string,\n    isShow?: boolean,\n    stacks?: Array<{}>,\n    loading?: boolean,\n    fetchList: Function,\n    onAddStacks?: Function,\n    onClose: Function,\n}\n\nconst AddStacksModal = ({\n    stacks = [],\n    loading,\n    isShow,\n    onClose,\n    onAddStacks,\n    currentUser,\n    user,\n}: Props) => {\n    const {t} = useTranslation();\n    const params = useParams();\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selected, setSelected] = useState([]);\n\n    useEffect(() => {\n        if (!isShow) {\n            setSelected([]);\n            setSearchQuery('');\n        }\n    }, [isShow]);\n\n    const getItems = () => {\n        let items = [];\n\n        if (stacks && stacks.length) {\n            if (searchQuery.length)\n                items = stacks.filter(i => i.name.indexOf(searchQuery) >= 0);\n            else\n                items = stacks;\n        }\n\n        return items;\n    };\n\n    const items = getItems();\n\n    const onChangeSearch = value => setSearchQuery(value);\n\n    const getFullStackName = stack => `${stack.user}/${stack.name}`;\n\n    const isChecked = stack => {\n        const stackName = getFullStackName(stack);\n\n        return selected.findIndex(i => i === stackName) >= 0;\n    };\n\n    const getOnClickStack = stack => () => {\n        const stackName = getFullStackName(stack);\n\n        if (isChecked(stack)) {\n            const filtered = selected.filter(i => i !== stackName);\n\n            setSelected(filtered);\n        } else {\n            setSelected([\n                ...selected,\n                stackName,\n            ]);\n        }\n    };\n\n    const submit = () => {\n        if (onAddStacks)\n            onAddStacks(selected);\n\n        onClose();\n    };\n\n    return (\n        <Modal\n            dialogClassName={css.stacks}\n            isShow={isShow}\n            title={t('selectStacks')}\n            onClose={onClose}\n            withCloseButton\n        >\n            {!loading && Boolean(stacks.length) && (\n                <SearchField\n                    className={css.search}\n                    isDark\n                    size=\"middle\"\n                    showEverything\n                    placeholder={t('findStack')}\n                    value={searchQuery}\n                    onChange={onChangeSearch}\n                />\n            )}\n\n            {loading && <Loader />}\n\n            {!loading && !stacks.length && (\n                <div className={css.message}>\n                    {user === currentUser\n                        ? t('youHaveNoStacksYet')\n                        : t('theUserHasNoStacksYetByName', {name: params.user})\n                    }\n                </div>\n            )}\n\n            {!loading && Boolean(stacks.length && !items.length) && (\n                <div className={css.text}>\n                    {t('noStacksAreFoundedMatchedTheSearchCriteria')}\n                </div>\n            )}\n\n            {!loading && Boolean(stacks.length && items.length) && (\n                <Fragment>\n                    <div className={css.grid}>\n                        {items.map((item, index) => (\n                            <div className={css.item} key={index} onClick={getOnClickStack(item)}>\n                                <CheckboxField\n                                    className={css.checkbox}\n                                    value={isChecked(item)}\n                                    readOnly\n                                />\n\n                                <StackListItem\n                                    data={item}\n                                    otherOwner={params.user !== item.user}\n                                />\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className={css.buttons}>\n                        <Button\n                            className={css.button}\n                            color=\"primary\"\n                            variant=\"contained\"\n                            disabled={!selected.length}\n                            onClick={submit}\n                        >\n                            {t('addSelectedStacks')}\n                        </Button>\n\n                        <Button\n                            className={css.button}\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={onClose}\n                        >\n                            {t('cancel')}\n                        </Button>\n                    </div>\n                </Fragment>\n\n            )}\n        </Modal>\n    );\n};\n\nexport default AddStacksModal;\n","import React from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {useTranslation} from 'react-i18next';\nimport cx from 'classnames';\nimport routes from 'routes';\nimport Button from '../../../Button';\nimport logo from 'assets/logo.svg';\nimport css from './styles.module.css';\n\ntype Props = {\n    className?: string,\n}\n\nconst Header = ({className, history: {push}}: Props) => {\n    const {t} = useTranslation();\n    const logIn = () => push(routes.authLogin());\n\n    return <div className={cx(css.header, className)}>\n        <Link to=\"/\" className={css.logo}>\n            <img width=\"129\" height=\"35\" src={logo} alt=\"logo\"/>\n        </Link>\n\n        <div className={css.buttons}>\n            <Button\n                className={css.button}\n                color=\"primary\"\n                onClick={logIn}\n            >{t('logIn')}</Button>\n        </div>\n    </div>;\n};\n\nexport default withRouter(Header);\n","import React from 'react';\nimport Header from './Header';\nimport css from './styles.module.css';\n\nconst UnAuthorizedLayout = ({children}) => {\n    return (\n        <div className={css.layout}>\n            <Header className={css.header} />\n\n            <div className={css.main}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default UnAuthorizedLayout;\n"],"names":["DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","USER_DATA_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACKS_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","DISCORD_URL","TWITTER_URL","GITHUB_URL","BLOG_URL","CONFIGURE_PYTHON_COMMAND","token","origin","window","location","CONFIGURE_R_COMMAND","AccessForbidden","children","React","css","forbidden","image","message","Avatar","forwardRef","ref","className","name","color","size","withBorder","onClick","cx","avatar","border","slice","BackButton","Component","props","back","COLORS","white","blue","Spinner","isShown","align","spinner","show","Button","variant","fullWidth","isShowSpinner","button","CheckboxField","value","disabled","appearance","label","onLabel","offLabel","checkbox","__html","wrapper","mark","Copy","copyText","successMessage","buttonTitle","useTranslation","t","useState","isShowMessage","setIsShowMessage","onCLick","copy","setTimeout","icon","CodeViewer","language","fontSize","code","Dropdown","buttonClassName","items","isShow","setIsShow","buttonRef","useRef","dropdownRef","useEffect","document","body","addEventListener","outlineClickHandle","removeEventListener","event","targetElement","target","current","parentNode","onCLickButton","clickStopPropagation","stopPropagation","preventDefault","onCLickItem","item","dropdown","active","offset","menu","map","i","index","title","cloneElement","unicodeBase64Decode","text","decodeData","atob","decodeURIComponent","Array","prototype","call","c","charCodeAt","toString","join","e","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","attachments","fields","length","forEach","Object","keys","params","key","options","push","type","filter","a","b","indexOf","min","apply","max","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","error","FileDragnDrop","formats","loading","progressPercent","onChange","inputRef","setActive","selectedFile","setSelectedFile","isDidMount","click","preventStop","onDrop","dataTransfer","files","checkAvailableExtension","onDragEnter","onDragLeave","onChangeInput","removeFile","ext","pop","isAvailable","some","format","dnd","progressBar","progress","width","fileExtend","fileSection","fileName","fileSize","fileRemove","placeholder","Boolean","Loader","loader","grid","pic","section","MarkdownRender","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","Modal","dialogClassName","onClose","withCloseButton","onClickByLayer","currentTarget","modal","dialog","close","NotFound","help","config","ProgressBar","isActive","globalProgress","setProgress","setWidth","prevIsActive","usePrevious","step","currentProgress","requestFrame","startCalculateProgress","cancelAnimationFrame","onResize","offsetWidth","requestAnimationFrame","calculateProgress","useCallback","round","atan","PI","bar","backgroundSize","TextField","errors","hasErrors","field","input","SearchField","showEverything","isDark","clear","onChangeHandle","search","allValue","SelectField","propValue","mode","showSearch","o","onSelect","onDeselect","renderOptions","CustomHandle","style","left","transform","SliderField","slider","StackFilters","form","filters","select","isArray","StretchTitleField","onChangeProp","set","hidden","Tabs","tabs","tab","soon","TextAreaField","textarea","Tooltip","overlayContent","arrowContent","placement","trigger","overlayStyle","tooltip","ViewSwitcher","stateValue","setStateValue","toggleValue","newValue","switcher","Yield","getElementById","Table","data","captions","rows","table","caption","row","cell","callBack","deps","rootMargin","threshold","root","intersectionCallback","isIntersecting","observer","IntersectionObserver","observe","unobserve","FETCH","FETCH_SUCCESS","FETCH_FAIL","initialState","requestStatus","reducer","state","action","actionsTypes","meta","payload","StateContext","createContext","StateProvider","apiUrl","useReducer","useStateValue","useContext","dispatch","fetchAttachment","onSuccess","localStorage","getItem","axios","baseURL","url","headers","Authorization","request","attachment","JSON","parse","_get","console","base64ToJSON","base64","parsedJSON","base64ImagePrefixes","isImageType","test","Attachment","isList","withLoader","actions","get","tableScale","setTableScale","loadingFullAttachment","setLoadingFullAttachment","fullAttachment","setFullAttachment","viewRef","prevAttachment","onResizeCard","fetchFullAttachment","baseUrl","isEqual","preview","useIntersectionObserver","Bokeh","json","querySelector","embed","embed_item","containerWidth","viewWidth","newScale","renderImage","renderCSV","decodeCSV","CSV","renderPlotly","layout","margin","autosize","responsive","height","renderBokeh","renderAttachment","undefined","view","Item","deleteAction","otherOwner","renderContent","rest","previewWrap","head","user","emptyMessage","content","by","reportPlotPythonCode","installRPackageCode","reportPlotRCode","HowTo","activeCodeTab","setActiveCodeTab","activePlatformTab","setActivePlatformTab","howto","description","footer","href","List","deleteStack","currentUser","currentUserToken","renderSideTitle","renderItemContent","deletingStack","setDeletingStack","isShowWelcomeModal","setIsShowWelcomeModal","isShowHowToModal","setIsShowHowToModal","setSearch","isInitialMount","showWelcomeModal","onChangeSearch","hideWelcomeModal","setItem","showHowToModal","hideHowToModal","deleteItem","hideDeleteConfirmation","showDeleteConfirmation","getItems","list","side","StackHowTo","count","mobileSearch","StackListItem","Link","buttons","pullPythonCode","p","isString","pullRCode","modalMode","handler","listener","contains","getFrameName","frame","moment","timestamp","Frames","frames","headId","onMarkAsHead","isShowDropdown","setIsShowDropdown","toggleDropdown","frameForMarkingAsHead","setFrameForMarkingAsHead","useOnClickOutside","activeFrame","find","f","onClickItem","onClickMarkAsHead","hideConfirmation","confirmMarkFrameAsHead","info","diagram","isEmail","isRequired","noSpaces","isValidStackName","validationMap","required","email","getValidationFunction","validator","initialFormState","fieldsValidators","setForm","formErrors","setFormErrors","eventOrName","fieldValue","checked","resetForm","getFieldErrors","fieldName","isValid","checkValidForm","newFormErrors","Details","currentFrameId","onChangeHeadFrame","attachmentIndex","onChangeAttachmentIndex","downloadAttachment","onChangeFrame","toggleUpload","backUrl","renderHeader","renderSideHeader","didMountRef","useForm","setFields","prevFrame","parseParams","findAttach","attach","valid","findAttachDebounce","_debounce","parseStackParams","renderFields","hasSelectField","onClickDownloadAttachment","details","header","sideHeader","StackFrames","revisions","StackAttachment","StackHowToFetchData","callback","depsOrDelay","delay","MB","Upload","refresh","withButton","isShowModal","setIsShowModal","uploading","setUploading","setFile","runValidation","useDebounce","toggleModal","closeHandle","getErrorsText","submit","method","put","onUploadProgress","progressEvent","percentCompleted","loaded","total","Date","now","v4","fileToBaseTo64","upload","subtitle","dragndrop","move","array","oldIndex","newIndex","splice","moveElement","GridContext","GridProvider","setItems","setState","moveItem","sourceId","destinationId","sourceIndex","findIndex","destinationIndex","render","DnDItem","memo","onMoveItem","useDrag","collect","monitor","isDragging","connectDrag","useDrop","accept","drop","hoveredOverItem","connectDrop","Children","child","forwardedRef","Card","deleteCard","updateCardTitle","moveAvailable","setTitle","stackOwner","setAttachmentIndex","cardParams","setCardParams","onUpdate","onChangeTitle","card","inner","readonly","nameValue","nameEdit","infoTime","link","addCards","cards","deleteDashboard","updateCard","withSorting","DnDGridContext","setView","prevData","onChangeTitleDebounce","setGridItems","cardsItems","dispatchEvent","Event","moveCard","indexFrom","indexTo","getDeleteCardAction","getUpdateCardTitleAction","reduce","cardFields","unionBy","defaultFilterValues","renderFilters","getAddClickAction","CardWrapComponent","Fragment","edit","controls","addButton","viewSwitcher","empty","dashboard","hasStacks","onClickDelete","addDashboard","addDashboardDisable","add","DashboardListItem","AddStacksModal","stacks","onAddStacks","useParams","searchQuery","setSearchQuery","selected","setSelected","getFullStackName","isChecked","stackName","getOnClickStack","filtered","Header","history","logIn","routes","authLogin","logo","withRouter","UnAuthorizedLayout","main"],"mappings":"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"}