{"version":3,"file":"utils.js","sources":["../src/utils/parseSearch.js","../src/utils/getDataFailedRequest.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/downloadFile.js","../src/utils/parseStackParams.js","../src/utils/parseStackTabs.js","../src/utils/getFormattedDuration.js","../src/utils/fileToBaseTo64.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/config/index.js","../src/utils/dataFetcher.js","../src/utils.js"],"sourcesContent":["const parseSearch = searchString => {\n    const search = searchString.substring(1);\n\n    let params = {};\n\n    if (!search.length)\n        return params;\n\n    try {\n        params = JSON.parse(\n            '{\"'\n            + decodeURIComponent(search).replace(/\"/g, '\\\\\"')\n                .replace(/&/g, '\",\"')\n                .replace(/=/g, '\":\"')\n            + '\"}');\n    } catch (e) {\n        params = {};\n    }\n\n    return params;\n};\n\nexport default parseSearch;","import {get as _get} from 'lodash-es';\n\nconst getDataFailedRequest = responseError => {\n    let error = 'Unknown error';\n\n    try {\n        error = JSON.parse(_get(responseError, 'request.response')).message;\n    } catch (e) {\n        console.log(error, e);\n    }\n\n    const requestStatus = _get(responseError, 'request.status');\n\n    return {error, requestStatus};\n};\n\nexport default getDataFailedRequest;","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","const downloadFile = ({url, blob, type, fileName}) => {\n    if (blob) {\n        const\n            link = document.createElement('a');\n\n        link.href = window.URL.createObjectURL(new Blob([blob]));\n        link.setAttribute('target', '_blank');\n        link.setAttribute('download', fileName);\n        link.setAttribute('type', type);\n\n        document.body.appendChild(link);\n        link.click();\n        link.parentNode.removeChild(link);\n    }\n\n    if (url) {\n        const\n            link = document.createElement('a');\n\n        link.href = url;\n        link.setAttribute('target', '_blank');\n        link.setAttribute('download', true);\n\n        document.body.appendChild(link);\n        link.click();\n        link.parentNode.removeChild(link);\n    }\n};\n\nexport default downloadFile;","export default attachments => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object)\n                return;\n\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};\n","export default attachments => {\n    const tabs = [];\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object\n                && i.params[key].type === 'tab'\n            ) {\n                const tab = i.params[key].title || key;\n\n                if (!tabs.find(i => i.value === tab))\n                    tabs.push({\n                        label: tab,\n                        value: tab,\n                        key,\n                    });\n            }\n        });\n    });\n\n    return tabs;\n};\n","import moment from 'moment';\n\nexport default duration => {\n    if (duration < 1000)\n        return '0sec';\n\n    let string = '';\n\n    const momentDuration = moment.duration(duration);\n    const hours = momentDuration.hours();\n    const minutes = momentDuration.minutes();\n    const seconds = momentDuration.seconds();\n\n    if (hours)\n        string += `${moment.duration(hours, 'hours').as('hours')}h`;\n\n    if (minutes)\n        string += ` ${moment.duration(minutes, 'minutes').as('minutes')}min`;\n\n    if (seconds)\n        string += ` ${moment.duration(seconds, 'seconds').asSeconds()}sec`;\n\n    return string;\n};","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export default {\n    DOCS_URL: 'http://docs.dstack.ai',\n\n    LOGIN_URL: '/users/login',\n    VERIFY_EMAIL_URL: '/users/verify',\n    SUPPORT_URL: '/support/submit',\n    SIGN_UP_URL: '/users/register',\n    RESET_PASSWORD_URL: '/users/reset',\n    UPDATE_PASSWORD_URL: '/users/update/password',\n\n    USER_DATA_URL: '/users/remember',\n    UPDATE_TOKEN_URL: '/users/update/token',\n    UPDATE_SETTINGS_URL: '/users/update/settings',\n    CHECK_USER: userName => `/users/exists/${userName}`,\n\n    STACKS_LIST: userName => `/stacks/${userName}`,\n    DELETE_STACK: () => '/stacks/delete',\n    STACK_DETAILS: (userName, stack) => `/stacks/${userName}/${stack}`,\n    STACK_FRAME: (userName, stack, frameId) => `/frames/${userName}/${stack}/${frameId}`,\n    STACK_ATTACHMENT: (stack, frameId, id) => `/attachs/${stack}/${frameId}/${id}`,\n    STACK_UPDATE: '/stacks/update',\n    STACK_PUSH: '/stacks/push',\n\n    DASHBOARD_LIST: userName => `/dashboards/${userName}`,\n    DASHBOARD_DETAILS: (userName, id) => `/dashboards/${userName}/${id}`,\n    DASHBOARD_CREATE: '/dashboards/create',\n    DASHBOARD_UPDATE: '/dashboards/update',\n    DASHBOARD_DELETE: '/dashboards/delete',\n    DASHBOARD_CARDS_INSERT: '/dashboards/cards/insert',\n    DASHBOARD_CARDS_UPDATE: '/dashboards/cards/update',\n    DASHBOARD_CARDS_DELETE: '/dashboards/cards/delete',\n\n    JOB_LIST: userName => `/jobs/${userName}`,\n    JOB_DETAILS: (userName, id) => `/jobs/${userName}/${id}`,\n    JOB_CREATE: '/jobs/create',\n    JOB_UPDATE: '/jobs/update',\n    JOB_DELETE: '/jobs/delete',\n    JOB_RUN: '/jobs/run',\n    JOB_STOP: '/jobs/stop',\n\n    DISCORD_URL: 'https://discord.gg/8xfhEYa',\n    TWITTER_URL: 'https://twitter.com/dstackai',\n    GITHUB_URL: 'https://github.com/dstackai',\n    BLOG_URL: 'https://blog.dstack.ai',\n\n    TOKEN_STORAGE_KEY: 'token',\n};\n\nexport const reportPlotPythonCode = `import matplotlib.pyplot as plt\nimport dstack as ds\n\nfig = plt.figure()\nplt.plot([1, 2, 3, 4], [1, 4, 9, 16])\n\nds.push_frame(\"simple\", fig, \"My first plot\")`;\n\nexport const installRPackageCode = 'install.packages(\"dstack\")';\n\nexport const reportPlotRCode = `library(ggplot2)\nlibrary(dstack)\n\ndf <- data.frame(x = c(1, 2, 3, 4), y = c(1, 4, 9, 16))\nimage <- ggplot(data = df, aes(x = x, y = y)) + geom_line()\n\npush_frame(\"simple\", image, \"My first plot\")`;\n","import axios from 'axios';\nimport {get as _get} from 'lodash-es';\nimport config from '../config';\n\nconst fetcher = async (url: string, responseDataFormat = data => data) => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    try {\n        const request = await axios({\n            url: url,\n            headers: {Authorization: token ? `Bearer ${token}` : ''},\n        });\n\n        return responseDataFormat(request.data);\n    } catch (e) {\n        let errorBody = null;\n\n        let status = null;\n\n        try {\n            errorBody = JSON.parse(_get(e, 'request.response'));\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            status = _get(e, 'request.status');\n        } catch (e) {\n            console.log(e);\n        }\n\n        const error = new Error('An error occurred while fetching the data.');\n\n        error.info = errorBody;\n        error.status = status;\n        throw error;\n    }\n};\n\nexport default fetcher;\n","import parseSearch from './utils/parseSearch';\nimport getDataFailedRequest from './utils/getDataFailedRequest';\nimport unicodeBase64Decode from './utils/unicodeBase64Decode';\nimport formatBytes from './utils/formatBytesSize';\nimport downloadFile from './utils/downloadFile';\nimport parseStackParams from './utils/parseStackParams';\nimport parseStackTabs from './utils/parseStackTabs';\nimport getFormattedDuration from './utils/getFormattedDuration';\nimport fileToBaseTo64 from './utils/fileToBaseTo64';\nimport dataFetcher from './utils/dataFetcher';\nimport config from './config';\n\nconst isSignedIn = () => {\n    const token = localStorage.getItem(config.TOKEN_STORAGE_KEY);\n\n    return Boolean(token && token.length);\n};\n\nexport {\n    isSignedIn,\n    downloadFile,\n    formatBytes,\n    parseSearch,\n    getDataFailedRequest,\n    unicodeBase64Decode,\n    parseStackParams,\n    parseStackTabs,\n    getFormattedDuration,\n    fileToBaseTo64,\n    dataFetcher\n};\n"],"names":["parseSearch","searchString","search","substring","params","length","JSON","parse","decodeURIComponent","replace","e","getDataFailedRequest","responseError","error","_get","message","console","log","requestStatus","unicodeBase64Decode","text","decodeData","window","atob","Array","prototype","map","call","c","charCodeAt","toString","slice","join","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","downloadFile","url","blob","type","fileName","link","document","createElement","href","URL","createObjectURL","Blob","setAttribute","body","appendChild","click","parentNode","removeChild","attachments","fields","forEach","Object","keys","key","options","push","filter","a","b","indexOf","label","value","min","apply","max","tabs","tab","title","find","duration","string","momentDuration","moment","hours","minutes","seconds","as","asSeconds","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","DOCS_URL","LOGIN_URL","VERIFY_EMAIL_URL","SUPPORT_URL","SIGN_UP_URL","RESET_PASSWORD_URL","UPDATE_PASSWORD_URL","USER_DATA_URL","UPDATE_TOKEN_URL","UPDATE_SETTINGS_URL","CHECK_USER","userName","STACKS_LIST","DELETE_STACK","STACK_DETAILS","stack","STACK_FRAME","frameId","STACK_ATTACHMENT","id","STACK_UPDATE","STACK_PUSH","DASHBOARD_LIST","DASHBOARD_DETAILS","DASHBOARD_CREATE","DASHBOARD_UPDATE","DASHBOARD_DELETE","DASHBOARD_CARDS_INSERT","DASHBOARD_CARDS_UPDATE","DASHBOARD_CARDS_DELETE","JOB_LIST","JOB_DETAILS","JOB_CREATE","JOB_UPDATE","JOB_DELETE","JOB_RUN","JOB_STOP","DISCORD_URL","TWITTER_URL","GITHUB_URL","BLOG_URL","TOKEN_STORAGE_KEY","fetcher","responseDataFormat","data","token","localStorage","getItem","config","axios","headers","Authorization","request","errorBody","status","Error","info","isSignedIn","Boolean"],"mappings":"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"}